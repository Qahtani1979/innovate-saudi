{
  "name": "Municipality",
  "type": "object",
  "properties": {
    "name_ar": {
      "type": "string",
      "description": "Municipality name in Arabic"
    },
    "name_en": {
      "type": "string",
      "description": "Municipality name in English"
    },
    "region": {
      "type": "string",
      "description": "Region/Province"
    },
    "region_id": {
      "type": "string",
      "description": "Reference to Region entity"
    },
    "city_type": {
      "type": "string",
      "enum": [
        "metropolitan",
        "major",
        "medium",
        "small"
      ],
      "description": "City classification"
    },
    "population": {
      "type": "number",
      "description": "Population size"
    },
    "coordinates": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      },
      "description": "City center coordinates"
    },
    "logo_url": {
      "type": "string",
      "description": "Municipality logo"
    },
    "image_url": {
      "type": "string",
      "description": "Main city image"
    },
    "banner_url": {
      "type": "string",
      "description": "Banner/hero image"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "City gallery images"
    },
    "mii_score": {
      "type": "number",
      "description": "Municipal Innovation Index score (0-100)"
    },
    "mii_rank": {
      "type": "number",
      "description": "National ranking"
    },
    "contact_person": {
      "type": "string",
      "description": "Innovation focal point"
    },
    "contact_email": {
      "type": "string",
      "description": "Contact email"
    },
    "contact_phone": {
      "type": "string"
    },
    "website": {
      "type": "string"
    },
    "active_challenges": {
      "type": "number",
      "default": 0
    },
    "active_pilots": {
      "type": "number",
      "default": 0
    },
    "completed_pilots": {
      "type": "number",
      "default": 0
    },
    "strategic_plan_id": {
      "type": "string",
      "description": "Reference to current strategic plan"
    },
    "is_verified": {
      "type": "boolean",
      "default": false
    },
    "verification_date": {
      "type": "string",
      "format": "date"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "deactivation_date": {
      "type": "string",
      "format": "date"
    },
    "deactivation_reason": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_ar",
    "name_en",
    "region"
  ]
}
{
  "name": "Challenge",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique challenge code (e.g., CH-RUH-2025-035)"
    },
    "title_ar": {
      "type": "string",
      "description": "Challenge title in Arabic"
    },
    "title_en": {
      "type": "string",
      "description": "Challenge title in English"
    },
    "tagline_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string",
      "description": "Full challenge description in Arabic"
    },
    "description_en": {
      "type": "string",
      "description": "Full challenge description in English"
    },
    "problem_statement_ar": {
      "type": "string",
      "description": "Problem statement in Arabic"
    },
    "problem_statement_en": {
      "type": "string",
      "description": "Problem statement in English"
    },
    "current_situation_ar": {
      "type": "string",
      "description": "Current situation in Arabic"
    },
    "current_situation_en": {
      "type": "string",
      "description": "Current situation in English"
    },
    "desired_outcome_ar": {
      "type": "string",
      "description": "Desired outcome in Arabic"
    },
    "desired_outcome_en": {
      "type": "string",
      "description": "Desired outcome in English"
    },
    "innovation_framing": {
      "type": "object",
      "properties": {
        "hmw_questions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "en": {
                "type": "string"
              },
              "ar": {
                "type": "string"
              }
            }
          },
          "description": "How Might We questions to frame opportunity"
        },
        "what_if_scenarios": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "en": {
                "type": "string"
              },
              "ar": {
                "type": "string"
              }
            }
          },
          "description": "What If scenarios for innovation exploration"
        },
        "guiding_questions": {
          "type": "object",
          "properties": {
            "for_startups": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "en": {
                    "type": "string"
                  },
                  "ar": {
                    "type": "string"
                  }
                }
              }
            },
            "for_researchers": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "en": {
                    "type": "string"
                  },
                  "ar": {
                    "type": "string"
                  }
                }
              }
            },
            "technology_opportunities": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "en": {
                    "type": "string"
                  },
                  "ar": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "description": "Innovation-framing questions to transform problems into opportunities"
    },
    "embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Vector embedding for semantic search (768 dimensions)"
    },
    "embedding_model": {
      "type": "string",
      "description": "Model used for embedding generation"
    },
    "embedding_generated_date": {
      "type": "string",
      "format": "date-time",
      "description": "When embedding was generated"
    },
    "root_cause_ar": {
      "type": "string",
      "description": "Root cause in Arabic"
    },
    "root_cause_en": {
      "type": "string",
      "description": "Root cause in English"
    },
    "root_causes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of identified root causes"
    },
    "theme": {
      "type": "string",
      "description": "Challenge theme/category"
    },
    "keywords": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Keywords for AI matching"
    },
    "challenge_type": {
      "type": "string",
      "enum": [
        "service_quality",
        "infrastructure",
        "efficiency",
        "innovation",
        "safety",
        "environmental",
        "digital_transformation",
        "other"
      ],
      "description": "Type of challenge"
    },
    "category": {
      "type": "string",
      "description": "Specific challenge category"
    },
    "challenge_owner": {
      "type": "string",
      "description": "Name of person responsible"
    },
    "challenge_owner_email": {
      "type": "string",
      "description": "Email of person responsible for this challenge"
    },
    "reviewer": {
      "type": "string",
      "description": "Assigned reviewer email (workflow-controlled)"
    },
    "ministry_service": {
      "type": "string",
      "description": "Related ministry service"
    },
    "responsible_agency": {
      "type": "string",
      "description": "Responsible government agency"
    },
    "department": {
      "type": "string",
      "description": "Specific department within organization"
    },
    "source": {
      "type": "string",
      "description": "Origin of challenge (e.g., citizen complaint, survey)"
    },
    "strategic_goal": {
      "type": "string",
      "description": "Related strategic goal"
    },
    "entry_date": {
      "type": "string",
      "format": "date",
      "description": "Date challenge was entered (auto-set on creation)"
    },
    "processing_date": {
      "type": "string",
      "format": "date",
      "description": "Date challenge processing started (workflow-controlled)"
    },
    "related_questions_count": {
      "type": "number",
      "default": 0,
      "description": "Number of related questions"
    },
    "municipality_id": {
      "type": "string",
      "description": "Reference to Municipality"
    },
    "city_id": {
      "type": "string",
      "description": "Reference to City"
    },
    "region_id": {
      "type": "string",
      "description": "Reference to Region"
    },
    "coordinates": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      },
      "description": "Geographic coordinates for location-based challenges"
    },
    "sector": {
      "type": "string",
      "enum": [
        "urban_design",
        "transport",
        "environment",
        "digital_services",
        "health",
        "education",
        "safety",
        "economic_development",
        "social_services",
        "other"
      ],
      "description": "Main sector/domain"
    },
    "sector_id": {
      "type": "string",
      "description": "Reference to Sector entity"
    },
    "sub_sector": {
      "type": "string",
      "description": "Sub-sector or sub-domain"
    },
    "subsector_id": {
      "type": "string",
      "description": "Reference to Subsector entity"
    },
    "service_id": {
      "type": "string",
      "description": "Reference to Service entity - the specific municipal service affected"
    },
    "affected_services": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of service IDs affected by this challenge"
    },
    "priority": {
      "type": "string",
      "enum": [
        "tier_1",
        "tier_2",
        "tier_3",
        "tier_4"
      ],
      "default": "tier_3"
    },
    "severity_score": {
      "type": "number",
      "description": "AI-calculated severity (0-100)"
    },
    "impact_score": {
      "type": "number",
      "description": "Expected impact (0-100)"
    },
    "overall_score": {
      "type": "number"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "under_review",
        "approved",
        "in_treatment",
        "resolved",
        "archived"
      ],
      "default": "draft",
      "description": "Workflow-controlled status"
    },
    "tracks": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "pilot",
          "r_and_d",
          "program",
          "procurement",
          "policy"
        ]
      },
      "description": "Multiple treatment tracks (challenge can use multiple approaches)"
    },
    "affected_population_size": {
      "type": "number",
      "description": "Estimated number of people affected"
    },
    "budget_estimate": {
      "type": "number",
      "description": "Estimated budget to address (SAR)"
    },
    "timeline_estimate": {
      "type": "string",
      "description": "Estimated timeline (e.g., 6 months, 1 year)"
    },
    "constraints": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        }
      },
      "description": "Constraints and limitations"
    },
    "is_confidential": {
      "type": "boolean",
      "default": false,
      "description": "Whether this challenge contains sensitive information"
    },
    "is_published": {
      "type": "boolean",
      "default": false,
      "description": "Whether challenge is published to public/provider portals"
    },
    "publishing_approved_by": {
      "type": "string",
      "description": "Email of user who approved publishing"
    },
    "publishing_approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "strategic_plan_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "References to StrategicPlan objectives this addresses"
    },
    "escalation_level": {
      "type": "number",
      "description": "SLA escalation level (0=none, 1=warning, 2=critical)",
      "default": 0
    },
    "escalation_date": {
      "type": "string",
      "format": "date-time",
      "description": "When escalation was triggered"
    },
    "sla_due_date": {
      "type": "string",
      "format": "date",
      "description": "SLA deadline for review/resolution"
    },
    "citizen_votes_count": {
      "type": "number",
      "default": 0,
      "description": "Public votes for priority"
    },
    "view_count": {
      "type": "number",
      "default": 0
    },
    "affected_population": {
      "type": "object",
      "properties": {
        "size": {
          "type": "number"
        },
        "demographics": {
          "type": "string"
        },
        "location": {
          "type": "string"
        }
      }
    },
    "kpis": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "baseline": {
            "type": "string"
          },
          "target": {
            "type": "string"
          }
        }
      }
    },
    "stakeholders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "involvement": {
            "type": "string"
          }
        }
      }
    },
    "data_evidence": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "source": {
            "type": "string"
          },
          "value": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "ai_summary": {
      "type": "string"
    },
    "ai_suggestions": {
      "type": "object",
      "properties": {
        "recommended_track": {
          "type": "string"
        },
        "potential_solutions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "similar_cases": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "risk_factors": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "treatment_plan": {
      "type": "object",
      "description": "Treatment plan and milestones",
      "properties": {
        "approach": {
          "type": "string"
        },
        "milestones": {
          "type": "array",
          "items": {
            "type": "object"
          }
        },
        "assigned_to": {
          "type": "string"
        }
      }
    },
    "lessons_learned": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "category": {
            "type": "string"
          },
          "lesson": {
            "type": "string"
          },
          "recommendation": {
            "type": "string"
          }
        }
      }
    },
    "linked_pilot_ids": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "linked_rd_ids": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "linked_program_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Programs addressing this challenge"
    },
    "image_url": {
      "type": "string"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_archived": {
      "type": "boolean",
      "default": false
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "submission_date": {
      "type": "string",
      "format": "date",
      "description": "Workflow-controlled submission date"
    },
    "review_assigned_to": {
      "type": "string",
      "description": "Workflow-controlled reviewer assignment"
    },
    "review_date": {
      "type": "string",
      "format": "date",
      "description": "Workflow-controlled review date"
    },
    "approval_date": {
      "type": "string",
      "format": "date",
      "description": "Workflow-controlled approval date"
    },
    "resolution_date": {
      "type": "string",
      "format": "date",
      "description": "Workflow-controlled resolution date"
    },
    "archive_date": {
      "type": "string",
      "format": "date",
      "description": "Workflow-controlled archive date"
    },
    "citizen_origin_idea_id": {
      "type": "string",
      "description": "If converted from citizen idea, reference to CitizenIdea"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string",
      "description": "Reference to previous version for audit trail"
    }
  },
  "required": [
    "title_en",
    "municipality_id",
    "sector"
  ]
}
{
  "name": "Solution",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique solution code"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "tagline_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Vector embedding for semantic search (768 dimensions)"
    },
    "embedding_model": {
      "type": "string",
      "description": "Model used for embedding generation"
    },
    "embedding_generated_date": {
      "type": "string",
      "format": "date-time",
      "description": "When embedding was generated"
    },
    "workflow_stage": {
      "type": "string",
      "enum": [
        "draft",
        "verification_pending",
        "under_review",
        "verified",
        "rejected",
        "published"
      ],
      "default": "draft",
      "description": "Current workflow stage"
    },
    "verification_status": {
      "type": "string",
      "enum": [
        "pending",
        "in_progress",
        "approved",
        "rejected",
        "revision_requested"
      ],
      "default": "pending",
      "description": "Verification status"
    },
    "reviewer_assigned_to": {
      "type": "string",
      "description": "Email of assigned reviewer/expert"
    },
    "sla_due_date": {
      "type": "string",
      "format": "date-time",
      "description": "SLA deadline for current stage"
    },
    "escalation_level": {
      "type": "number",
      "default": 0,
      "description": "0=none, 1=warning, 2=critical"
    },
    "submission_date": {
      "type": "string",
      "format": "date-time",
      "description": "When submitted for verification"
    },
    "verification_date": {
      "type": "string",
      "format": "date-time",
      "description": "When verified"
    },
    "publishing_date": {
      "type": "string",
      "format": "date-time",
      "description": "When published to marketplace"
    },
    "provider_id": {
      "type": "string"
    },
    "provider_name": {
      "type": "string"
    },
    "provider_type": {
      "type": "string",
      "enum": [
        "startup",
        "sme",
        "corporate",
        "university",
        "research_center",
        "government",
        "ngo"
      ]
    },
    "source_program_id": {
      "type": "string",
      "description": "Reference to Program if solution came from program graduate"
    },
    "source_rd_project_id": {
      "type": "string",
      "description": "Reference to RDProject if solution came from R&D commercialization"
    },
    "source_idea_id": {
      "type": "string",
      "description": "Reference to CitizenIdea if solution originated from citizen idea"
    },
    "sectors": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "categories": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "maturity_level": {
      "type": "string",
      "enum": [
        "concept",
        "prototype",
        "pilot_ready",
        "market_ready",
        "proven"
      ]
    },
    "trl": {
      "type": "number",
      "description": "Technology Readiness Level (1-9)"
    },
    "trl_assessment": {
      "type": "object",
      "properties": {
        "level": {
          "type": "number"
        },
        "evidence": {
          "type": "string"
        },
        "assessed_by": {
          "type": "string"
        },
        "assessed_date": {
          "type": "string",
          "format": "date-time"
        },
        "ai_confidence": {
          "type": "number"
        }
      },
      "description": "Detailed TRL assessment"
    },
    "features": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "value_proposition": {
      "type": "string"
    },
    "use_cases": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "technical_specifications": {
      "type": "object"
    },
    "integration_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Technical integration requirements"
    },
    "pricing_model": {
      "type": "string"
    },
    "pricing_details": {
      "type": "object"
    },
    "deployment_options": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "cloud",
          "on_premise",
          "hybrid",
          "saas"
        ]
      }
    },
    "implementation_timeline": {
      "type": "string"
    },
    "support_services": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "certifications": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "compliance_certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "number": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "expiry_date": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "description": "Compliance and regulatory certifications"
    },
    "awards": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "deployments": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "deployment_count": {
      "type": "number",
      "default": 0
    },
    "last_deployed_date": {
      "type": "string",
      "format": "date",
      "description": "Most recent deployment date"
    },
    "deployment_success_rate": {
      "type": "number",
      "description": "Percentage of successful deployments (0-100)"
    },
    "success_rate": {
      "type": "number"
    },
    "case_studies": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "partnerships": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "contract_template_url": {
      "type": "string",
      "description": "Standard contract template for this solution"
    },
    "support_contact_email": {
      "type": "string",
      "description": "Support contact for deployed solutions"
    },
    "contact_name": {
      "type": "string"
    },
    "contact_email": {
      "type": "string"
    },
    "contact_phone": {
      "type": "string"
    },
    "website": {
      "type": "string"
    },
    "demo_url": {
      "type": "string"
    },
    "demo_video_url": {
      "type": "string",
      "description": "Demo video URL"
    },
    "video_url": {
      "type": "string"
    },
    "documentation_url": {
      "type": "string"
    },
    "api_documentation_url": {
      "type": "string"
    },
    "image_url": {
      "type": "string"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "brochure_url": {
      "type": "string"
    },
    "ratings": {
      "type": "object",
      "properties": {
        "average": {
          "type": "number"
        },
        "count": {
          "type": "number"
        },
        "breakdown": {
          "type": "object"
        }
      }
    },
    "average_rating": {
      "type": "number",
      "description": "Average rating (0-5)"
    },
    "total_reviews": {
      "type": "number",
      "default": 0,
      "description": "Total number of reviews"
    },
    "view_count": {
      "type": "number",
      "default": 0
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_published": {
      "type": "boolean",
      "default": true
    },
    "is_archived": {
      "type": "boolean",
      "default": false
    },
    "is_verified": {
      "type": "boolean",
      "default": false
    },
    "verification_notes": {
      "type": "string"
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string"
    },
    "challenges_discovered": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Challenge IDs from AI matching"
    },
    "interests_expressed_count": {
      "type": "number",
      "default": 0,
      "description": "Count from SolutionInterest entity"
    },
    "demos_requested_count": {
      "type": "number",
      "default": 0,
      "description": "Count from DemoRequest entity"
    },
    "proposals_submitted_count": {
      "type": "number",
      "default": 0,
      "description": "Count from ChallengeProposal entity"
    },
    "pilots_won_count": {
      "type": "number",
      "default": 0,
      "description": "Count from Pilot entity where solution_id matches"
    },
    "achievement_badges": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "single_pilot",
          "multi_city",
          "nationally_deployed",
          "proven_success"
        ]
      },
      "description": "Deployment achievement badges"
    }
  },
  "required": [
    "name_en",
    "provider_name",
    "provider_type"
  ]
}
{
  "name": "Pilot",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique pilot code (e.g., PLT-RUH-2025-001)"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "tagline_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "challenge_id": {
      "type": "string",
      "description": "Linked challenge"
    },
    "solution_id": {
      "type": "string",
      "description": "Linked solution"
    },
    "municipality_id": {
      "type": "string"
    },
    "city_id": {
      "type": "string"
    },
    "region_id": {
      "type": "string"
    },
    "living_lab_id": {
      "type": "string",
      "description": "Reference to LivingLab if using lab facilities"
    },
    "sandbox_id": {
      "type": "string",
      "description": "Reference to Sandbox if in regulatory sandbox"
    },
    "matchmaker_application_id": {
      "type": "string",
      "description": "Reference to MatchmakerApplication if pilot came from matchmaker partnership"
    },
    "source_program_id": {
      "type": "string",
      "description": "Reference to Program if pilot came from program project"
    },
    "source_rd_project_id": {
      "type": "string",
      "description": "Reference to RDProject if pilot is testing R&D output"
    },
    "sector": {
      "type": "string",
      "enum": [
        "urban_design",
        "transport",
        "environment",
        "digital_services",
        "health",
        "education",
        "safety",
        "economic_development",
        "social_services",
        "other"
      ]
    },
    "sub_sector": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "objective_ar": {
      "type": "string"
    },
    "objective_en": {
      "type": "string"
    },
    "hypothesis": {
      "type": "string",
      "description": "What is being tested/validated"
    },
    "methodology": {
      "type": "string"
    },
    "scope": {
      "type": "string"
    },
    "target_population": {
      "type": "object",
      "properties": {
        "size": {
          "type": "number"
        },
        "demographics": {
          "type": "string"
        },
        "location": {
          "type": "string"
        }
      }
    },
    "stage": {
      "type": "string",
      "enum": [
        "design",
        "approval_pending",
        "approved",
        "preparation",
        "active",
        "monitoring",
        "evaluation",
        "completed",
        "scaled",
        "terminated",
        "on_hold"
      ],
      "default": "design"
    },
    "timeline": {
      "type": "object",
      "properties": {
        "design_start": {
          "type": "string",
          "format": "date"
        },
        "submission_date": {
          "type": "string",
          "format": "date"
        },
        "approval_date": {
          "type": "string",
          "format": "date"
        },
        "prep_start": {
          "type": "string",
          "format": "date"
        },
        "pilot_start": {
          "type": "string",
          "format": "date"
        },
        "pilot_end": {
          "type": "string",
          "format": "date"
        },
        "evaluation_start": {
          "type": "string",
          "format": "date"
        },
        "evaluation_end": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "duration_weeks": {
      "type": "number"
    },
    "trl_start": {
      "type": "number",
      "description": "Technology Readiness Level at start (1-9)"
    },
    "trl_current": {
      "type": "number"
    },
    "trl_target": {
      "type": "number"
    },
    "budget": {
      "type": "number"
    },
    "budget_currency": {
      "type": "string",
      "default": "SAR"
    },
    "budget_spent": {
      "type": "number",
      "default": 0,
      "description": "Actual budget spent so far"
    },
    "budget_released": {
      "type": "number",
      "default": 0
    },
    "budget_approvals": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "budget_breakdown": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "resource_allocation": {
      "type": "object",
      "properties": {
        "personnel_count": {
          "type": "number"
        },
        "equipment": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "facilities": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "description": "Resources allocated to pilot"
    },
    "safety_incidents_count": {
      "type": "number",
      "default": 0
    },
    "kpis": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "team": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "stakeholders": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "risks": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "milestones": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "public_engagement": {
      "type": "object",
      "properties": {
        "community_sessions": {
          "type": "number"
        },
        "feedback_collected": {
          "type": "number"
        },
        "satisfaction_score": {
          "type": "number"
        }
      }
    },
    "media_coverage": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "outlet": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "url": {
            "type": "string"
          },
          "sentiment": {
            "type": "string",
            "enum": [
              "positive",
              "neutral",
              "negative"
            ]
          }
        }
      }
    },
    "pivot_count": {
      "type": "number",
      "default": 0,
      "description": "Number of pivots during execution"
    },
    "pivot_history": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "gate_approval_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "gate_name": {
            "type": "string"
          },
          "approval_date": {
            "type": "string",
            "format": "date"
          },
          "approved_by": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "approved",
              "rejected",
              "conditional"
            ]
          },
          "conditions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "description": "History of all gate approvals"
    },
    "success_probability": {
      "type": "number",
      "description": "AI-calculated success probability (0-100)"
    },
    "risk_level": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "ai_insights": {
      "type": "string"
    },
    "recommendation": {
      "type": "string",
      "enum": [
        "scale",
        "iterate",
        "pivot",
        "terminate",
        "pending"
      ]
    },
    "scaling_plan": {
      "type": "object"
    },
    "image_url": {
      "type": "string"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "video_url": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "is_flagship": {
      "type": "boolean",
      "default": false
    },
    "is_archived": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string"
    }
  },
  "required": [
    "title_en",
    "challenge_id",
    "municipality_id",
    "sector"
  ]
}
{
  "name": "Program",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique program code (e.g., PRG-2025-ACC-01)"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "tagline_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "program_type": {
      "type": "string",
      "enum": [
        "accelerator",
        "incubator",
        "hackathon",
        "challenge",
        "fellowship",
        "training",
        "matchmaker",
        "sandbox_wave",
        "other"
      ]
    },
    "workflow_stage": {
      "type": "string",
      "enum": [
        "planning",
        "design_complete",
        "launch_approval_pending",
        "applications_open",
        "selection_in_progress",
        "active",
        "mid_review_pending",
        "completion_review_pending",
        "completed",
        "archived"
      ],
      "default": "planning",
      "description": "Current workflow stage for gate tracking"
    },
    "operator_organization_id": {
      "type": "string"
    },
    "partner_organizations": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "sector_id": {
      "type": "string",
      "description": "Primary sector reference"
    },
    "subsector_id": {
      "type": "string",
      "description": "Primary subsector reference"
    },
    "service_focus_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Municipal services this program targets"
    },
    "focus_areas": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "objectives_ar": {
      "type": "string"
    },
    "objectives_en": {
      "type": "string"
    },
    "strategic_pillar_id": {
      "type": "string",
      "description": "Reference to national strategic pillar"
    },
    "strategic_objective_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "National strategic objectives this program addresses"
    },
    "strategic_plan_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Municipal strategic plans aligned with"
    },
    "strategic_priority_level": {
      "type": "string",
      "enum": [
        "tier_1",
        "tier_2",
        "tier_3",
        "tier_4"
      ],
      "description": "Strategic priority defined by strategy"
    },
    "mii_dimension_targets": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "MII dimensions this program aims to improve"
    },
    "strategic_kpi_contributions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "kpi_id": {
            "type": "string"
          },
          "target_improvement": {
            "type": "number"
          },
          "measurement_method": {
            "type": "string"
          }
        }
      },
      "description": "Strategic KPIs impacted by program"
    },
    "challenge_theme_alignment": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Challenge types this program addresses"
    },
    "taxonomy_weights": {
      "type": "object",
      "description": "Sector/service priority weights within program",
      "additionalProperties": true
    },
    "challenge_clusters_inspiration": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Challenge cluster IDs that inspired this program"
    },
    "idea_themes_inspiration": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Citizen idea themes that informed program design"
    },
    "solution_types_targeted": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Solution categories program accelerates"
    },
    "graduate_solutions_produced": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Solution IDs launched by graduates"
    },
    "graduate_pilots_launched": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Pilot IDs launched from program projects"
    },
    "partner_organizations_strategic": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "org_id": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "contribution": {
            "type": "string"
          }
        }
      },
      "description": "Strategic partners for program delivery"
    },
    "municipal_capacity_impact": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "municipality_id": {
            "type": "string"
          },
          "capacity_area": {
            "type": "string"
          },
          "baseline_score": {
            "type": "number"
          },
          "target_score": {
            "type": "number"
          },
          "current_score": {
            "type": "number"
          }
        }
      },
      "description": "Municipal capacity improvements from program"
    },
    "challenge_submissions_generated": {
      "type": "number",
      "default": 0,
      "description": "Challenges surfaced by innovation campaigns"
    },
    "partnership_agreements_formed": {
      "type": "number",
      "default": 0,
      "description": "Partnerships formed by matchmaker programs"
    },
    "eligibility_criteria": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "target_participants": {
      "type": "object",
      "properties": {
        "type": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "min_participants": {
          "type": "number"
        },
        "max_participants": {
          "type": "number"
        }
      }
    },
    "municipality_targets": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Target municipalities for deployment/impact"
    },
    "region_targets": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Target regions"
    },
    "city_targets": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Target cities"
    },
    "timeline": {
      "type": "object",
      "properties": {
        "announcement_date": {
          "type": "string",
          "format": "date"
        },
        "application_open": {
          "type": "string",
          "format": "date"
        },
        "application_close": {
          "type": "string",
          "format": "date"
        },
        "selection_date": {
          "type": "string",
          "format": "date"
        },
        "program_start": {
          "type": "string",
          "format": "date"
        },
        "program_end": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "duration_weeks": {
      "type": "number"
    },
    "status": {
      "type": "string",
      "enum": [
        "planning",
        "applications_open",
        "selection",
        "active",
        "completed",
        "cancelled"
      ],
      "default": "planning"
    },
    "application_count": {
      "type": "number",
      "default": 0
    },
    "accepted_count": {
      "type": "number",
      "default": 0
    },
    "cohort_number": {
      "type": "number"
    },
    "actual_vs_target_participants": {
      "type": "object",
      "properties": {
        "target": {
          "type": "number"
        },
        "actual": {
          "type": "number"
        }
      }
    },
    "graduation_rate": {
      "type": "number",
      "description": "Percentage of participants who completed (0-100)"
    },
    "alumni_network_size": {
      "type": "number",
      "default": 0
    },
    "post_program_employment_rate": {
      "type": "number",
      "description": "Employment/success rate of alumni (0-100)"
    },
    "benefits": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "benefit": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        }
      }
    },
    "funding_available": {
      "type": "boolean",
      "default": false
    },
    "funding_details": {
      "type": "object",
      "properties": {
        "min_amount": {
          "type": "number"
        },
        "max_amount": {
          "type": "number"
        },
        "total_pool": {
          "type": "number"
        },
        "type": {
          "type": "string"
        }
      }
    },
    "curriculum": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "week": {
            "type": "number"
          },
          "topic": {
            "type": "string"
          },
          "activities": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "peer_projects": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "team_name": {
            "type": "string"
          },
          "project_title": {
            "type": "string"
          },
          "members": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "description": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "reviews": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      },
      "description": "Peer collaboration projects"
    },
    "resources": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "file_url": {
            "type": "string"
          },
          "uploaded_by": {
            "type": "string"
          },
          "uploaded_date": {
            "type": "string"
          }
        }
      },
      "description": "Program resource library"
    },
    "assignments": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "due_date": {
            "type": "string"
          },
          "submissions": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      },
      "description": "Participant assignments"
    },
    "attendance_records": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string"
          },
          "participant_email": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "timestamp": {
            "type": "string"
          }
        }
      },
      "description": "Session attendance tracking"
    },
    "alumni_success_stories": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "alumnus_email": {
            "type": "string"
          },
          "story": {
            "type": "string"
          },
          "impact_metrics": {
            "type": "object"
          },
          "generated_date": {
            "type": "string"
          }
        }
      },
      "description": "AI-generated alumni success stories"
    },
    "mentors": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "expertise": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "organization": {
            "type": "string"
          }
        }
      }
    },
    "events": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "type": {
            "type": "string"
          },
          "location": {
            "type": "string"
          }
        }
      }
    },
    "success_metrics": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "metric": {
            "type": "string"
          },
          "target": {
            "type": "string"
          },
          "current": {
            "type": "string"
          }
        }
      }
    },
    "outcomes": {
      "type": "object",
      "properties": {
        "pilots_generated": {
          "type": "number"
        },
        "partnerships_formed": {
          "type": "number"
        },
        "solutions_deployed": {
          "type": "number"
        }
      }
    },
    "partnership_agreements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "partner_name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          },
          "agreement_url": {
            "type": "string"
          }
        }
      }
    },
    "evaluation_feedback_summary": {
      "type": "string",
      "description": "Summary of participant feedback"
    },
    "is_recurring": {
      "type": "boolean",
      "default": false
    },
    "contact_name": {
      "type": "string"
    },
    "contact_email": {
      "type": "string"
    },
    "website_url": {
      "type": "string"
    },
    "application_url": {
      "type": "string"
    },
    "image_url": {
      "type": "string"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "video_url": {
      "type": "string"
    },
    "brochure_url": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "program_type"
  ]
}
{
  "name": "RDProject",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique R&D project code (e.g., RD-2025-AI-042)"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "tagline_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "abstract_ar": {
      "type": "string"
    },
    "abstract_en": {
      "type": "string"
    },
    "rd_call_id": {
      "type": "string",
      "description": "Reference to RDCall if applicable"
    },
    "challenge_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Linked municipal challenges"
    },
    "institution_en": {
      "type": "string",
      "description": "Leading research institution in English"
    },
    "institution_ar": {
      "type": "string",
      "description": "Leading research institution in Arabic"
    },
    "institution_type": {
      "type": "string",
      "enum": [
        "university",
        "research_center",
        "corporate_rd",
        "government_lab"
      ]
    },
    "partner_institutions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name_en": {
            "type": "string"
          },
          "name_ar": {
            "type": "string"
          },
          "role_en": {
            "type": "string"
          },
          "role_ar": {
            "type": "string"
          }
        }
      }
    },
    "living_lab_id": {
      "type": "string"
    },
    "research_area_en": {
      "type": "string",
      "description": "Research area in English"
    },
    "research_area_ar": {
      "type": "string",
      "description": "Research area in Arabic"
    },
    "research_themes": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "keywords": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "methodology_en": {
      "type": "string",
      "description": "Research methodology in English"
    },
    "methodology_ar": {
      "type": "string",
      "description": "Research methodology in Arabic"
    },
    "expected_outputs": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "output_en": {
            "type": "string"
          },
          "output_ar": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "target_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "trl_start": {
      "type": "number",
      "description": "Technology Readiness Level at start (1-9)"
    },
    "trl_target": {
      "type": "number"
    },
    "trl_current": {
      "type": "number"
    },
    "timeline": {
      "type": "object",
      "properties": {
        "start_date": {
          "type": "string",
          "format": "date"
        },
        "end_date": {
          "type": "string",
          "format": "date"
        },
        "milestones": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name_en": {
                "type": "string"
              },
              "name_ar": {
                "type": "string"
              },
              "date": {
                "type": "string",
                "format": "date"
              },
              "status": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "duration_months": {
      "type": "number"
    },
    "status": {
      "type": "string",
      "enum": [
        "proposal",
        "approved",
        "active",
        "on_hold",
        "completed",
        "terminated"
      ],
      "default": "proposal"
    },
    "principal_investigator": {
      "type": "object",
      "properties": {
        "name_en": {
          "type": "string"
        },
        "name_ar": {
          "type": "string"
        },
        "title_en": {
          "type": "string"
        },
        "title_ar": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "expertise": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "team_members": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name_en": {
            "type": "string"
          },
          "name_ar": {
            "type": "string"
          },
          "role_en": {
            "type": "string"
          },
          "role_ar": {
            "type": "string"
          },
          "institution_en": {
            "type": "string"
          },
          "institution_ar": {
            "type": "string"
          }
        }
      }
    },
    "budget": {
      "type": "number"
    },
    "budget_breakdown": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "category_en": {
            "type": "string"
          },
          "category_ar": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          }
        }
      }
    },
    "actual_vs_planned_budget": {
      "type": "object",
      "properties": {
        "planned": {
          "type": "number"
        },
        "actual_spent": {
          "type": "number"
        },
        "variance_percentage": {
          "type": "number"
        }
      }
    },
    "funding_source_en": {
      "type": "string",
      "description": "Funding source in English"
    },
    "funding_source_ar": {
      "type": "string",
      "description": "Funding source in Arabic"
    },
    "funding_status": {
      "type": "string",
      "enum": [
        "pending",
        "approved",
        "disbursed",
        "completed"
      ]
    },
    "research_ethics_approval": {
      "type": "object",
      "properties": {
        "required": {
          "type": "boolean"
        },
        "irb_number": {
          "type": "string"
        },
        "approval_date": {
          "type": "string",
          "format": "date"
        },
        "expiry_date": {
          "type": "string",
          "format": "date"
        }
      },
      "description": "IRB/ethics committee tracking"
    },
    "data_availability": {
      "type": "string",
      "enum": [
        "open",
        "restricted",
        "confidential"
      ],
      "default": "restricted"
    },
    "grant_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "External grant references"
    },
    "collaboration_agreements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "partner": {
            "type": "string"
          },
          "agreement_url": {
            "type": "string"
          },
          "signed_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "commercialization_potential_score": {
      "type": "number",
      "description": "AI-assessed commercialization potential (0-100)"
    },
    "pilot_transition_readiness_score": {
      "type": "number",
      "description": "Readiness to transition to pilot (0-100)"
    },
    "publications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "authors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "publication": {
            "type": "string"
          },
          "year": {
            "type": "number"
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "patents": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "number": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "filed",
              "pending",
              "granted",
              "expired",
              "rejected"
            ]
          },
          "filing_date": {
            "type": "string",
            "format": "date"
          },
          "grant_date": {
            "type": "string",
            "format": "date"
          },
          "jurisdiction": {
            "type": "string"
          }
        }
      }
    },
    "ip_licenses": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "licensee": {
            "type": "string"
          },
          "patent_title": {
            "type": "string"
          },
          "license_type": {
            "type": "string",
            "enum": [
              "exclusive",
              "non_exclusive",
              "sole"
            ]
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          },
          "royalty_rate": {
            "type": "number"
          },
          "agreement_url": {
            "type": "string"
          }
        }
      },
      "description": "IP licensing agreements"
    },
    "datasets_generated": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "research_outputs_repository_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "impact_assessment": {
      "type": "object",
      "properties": {
        "academic_impact_en": {
          "type": "string"
        },
        "academic_impact_ar": {
          "type": "string"
        },
        "practical_impact_en": {
          "type": "string"
        },
        "practical_impact_ar": {
          "type": "string"
        },
        "policy_impact_en": {
          "type": "string"
        },
        "policy_impact_ar": {
          "type": "string"
        }
      }
    },
    "pilot_opportunities": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "description_en": {
            "type": "string"
          },
          "description_ar": {
            "type": "string"
          },
          "municipality": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      }
    },
    "collaboration_opportunities_en": {
      "type": "string"
    },
    "collaboration_opportunities_ar": {
      "type": "string"
    },
    "image_url": {
      "type": "string"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "video_url": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string"
    }
  },
  "required": [
    "title_en",
    "institution_en",
    "research_area_en"
  ]
}
{
  "name": "Region",
  "type": "object",
  "properties": {
    "name_ar": {
      "type": "string",
      "description": "Region name in Arabic"
    },
    "name_en": {
      "type": "string",
      "description": "Region name in English"
    },
    "code": {
      "type": "string",
      "description": "Short region code (e.g., R01, R02)"
    },
    "description_ar": {
      "type": "string",
      "description": "Region description in Arabic"
    },
    "description_en": {
      "type": "string",
      "description": "Region description in English"
    },
    "region_type": {
      "type": "string",
      "enum": [
        "urban",
        "rural",
        "mixed"
      ],
      "default": "mixed"
    },
    "population": {
      "type": "number",
      "description": "Total population"
    },
    "area_sqkm": {
      "type": "number",
      "description": "Area in square kilometers"
    },
    "governor_name": {
      "type": "string",
      "description": "Regional governor name"
    },
    "coordinates": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      },
      "description": "Geographic center coordinates"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "name_ar",
    "code"
  ]
}
{
  "name": "City",
  "type": "object",
  "properties": {
    "region_id": {
      "type": "string",
      "description": "Reference to Region entity"
    },
    "name_ar": {
      "type": "string",
      "description": "City name in Arabic"
    },
    "name_en": {
      "type": "string",
      "description": "City name in English"
    },
    "population": {
      "type": "number",
      "description": "City population"
    },
    "coordinates": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      }
    },
    "area_sqkm": {
      "type": "number",
      "description": "City area in square kilometers"
    },
    "mayor_name": {
      "type": "string"
    },
    "city_website": {
      "type": "string"
    },
    "economic_indicators": {
      "type": "object",
      "properties": {
        "gdp_per_capita": {
          "type": "number"
        },
        "unemployment_rate": {
          "type": "number"
        },
        "key_industries": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "is_municipality": {
      "type": "boolean",
      "default": true,
      "description": "Whether city has its own municipality"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "region_id",
    "name_en",
    "name_ar"
  ]
}
{
  "name": "Sector",
  "type": "object",
  "properties": {
    "name_ar": {
      "type": "string",
      "description": "Sector name in Arabic"
    },
    "name_en": {
      "type": "string",
      "description": "Sector name in English"
    },
    "code": {
      "type": "string",
      "description": "Sector code (e.g., UD, TR, ENV, DS)"
    },
    "description_ar": {
      "type": "string",
      "description": "Sector description in Arabic"
    },
    "description_en": {
      "type": "string",
      "description": "Sector description in English"
    },
    "icon": {
      "type": "string",
      "description": "Icon identifier for UI"
    },
    "color": {
      "type": "string",
      "description": "Brand color for sector (hex)"
    },
    "sort_order": {
      "type": "number",
      "description": "Display order",
      "default": 0
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "name_ar",
    "code"
  ]
}
{
  "name": "Subsector",
  "type": "object",
  "properties": {
    "sector_id": {
      "type": "string",
      "description": "Reference to parent Sector"
    },
    "name_ar": {
      "type": "string",
      "description": "Subsector name in Arabic"
    },
    "name_en": {
      "type": "string",
      "description": "Subsector name in English"
    },
    "code": {
      "type": "string",
      "description": "Subsector code"
    },
    "description_ar": {
      "type": "string",
      "description": "Subsector description in Arabic"
    },
    "description_en": {
      "type": "string",
      "description": "Subsector description in English"
    },
    "sort_order": {
      "type": "number",
      "default": 0
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "sector_id",
    "name_en",
    "name_ar",
    "code"
  ]
}
{
  "name": "KPIReference",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique KPI code (e.g., KPI-ENV-001)"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "category": {
      "type": "string"
    },
    "subcategory": {
      "type": "string"
    },
    "unit": {
      "type": "string",
      "description": "Measurement unit (%, count, SAR, etc.)"
    },
    "calculation_method": {
      "type": "string"
    },
    "calculation_formula": {
      "type": "string",
      "description": "Formula for calculation"
    },
    "data_source": {
      "type": "string"
    },
    "data_sources": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "collection_frequency": {
      "type": "string",
      "enum": [
        "real_time",
        "daily",
        "weekly",
        "monthly",
        "quarterly",
        "annually"
      ]
    },
    "target_range": {
      "type": "object",
      "properties": {
        "min": {
          "type": "number"
        },
        "max": {
          "type": "number"
        },
        "optimal": {
          "type": "number"
        }
      }
    },
    "benchmark_value": {
      "type": "number",
      "description": "International or national benchmark"
    },
    "measurement_frequency": {
      "type": "string",
      "enum": [
        "daily",
        "weekly",
        "monthly",
        "quarterly",
        "annually"
      ]
    },
    "is_gli_indicator": {
      "type": "boolean",
      "default": false,
      "description": "Is this a Global Livability Index indicator"
    },
    "is_mii_component": {
      "type": "boolean",
      "default": false,
      "description": "Used in MII calculation"
    },
    "applicable_sectors": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "usage_count": {
      "type": "number",
      "default": 0,
      "description": "How many entities use this KPI"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "code",
    "name_en",
    "name_ar",
    "category",
    "unit"
  ]
}
{
  "name": "Tag",
  "type": "object",
  "properties": {
    "name_ar": {
      "type": "string",
      "description": "Tag name in Arabic"
    },
    "name_en": {
      "type": "string",
      "description": "Tag name in English"
    },
    "description_ar": {
      "type": "string",
      "description": "Tag description in Arabic"
    },
    "description_en": {
      "type": "string",
      "description": "Tag description in English"
    },
    "type": {
      "type": "string",
      "description": "Tag type/category"
    },
    "color": {
      "type": "string",
      "description": "Display color (hex)"
    },
    "usage_count": {
      "type": "number",
      "default": 0,
      "description": "How many times this tag is used"
    },
    "is_system_tag": {
      "type": "boolean",
      "default": false,
      "description": "System-defined vs user-created"
    },
    "parent_tag_id": {
      "type": "string",
      "description": "Parent tag for hierarchical taxonomy"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "name_ar"
  ]
}
{
  "name": "Organization",
  "type": "object",
  "properties": {
    "parent_org_id": {
      "type": "string",
      "description": "Reference to parent organization for hierarchies"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string",
      "description": "Organization description in Arabic"
    },
    "description_en": {
      "type": "string",
      "description": "Organization description in English"
    },
    "embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Vector embedding for expert matching (768 dimensions)"
    },
    "embedding_model": {
      "type": "string",
      "description": "Model used for embedding generation"
    },
    "embedding_generated_date": {
      "type": "string",
      "format": "date-time",
      "description": "When embedding was generated"
    },
    "org_type": {
      "type": "string",
      "enum": [
        "ministry",
        "municipality",
        "agency",
        "university",
        "research_center",
        "company",
        "startup",
        "sme",
        "ngo",
        "international_org"
      ],
      "description": "Organization type"
    },
    "city_id": {
      "type": "string",
      "description": "Reference to City if applicable"
    },
    "region_id": {
      "type": "string",
      "description": "Reference to Region if applicable"
    },
    "address": {
      "type": "string",
      "description": "Full street address"
    },
    "postal_code": {
      "type": "string",
      "description": "Postal/zip code"
    },
    "coordinates": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      },
      "description": "Geographic coordinates"
    },
    "logo_url": {
      "type": "string",
      "description": "Organization logo"
    },
    "image_url": {
      "type": "string",
      "description": "Main organization image/photo"
    },
    "banner_url": {
      "type": "string",
      "description": "Banner/cover image"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Additional organization images"
    },
    "brochure_url": {
      "type": "string",
      "description": "Organization brochure PDF"
    },
    "contact_email": {
      "type": "string"
    },
    "contact_phone": {
      "type": "string"
    },
    "website": {
      "type": "string"
    },
    "social_media": {
      "type": "object",
      "properties": {
        "twitter": {
          "type": "string"
        },
        "linkedin": {
          "type": "string"
        },
        "facebook": {
          "type": "string"
        },
        "instagram": {
          "type": "string"
        }
      }
    },
    "primary_contact_name": {
      "type": "string",
      "description": "Primary contact person name"
    },
    "primary_contact_role": {
      "type": "string",
      "description": "Primary contact person role/title"
    },
    "sectors": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Sectors the organization operates in"
    },
    "specializations": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Technical specializations and expertise areas"
    },
    "is_partner": {
      "type": "boolean",
      "default": false,
      "description": "Whether this is an official platform partner"
    },
    "partnership_status": {
      "type": "string",
      "enum": [
        "none",
        "pending",
        "active",
        "suspended",
        "expired"
      ],
      "default": "none"
    },
    "partnership_type": {
      "type": "string",
      "enum": [
        "strategic",
        "operational",
        "knowledge",
        "service_provider",
        "research"
      ],
      "description": "Type of partnership"
    },
    "partnership_date": {
      "type": "string",
      "format": "date",
      "description": "Date partnership was established"
    },
    "partnership_agreement_url": {
      "type": "string",
      "description": "Link to signed partnership agreement"
    },
    "partnership_notes": {
      "type": "string",
      "description": "Additional partnership details"
    },
    "partnership_agreements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "partner_name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          },
          "agreement_url": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "expired",
              "terminated"
            ]
          }
        }
      },
      "description": "Detailed partnership agreements"
    },
    "is_verified": {
      "type": "boolean",
      "default": false,
      "description": "Whether organization has been verified by platform admins"
    },
    "verification_date": {
      "type": "string",
      "format": "date"
    },
    "verification_notes": {
      "type": "string",
      "description": "Admin notes on verification"
    },
    "team_size": {
      "type": "string",
      "enum": [
        "1-10",
        "11-50",
        "51-200",
        "201-500",
        "501-1000",
        "1000+"
      ],
      "description": "Organization team size range"
    },
    "employee_count": {
      "type": "number",
      "description": "Exact employee count if available"
    },
    "founding_year": {
      "type": "number",
      "description": "Year organization was founded"
    },
    "operational_since": {
      "type": "string",
      "format": "date",
      "description": "Date organization started operations"
    },
    "maturity_level": {
      "type": "string",
      "enum": [
        "early_stage",
        "growth",
        "established",
        "mature"
      ],
      "description": "Organization maturity level"
    },
    "funding_stage": {
      "type": "string",
      "enum": [
        "bootstrapped",
        "seed",
        "series_a",
        "series_b",
        "series_c",
        "public",
        "not_applicable"
      ],
      "description": "Funding stage for startups/companies"
    },
    "funding_rounds": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "round_type": {
            "type": "string",
            "enum": [
              "pre_seed",
              "seed",
              "series_a",
              "series_b",
              "series_c",
              "series_d",
              "bridge",
              "debt"
            ]
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string",
            "default": "SAR"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "lead_investor": {
            "type": "string"
          },
          "valuation": {
            "type": "number"
          }
        }
      },
      "description": "Funding rounds history"
    },
    "key_investors": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "vc",
              "angel",
              "corporate",
              "government",
              "strategic"
            ]
          },
          "investment_date": {
            "type": "string",
            "format": "date"
          },
          "stake_percentage": {
            "type": "number"
          }
        }
      },
      "description": "Key investors and stakeholders"
    },
    "annual_revenue_range": {
      "type": "string",
      "enum": [
        "0-1M",
        "1M-10M",
        "10M-50M",
        "50M-100M",
        "100M+"
      ],
      "description": "Annual revenue range in SAR"
    },
    "certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "expiry_date": {
            "type": "string",
            "format": "date"
          },
          "certificate_url": {
            "type": "string"
          }
        }
      },
      "description": "Certifications and accreditations"
    },
    "licenses": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "number": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "issue_date": {
            "type": "string",
            "format": "date"
          },
          "expiry_date": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "description": "Business licenses and permits"
    },
    "compliance_status": {
      "type": "string",
      "enum": [
        "compliant",
        "pending_review",
        "non_compliant",
        "not_applicable"
      ],
      "default": "pending_review"
    },
    "regulatory_compliance": {
      "type": "object",
      "properties": {
        "iso_certified": {
          "type": "boolean"
        },
        "iso_standards": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "gdpr_compliant": {
          "type": "boolean"
        },
        "pdpl_compliant": {
          "type": "boolean"
        },
        "other_standards": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "last_audit_date": {
          "type": "string",
          "format": "date"
        },
        "next_audit_date": {
          "type": "string",
          "format": "date"
        }
      },
      "description": "Detailed regulatory compliance status"
    },
    "intellectual_property": {
      "type": "object",
      "properties": {
        "patents": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "number": {
                "type": "string"
              },
              "filing_date": {
                "type": "string",
                "format": "date"
              },
              "grant_date": {
                "type": "string",
                "format": "date"
              },
              "status": {
                "type": "string",
                "enum": [
                  "filed",
                  "pending",
                  "granted",
                  "expired"
                ]
              },
              "jurisdiction": {
                "type": "string"
              }
            }
          }
        },
        "trademarks": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "registration_number": {
                "type": "string"
              },
              "registration_date": {
                "type": "string",
                "format": "date"
              },
              "expiry_date": {
                "type": "string",
                "format": "date"
              },
              "jurisdiction": {
                "type": "string"
              }
            }
          }
        },
        "copyrights": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "trade_secrets": {
          "type": "number",
          "description": "Count of registered trade secrets"
        }
      },
      "description": "Intellectual property portfolio"
    },
    "performance_metrics": {
      "type": "object",
      "properties": {
        "solution_count": {
          "type": "number",
          "default": 0
        },
        "pilot_count": {
          "type": "number",
          "default": 0
        },
        "rd_project_count": {
          "type": "number",
          "default": 0
        },
        "program_participation_count": {
          "type": "number",
          "default": 0
        },
        "success_rate": {
          "type": "number",
          "description": "Percentage of successful pilots/projects"
        },
        "average_pilot_score": {
          "type": "number",
          "description": "Average evaluation score across pilots"
        },
        "total_impact_score": {
          "type": "number",
          "description": "Cumulative impact score"
        },
        "deployment_wins": {
          "type": "number",
          "default": 0,
          "description": "Successful deployments (for startups)"
        },
        "publications_count": {
          "type": "number",
          "default": 0,
          "description": "Research publications (for academia)"
        },
        "policy_influence_count": {
          "type": "number",
          "default": 0,
          "description": "Policies influenced (for academia/research)"
        }
      }
    },
    "reputation_score": {
      "type": "number",
      "description": "AI-calculated reputation score (0-100)"
    },
    "reputation_factors": {
      "type": "object",
      "properties": {
        "delivery_quality": {
          "type": "number"
        },
        "timeliness": {
          "type": "number"
        },
        "innovation_score": {
          "type": "number"
        },
        "stakeholder_satisfaction": {
          "type": "number"
        },
        "impact_achievement": {
          "type": "number"
        }
      },
      "description": "Reputation score breakdown"
    },
    "capabilities": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Key organizational capabilities"
    },
    "awards": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "year": {
            "type": "number"
          },
          "issuer": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        }
      },
      "description": "Awards and recognitions"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "deactivation_date": {
      "type": "string",
      "format": "date",
      "description": "Date organization was deactivated"
    },
    "deactivation_reason": {
      "type": "string",
      "description": "Reason for deactivation"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Tags for categorization and search"
    },
    "notes": {
      "type": "string",
      "description": "Internal admin notes"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "org_type"
  ]
}
{
  "name": "ChallengeAttachment",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "file_name": {
      "type": "string"
    },
    "file_url": {
      "type": "string"
    },
    "file_type": {
      "type": "string",
      "enum": [
        "document",
        "image",
        "data",
        "report",
        "evidence",
        "other"
      ]
    },
    "file_size": {
      "type": "number",
      "description": "File size in bytes"
    },
    "content_type": {
      "type": "string",
      "description": "MIME type"
    },
    "description": {
      "type": "string"
    },
    "uploaded_date": {
      "type": "string",
      "format": "date-time"
    },
    "uploaded_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string"
    },
    "is_evidence": {
      "type": "boolean",
      "default": false,
      "description": "Supporting evidence for challenge"
    },
    "extracted_data": {
      "type": "object",
      "description": "AI-extracted data from document"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "file_name",
    "file_url"
  ]
}
{
  "name": "ChallengeComment",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "user_email": {
      "type": "string",
      "description": "Commenter email"
    },
    "comment_text": {
      "type": "string",
      "description": "Comment content"
    },
    "is_internal": {
      "type": "boolean",
      "default": false,
      "description": "Internal note vs public comment"
    },
    "parent_comment_id": {
      "type": "string",
      "description": "Reference to parent comment for threading"
    },
    "mentions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Mentioned user emails (@mentions)"
    },
    "reactions": {
      "type": "object",
      "properties": {
        "like": {
          "type": "number",
          "default": 0
        },
        "helpful": {
          "type": "number",
          "default": 0
        },
        "insightful": {
          "type": "number",
          "default": 0
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "comment_text"
  ]
}
{
  "name": "ChallengeTag",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "tag_id": {
      "type": "string",
      "description": "Reference to Tag"
    },
    "relevance_score": {
      "type": "number",
      "description": "AI-generated relevance score (0-1)"
    },
    "added_by_ai": {
      "type": "boolean",
      "default": false
    },
    "assigned_by": {
      "type": "string",
      "enum": [
        "user",
        "ai"
      ],
      "default": "user"
    },
    "confidence_score": {
      "type": "number",
      "description": "AI confidence if AI-assigned (0-100)"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "tag_id"
  ]
}
{
  "name": "ChallengeKPILink",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "kpi_ref_id": {
      "type": "string",
      "description": "Reference to KPIReference"
    },
    "relevance": {
      "type": "string",
      "enum": [
        "primary",
        "secondary",
        "related"
      ],
      "default": "related"
    },
    "baseline_value": {
      "type": "string"
    },
    "target_value": {
      "type": "string"
    },
    "current_value": {
      "type": "string"
    },
    "measurement_method": {
      "type": "string"
    },
    "measurement_frequency": {
      "type": "string"
    },
    "data_source_url": {
      "type": "string"
    },
    "is_met": {
      "type": "boolean",
      "default": false,
      "description": "Whether target has been met"
    },
    "notes": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "kpi_ref_id"
  ]
}
{
  "name": "ChallengeRelation",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "related_entity_type": {
      "type": "string",
      "enum": [
        "pilot",
        "solution",
        "rd_project",
        "program",
        "challenge",
        "document"
      ]
    },
    "related_entity_id": {
      "type": "string"
    },
    "relation_role": {
      "type": "string",
      "enum": [
        "solved_by",
        "informed_by",
        "derived_from",
        "similar_to",
        "parent_of",
        "child_of"
      ]
    },
    "relation_type": {
      "type": "string",
      "description": "Additional relation type info"
    },
    "strength": {
      "type": "number",
      "description": "Relationship strength (0-1)"
    },
    "relation_strength_score": {
      "type": "number",
      "description": "AI-calculated strength (0-100)"
    },
    "created_via": {
      "type": "string",
      "enum": [
        "manual",
        "ai"
      ],
      "default": "manual"
    },
    "bidirectional": {
      "type": "boolean",
      "default": false,
      "description": "Whether relation applies both ways"
    },
    "notes": {
      "type": "string"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "related_entity_type",
    "related_entity_id",
    "relation_role"
  ]
}
{
  "name": "ChallengeActivity",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "activity_type": {
      "type": "string",
      "enum": [
        "created",
        "updated",
        "status_changed",
        "comment_added",
        "solution_matched",
        "pilot_created",
        "approved",
        "archived",
        "shared",
        "viewed"
      ],
      "description": "Type of activity"
    },
    "activity_category": {
      "type": "string",
      "enum": [
        "workflow",
        "engagement",
        "data_change",
        "system"
      ],
      "description": "Activity category"
    },
    "description": {
      "type": "string"
    },
    "performed_by": {
      "type": "string",
      "description": "User email (null if system-generated)"
    },
    "is_system_generated": {
      "type": "boolean",
      "default": false
    },
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "metadata": {
      "type": "object",
      "description": "Additional context data"
    },
    "old_value": {
      "type": "string",
      "description": "Previous value for data changes"
    },
    "new_value": {
      "type": "string",
      "description": "New value for data changes"
    },
    "ip_address": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "activity_type",
    "timestamp"
  ]
}
{
  "name": "Provider",
  "type": "object",
  "properties": {
    "organization_id": {
      "type": "string",
      "description": "Link to Organization entity if applicable"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "provider_type": {
      "type": "string",
      "enum": [
        "startup",
        "company",
        "university",
        "research_center",
        "consultant",
        "ngo"
      ],
      "description": "Provider type"
    },
    "cr_number": {
      "type": "string",
      "description": "Commercial registration number"
    },
    "website_url": {
      "type": "string"
    },
    "country": {
      "type": "string",
      "default": "Saudi Arabia"
    },
    "city": {
      "type": "string"
    },
    "contact_email": {
      "type": "string"
    },
    "contact_phone": {
      "type": "string"
    },
    "verified": {
      "type": "boolean",
      "default": false,
      "description": "Platform verification status"
    },
    "verification_date": {
      "type": "string",
      "format": "date"
    },
    "profile_completeness": {
      "type": "number",
      "description": "Profile completion percentage (0-100)"
    },
    "performance_score": {
      "type": "number",
      "description": "Overall performance score (0-100)"
    },
    "total_solutions_count": {
      "type": "number",
      "default": 0
    },
    "total_pilots_participated": {
      "type": "number",
      "default": 0
    },
    "success_rate": {
      "type": "number",
      "description": "Pilot success rate (0-100)"
    },
    "avg_pilot_score": {
      "type": "number",
      "description": "Average evaluation score across pilots"
    },
    "certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "expiry_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "insurance_info": {
      "type": "object",
      "properties": {
        "provider": {
          "type": "string"
        },
        "policy_number": {
          "type": "string"
        },
        "coverage_amount": {
          "type": "number"
        },
        "expiry_date": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "contract_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "contract_id": {
            "type": "string"
          },
          "municipality": {
            "type": "string"
          },
          "value": {
            "type": "number"
          },
          "start_date": {
            "type": "string",
            "format": "date"
          },
          "end_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          }
        }
      }
    },
    "ai_metadata": {
      "type": "object",
      "description": "AI-generated insights and classifications",
      "properties": {}
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "provider_type"
  ]
}
{
  "name": "SolutionCase",
  "type": "object",
  "properties": {
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot (optional)"
    },
    "city_id": {
      "type": "string"
    },
    "municipality_id": {
      "type": "string",
      "description": "Client municipality"
    },
    "organization_id": {
      "type": "string"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "client": {
      "type": "string",
      "description": "Client organization name"
    },
    "challenge_addressed": {
      "type": "string"
    },
    "solution_applied": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "results": {
      "type": "string"
    },
    "outcome_summary": {
      "type": "string"
    },
    "metrics": {
      "type": "object"
    },
    "kpi_improvements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "kpi_name": {
            "type": "string"
          },
          "before": {
            "type": "string"
          },
          "after": {
            "type": "string"
          }
        }
      }
    },
    "roi_achieved": {
      "type": "number"
    },
    "implementation_duration": {
      "type": "number",
      "description": "Duration in weeks"
    },
    "country": {
      "type": "string",
      "default": "Saudi Arabia",
      "description": "Country (for international cases)"
    },
    "deployment_date": {
      "type": "string",
      "format": "date"
    },
    "publication_date": {
      "type": "string",
      "format": "date"
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "testimonial_quote": {
      "type": "string"
    },
    "testimonial_author": {
      "type": "string"
    },
    "document_url": {
      "type": "string"
    },
    "success_rating": {
      "type": "number",
      "description": "1-5 rating"
    },
    "verified": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "solution_id",
    "title_en"
  ]
}
{
  "name": "ChallengeSolutionMatch",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution"
    },
    "match_score": {
      "type": "number",
      "description": "AI match score (0-100)"
    },
    "similarity_score": {
      "type": "number",
      "description": "Match score (0-100)"
    },
    "match_reasoning": {
      "type": "string",
      "description": "AI explanation of match"
    },
    "ai_confidence_score": {
      "type": "number",
      "description": "AI confidence in this match (0-100)"
    },
    "match_criteria_breakdown": {
      "type": "object",
      "properties": {
        "sector_match": {
          "type": "number"
        },
        "capability_match": {
          "type": "number"
        },
        "maturity_match": {
          "type": "number"
        },
        "geographic_fit": {
          "type": "number"
        }
      }
    },
    "match_algorithm": {
      "type": "string",
      "description": "Algorithm used"
    },
    "match_reasons": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "proposed",
        "suggested",
        "shortlisted",
        "contacted",
        "accepted",
        "rejected",
        "converted",
        "expired"
      ],
      "default": "suggested"
    },
    "created_by_ai": {
      "type": "boolean",
      "default": true
    },
    "reviewed_by": {
      "type": "string"
    },
    "reviewed_by_user_id": {
      "type": "string"
    },
    "reviewed_date": {
      "type": "string",
      "format": "date"
    },
    "pilot_id": {
      "type": "string",
      "description": "Pilot ID if converted to pilot"
    },
    "rejection_reason": {
      "type": "string"
    },
    "notes": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "solution_id"
  ]
}
{
  "name": "Sandbox",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique sandbox code (e.g., SB-RUH-001)"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "tagline_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "domain": {
      "type": "string",
      "enum": [
        "smart_mobility",
        "digital_services",
        "environment",
        "energy",
        "health",
        "fintech",
        "urban_development",
        "general"
      ]
    },
    "sub_domains": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "sector_id": {
      "type": "string",
      "description": "Primary sector reference"
    },
    "subsector_id": {
      "type": "string",
      "description": "Primary subsector reference"
    },
    "service_focus_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Municipal services tested in sandbox"
    },
    "strategic_pillar_id": {
      "type": "string",
      "description": "Strategic pillar alignment"
    },
    "strategic_objective_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Strategic objectives addressed"
    },
    "municipality_id": {
      "type": "string",
      "description": "Primary municipality hosting sandbox"
    },
    "city_id": {
      "type": "string"
    },
    "region_id": {
      "type": "string"
    },
    "organization_id": {
      "type": "string"
    },
    "living_lab_id": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "objectives_ar": {
      "type": "string"
    },
    "objectives_en": {
      "type": "string"
    },
    "target_industries": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "geometry": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "coordinates": {
          "type": "array"
        }
      }
    },
    "address": {
      "type": "string"
    },
    "area_sqm": {
      "type": "number"
    },
    "coordinates": {
      "type": "object",
      "properties": {
        "lat": {
          "type": "number"
        },
        "lng": {
          "type": "number"
        }
      }
    },
    "regulatory_framework": {
      "type": "string"
    },
    "regulatory_framework_document_url": {
      "type": "string"
    },
    "legal_framework_version": {
      "type": "string",
      "description": "Current legal framework version"
    },
    "available_exemptions": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "exemption_approval_process": {
      "type": "string"
    },
    "capacity": {
      "type": "number"
    },
    "current_pilots": {
      "type": "number",
      "default": 0
    },
    "total_projects_hosted": {
      "type": "number",
      "default": 0
    },
    "total_completed_projects": {
      "type": "number",
      "default": 0
    },
    "success_rate": {
      "type": "number",
      "description": "Percentage of successful projects (0-100)"
    },
    "avg_project_duration": {
      "type": "number",
      "description": "Average project duration in days"
    },
    "incident_count": {
      "type": "number",
      "default": 0
    },
    "compliance_violations_count": {
      "type": "number",
      "default": 0
    },
    "insurance_requirements": {
      "type": "object",
      "properties": {
        "required": {
          "type": "boolean"
        },
        "min_coverage": {
          "type": "number"
        },
        "types": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "exit_criteria": {
      "type": "object",
      "properties": {
        "success_criteria": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "failure_criteria": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "max_duration_months": {
          "type": "number"
        }
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "planning",
        "active",
        "inactive",
        "full",
        "suspended",
        "maintenance"
      ],
      "default": "planning"
    },
    "launch_date": {
      "type": "string",
      "format": "date"
    },
    "last_review_date": {
      "type": "string",
      "format": "date"
    },
    "next_review_date": {
      "type": "string",
      "format": "date"
    },
    "operational_hours": {
      "type": "string"
    },
    "access_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "safety_protocols": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "facilities": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "equipment": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "technical_infrastructure": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "connectivity": {
      "type": "object",
      "properties": {
        "5g_available": {
          "type": "boolean"
        },
        "iot_network": {
          "type": "boolean"
        },
        "fiber_speed_mbps": {
          "type": "number"
        },
        "edge_computing": {
          "type": "boolean"
        }
      }
    },
    "data_infrastructure": {
      "type": "object",
      "properties": {
        "data_lake_access": {
          "type": "boolean"
        },
        "real_time_apis": {
          "type": "boolean"
        },
        "data_types_available": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "monitoring_systems": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "emergency_contact": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "available_24_7": {
          "type": "boolean"
        }
      }
    },
    "manager_name": {
      "type": "string"
    },
    "manager_email": {
      "type": "string"
    },
    "manager_phone": {
      "type": "string"
    },
    "support_team": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "partner_organizations": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "funding_sources": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "application_process": {
      "type": "string"
    },
    "application_fee": {
      "type": "number"
    },
    "usage_fees": {
      "type": "object",
      "properties": {
        "daily_rate": {
          "type": "number"
        },
        "monthly_rate": {
          "type": "number"
        },
        "equipment_rates": {
          "type": "string"
        }
      }
    },
    "success_stories": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "image_url": {
      "type": "string"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "video_url": {
      "type": "string"
    },
    "brochure_url": {
      "type": "string"
    },
    "website_url": {
      "type": "string"
    },
    "social_media": {
      "type": "object",
      "properties": {
        "twitter": {
          "type": "string"
        },
        "linkedin": {
          "type": "string"
        }
      }
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "domain",
    "city_id"
  ]
}
{
  "name": "PilotKPI",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "kpi_ref_id": {
      "type": "string",
      "description": "Reference to KPIReference (optional if custom KPI)"
    },
    "kpi_name": {
      "type": "string",
      "description": "KPI name"
    },
    "custom_name_ar": {
      "type": "string"
    },
    "custom_name_en": {
      "type": "string"
    },
    "baseline": {
      "type": "string"
    },
    "baseline_value": {
      "type": "number"
    },
    "target": {
      "type": "string"
    },
    "target_value": {
      "type": "number"
    },
    "current": {
      "type": "string"
    },
    "current_value": {
      "type": "number"
    },
    "unit": {
      "type": "string",
      "description": "Measurement unit"
    },
    "data_source": {
      "type": "string"
    },
    "data_collection_method": {
      "type": "string",
      "description": "How data is collected"
    },
    "measurement_frequency": {
      "type": "string"
    },
    "collection_frequency": {
      "type": "string",
      "enum": [
        "real_time",
        "daily",
        "weekly",
        "monthly"
      ],
      "default": "weekly"
    },
    "responsible_person_email": {
      "type": "string",
      "description": "Person responsible for tracking this KPI"
    },
    "alert_threshold_min": {
      "type": "number"
    },
    "alert_threshold_max": {
      "type": "number"
    },
    "is_critical": {
      "type": "boolean",
      "default": false,
      "description": "Critical success factor"
    },
    "status": {
      "type": "string",
      "enum": [
        "defined",
        "on_track",
        "at_risk",
        "off_track",
        "achieved",
        "archived"
      ],
      "default": "defined"
    },
    "last_updated": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id"
  ]
}
{
  "name": "PilotKPIDatapoint",
  "type": "object",
  "properties": {
    "pilot_kpi_id": {
      "type": "string",
      "description": "Reference to PilotKPI"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "value": {
      "type": "number"
    },
    "source": {
      "type": "string",
      "enum": [
        "manual",
        "automated",
        "system",
        "sensor",
        "api"
      ],
      "default": "manual"
    },
    "collection_method": {
      "type": "string",
      "description": "How data was collected"
    },
    "verified_by": {
      "type": "string",
      "description": "User who verified this data point"
    },
    "is_estimated": {
      "type": "boolean",
      "default": false
    },
    "confidence_level": {
      "type": "number",
      "description": "Confidence in measurement (0-100)"
    },
    "data_source": {
      "type": "string"
    },
    "ai_anomaly_flag": {
      "type": "boolean",
      "default": false
    },
    "ai_comment": {
      "type": "string"
    },
    "notes": {
      "type": "string"
    }
  },
  "required": [
    "pilot_kpi_id",
    "timestamp",
    "value"
  ]
}
{
  "name": "PilotApproval",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "approval_type": {
      "type": "string",
      "enum": [
        "budget",
        "design",
        "execution",
        "evaluation",
        "scaling",
        "gate_1",
        "gate_2",
        "gate_3"
      ],
      "description": "Type of approval"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "approved",
        "rejected",
        "conditional",
        "revoked"
      ],
      "default": "pending"
    },
    "approver_email": {
      "type": "string",
      "description": "User who approves"
    },
    "approval_date": {
      "type": "string",
      "format": "date-time"
    },
    "comments": {
      "type": "string"
    },
    "conditions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Conditional approval requirements"
    },
    "sla_due_date": {
      "type": "string",
      "format": "date-time",
      "description": "SLA deadline for approval decision"
    },
    "escalation_triggered": {
      "type": "boolean",
      "default": false,
      "description": "Whether SLA breach triggered escalation"
    },
    "escalation_date": {
      "type": "string",
      "format": "date-time"
    },
    "approval_criteria_met": {
      "type": "object",
      "properties": {
        "criterion_1": {
          "type": "boolean"
        },
        "criterion_2": {
          "type": "boolean"
        },
        "criterion_3": {
          "type": "boolean"
        },
        "all_met": {
          "type": "boolean"
        }
      }
    },
    "delegation_chain": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Delegation path (delegator \u2192 delegate)"
    },
    "revocation_reason": {
      "type": "string"
    },
    "revoked_by": {
      "type": "string"
    },
    "revoked_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "approval_type",
    "approver_email"
  ]
}
{
  "name": "PilotIssue",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "issue_title": {
      "type": "string"
    },
    "issue_description": {
      "type": "string"
    },
    "issue_category": {
      "type": "string",
      "enum": [
        "technical",
        "budget",
        "timeline",
        "stakeholder",
        "regulatory",
        "quality",
        "safety",
        "resource"
      ],
      "description": "Issue category"
    },
    "severity": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "critical"
      ],
      "default": "medium"
    },
    "status": {
      "type": "string",
      "enum": [
        "open",
        "in_progress",
        "resolved",
        "closed",
        "cancelled"
      ],
      "default": "open"
    },
    "raised_by": {
      "type": "string",
      "description": "User email who raised issue"
    },
    "raised_date": {
      "type": "string",
      "format": "date-time"
    },
    "assigned_to": {
      "type": "string",
      "description": "User email assigned to resolve"
    },
    "impact_assessment": {
      "type": "string",
      "enum": [
        "no_impact",
        "minor_delay",
        "major_delay",
        "pilot_at_risk",
        "pilot_failure"
      ],
      "description": "Impact on pilot success"
    },
    "cost_impact": {
      "type": "number",
      "description": "Financial impact (SAR)"
    },
    "timeline_impact_days": {
      "type": "number",
      "description": "Days of delay caused"
    },
    "mitigation_plan": {
      "type": "string",
      "description": "Plan to address issue"
    },
    "resolution": {
      "type": "string"
    },
    "resolved_date": {
      "type": "string",
      "format": "date-time"
    },
    "resolved_by": {
      "type": "string"
    },
    "related_risk_id": {
      "type": "string",
      "description": "Reference to Risk entity if linked"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "issue_description",
    "severity",
    "raised_by"
  ]
}
{
  "name": "PilotDocument",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "document_name": {
      "type": "string"
    },
    "document_type": {
      "type": "string",
      "enum": [
        "proposal",
        "contract",
        "report",
        "deliverable",
        "presentation",
        "data",
        "evaluation",
        "compliance",
        "other"
      ],
      "description": "Document category"
    },
    "url": {
      "type": "string",
      "description": "Document URL"
    },
    "file_size": {
      "type": "number",
      "description": "File size in bytes"
    },
    "file_format": {
      "type": "string",
      "description": "PDF, DOCX, XLSX, etc."
    },
    "checksum": {
      "type": "string",
      "description": "File hash for integrity verification"
    },
    "uploaded_date": {
      "type": "string",
      "format": "date-time"
    },
    "uploaded_by": {
      "type": "string",
      "description": "User email"
    },
    "version": {
      "type": "string",
      "default": "1.0"
    },
    "previous_version_id": {
      "type": "string",
      "description": "Previous version reference"
    },
    "is_latest_version": {
      "type": "boolean",
      "default": true
    },
    "status": {
      "type": "string",
      "enum": [
        "uploaded",
        "under_review",
        "approved",
        "archived",
        "deleted"
      ],
      "default": "uploaded"
    },
    "approval_required": {
      "type": "boolean",
      "default": false
    },
    "approved_by": {
      "type": "string"
    },
    "approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_confidential": {
      "type": "boolean",
      "default": false
    },
    "access_level": {
      "type": "string",
      "enum": [
        "public",
        "team_only",
        "stakeholders",
        "admin_only"
      ],
      "default": "team_only"
    },
    "description": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "document_name",
    "url",
    "document_type"
  ]
}
{
  "name": "RDCall",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique call code (e.g., CALL-2025-SMART-01)"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "tagline_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "issuing_organization_id": {
      "type": "string"
    },
    "call_type": {
      "type": "string",
      "enum": [
        "open_call",
        "targeted_call",
        "challenge_driven",
        "collaborative",
        "fellowship"
      ]
    },
    "focus_areas": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "research_themes": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "theme": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "budget_allocation": {
            "type": "number"
          }
        }
      }
    },
    "linked_challenges": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "objectives_ar": {
      "type": "string"
    },
    "objectives_en": {
      "type": "string"
    },
    "expected_outcomes": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "eligibility_criteria": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "eligible_institutions": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "timeline": {
      "type": "object",
      "properties": {
        "announcement_date": {
          "type": "string",
          "format": "date"
        },
        "submission_open": {
          "type": "string",
          "format": "date"
        },
        "submission_close": {
          "type": "string",
          "format": "date"
        },
        "review_period": {
          "type": "string"
        },
        "award_date": {
          "type": "string",
          "format": "date"
        },
        "project_start": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "under_review",
        "approved",
        "published",
        "open",
        "closed",
        "evaluation",
        "awarded",
        "completed"
      ],
      "default": "draft"
    },
    "total_budget_pool": {
      "type": "number",
      "description": "Total funding pool available"
    },
    "total_funding": {
      "type": "number"
    },
    "funding_per_project": {
      "type": "object",
      "properties": {
        "min": {
          "type": "number"
        },
        "max": {
          "type": "number"
        }
      }
    },
    "max_awards": {
      "type": "number",
      "description": "Maximum number of projects to fund"
    },
    "avg_award_amount": {
      "type": "number",
      "description": "Average award amount"
    },
    "number_of_awards": {
      "type": "number"
    },
    "proposal_submission_count": {
      "type": "number",
      "default": 0,
      "description": "Number of proposals received"
    },
    "submission_requirements": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "requirement": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "mandatory": {
            "type": "boolean"
          }
        }
      }
    },
    "evaluation_criteria": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "criterion": {
            "type": "string"
          },
          "weight": {
            "type": "number"
          },
          "description": {
            "type": "string"
          }
        }
      }
    },
    "evaluation_committee": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "expertise": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "review_deadline_date": {
      "type": "string",
      "format": "date"
    },
    "award_notification_date": {
      "type": "string",
      "format": "date"
    },
    "review_process": {
      "type": "string"
    },
    "submission_count": {
      "type": "number",
      "default": 0
    },
    "awarded_projects": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "project_id": {
            "type": "string"
          },
          "institution": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          }
        }
      }
    },
    "webinar_dates": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "title": {
            "type": "string"
          },
          "registration_url": {
            "type": "string"
          }
        }
      }
    },
    "faq": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "question_en": {
            "type": "string"
          },
          "question_ar": {
            "type": "string"
          },
          "answer_en": {
            "type": "string"
          },
          "answer_ar": {
            "type": "string"
          }
        }
      }
    },
    "contact_person": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        }
      }
    },
    "document_urls": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "image_url": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string"
    }
  },
  "required": [
    "title_en",
    "call_type",
    "focus_areas"
  ]
}
{
  "name": "RDProposal",
  "type": "object",
  "properties": {
    "proposal_code": {
      "type": "string",
      "description": "Unique proposal identifier"
    },
    "rd_call_id": {
      "type": "string",
      "description": "Reference to RDCall"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "abstract_ar": {
      "type": "string"
    },
    "abstract_en": {
      "type": "string"
    },
    "principal_investigator": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "orcid_id": {
          "type": "string"
        },
        "institution": {
          "type": "string"
        },
        "department": {
          "type": "string"
        }
      }
    },
    "co_investigators": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "institution": {
            "type": "string"
          }
        }
      }
    },
    "institution_ar": {
      "type": "string"
    },
    "institution_en": {
      "type": "string"
    },
    "institution_id": {
      "type": "string",
      "description": "Reference to Organization"
    },
    "budget_requested": {
      "type": "number"
    },
    "budget_breakdown": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "category": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "justification": {
            "type": "string"
          }
        }
      }
    },
    "duration_months": {
      "type": "number"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "under_review",
        "revisions_requested",
        "shortlisted",
        "approved",
        "rejected",
        "withdrawn"
      ],
      "default": "draft"
    },
    "submission_date": {
      "type": "string",
      "format": "date-time"
    },
    "average_score": {
      "type": "number",
      "description": "Calculated from ExpertEvaluation records"
    },
    "awarded_amount": {
      "type": "number",
      "description": "Final awarded budget"
    },
    "award_date": {
      "type": "string",
      "format": "date"
    },
    "converted_rd_project_id": {
      "type": "string",
      "description": "RDProject ID if awarded"
    },
    "rejection_reason": {
      "type": "string"
    },
    "revision_notes": {
      "type": "string"
    },
    "proposal_document_url": {
      "type": "string",
      "description": "Full proposal PDF"
    },
    "ethics_approval": {
      "type": "object",
      "properties": {
        "required": {
          "type": "boolean"
        },
        "approval_number": {
          "type": "string"
        },
        "approval_date": {
          "type": "string",
          "format": "date"
        },
        "irb_name": {
          "type": "string"
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "rd_call_id",
    "title_en",
    "principal_investigator",
    "budget_requested"
  ]
}
{
  "name": "ProgramApplication",
  "type": "object",
  "properties": {
    "application_code": {
      "type": "string",
      "description": "Unique application identifier"
    },
    "program_id": {
      "type": "string",
      "description": "Reference to Program"
    },
    "applicant_email": {
      "type": "string",
      "description": "Primary applicant email"
    },
    "applicant_org_id": {
      "type": "string",
      "description": "Reference to Organization"
    },
    "applicant_name": {
      "type": "string"
    },
    "proposal_summary": {
      "type": "string"
    },
    "proposal_detailed": {
      "type": "string"
    },
    "team_members": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "expertise": {
            "type": "string"
          }
        }
      }
    },
    "related_challenge_id": {
      "type": "string",
      "description": "Challenge being addressed (optional)"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "screening",
        "under_review",
        "shortlisted",
        "accepted",
        "rejected",
        "withdrawn",
        "waitlisted"
      ],
      "default": "draft"
    },
    "submission_date": {
      "type": "string",
      "format": "date-time"
    },
    "ai_score": {
      "type": "number",
      "description": "AI-calculated initial score (0-100)"
    },
    "ai_feedback": {
      "type": "string",
      "description": "AI-generated feedback"
    },
    "average_score": {
      "type": "number",
      "description": "Calculated from ExpertEvaluation records"
    },
    "final_decision": {
      "type": "string",
      "enum": [
        "accepted",
        "rejected",
        "waitlisted"
      ],
      "description": "Final selection decision"
    },
    "decision_date": {
      "type": "string",
      "format": "date"
    },
    "decision_by": {
      "type": "string"
    },
    "rejection_reason": {
      "type": "string"
    },
    "cohort_assigned": {
      "type": "string",
      "description": "Cohort number/name if accepted"
    },
    "acceptance_letter_url": {
      "type": "string"
    },
    "attachments": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Supporting document URLs"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "program_id",
    "applicant_email",
    "proposal_summary"
  ]
}
{
  "name": "KnowledgeDocument",
  "type": "object",
  "properties": {
    "title_ar": {
      "type": "string",
      "description": "Document title in Arabic"
    },
    "title_en": {
      "type": "string",
      "description": "Document title in English"
    },
    "slug": {
      "type": "string",
      "description": "URL-friendly slug for SEO"
    },
    "content_ar": {
      "type": "string",
      "description": "Full content in Arabic"
    },
    "content_en": {
      "type": "string",
      "description": "Full content in English"
    },
    "embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Vector embedding for semantic search (768 dimensions)"
    },
    "embedding_model": {
      "type": "string",
      "description": "Model used for embedding generation"
    },
    "embedding_generated_date": {
      "type": "string",
      "format": "date-time",
      "description": "When embedding was generated"
    },
    "excerpt_ar": {
      "type": "string"
    },
    "excerpt_en": {
      "type": "string"
    },
    "meta_description_en": {
      "type": "string"
    },
    "meta_description_ar": {
      "type": "string"
    },
    "category": {
      "type": "string",
      "enum": [
        "guide",
        "best_practice",
        "case_study",
        "research",
        "policy",
        "toolkit",
        "template"
      ],
      "description": "Document category"
    },
    "subcategory": {
      "type": "string"
    },
    "related_entity_type": {
      "type": "string",
      "description": "Related entity type (Challenge, Pilot, Solution, etc.)"
    },
    "related_entity_id": {
      "type": "string",
      "description": "ID of related entity"
    },
    "author_email": {
      "type": "string",
      "description": "Document author"
    },
    "contributors": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "reading_time_minutes": {
      "type": "number",
      "description": "Estimated reading time"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "document_url": {
      "type": "string",
      "description": "PDF or file URL"
    },
    "cover_image_url": {
      "type": "string"
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "published_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "view_count": {
      "type": "number",
      "default": 0
    },
    "download_count": {
      "type": "number",
      "default": 0
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string"
    }
  },
  "required": [
    "title_en",
    "content_en",
    "category"
  ]
}
{
  "name": "TrendEntry",
  "type": "object",
  "properties": {
    "sector_id": {
      "type": "string",
      "description": "Reference to Sector"
    },
    "trend_name_ar": {
      "type": "string"
    },
    "trend_name_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "category": {
      "type": "string",
      "enum": [
        "technology",
        "policy",
        "social",
        "environmental",
        "economic"
      ]
    },
    "data_source": {
      "type": "string"
    },
    "data_points": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "value": {
            "type": "number"
          },
          "unit": {
            "type": "string"
          }
        }
      }
    },
    "direction": {
      "type": "string",
      "enum": [
        "rising",
        "stable",
        "declining"
      ]
    },
    "velocity": {
      "type": "string",
      "enum": [
        "slow",
        "moderate",
        "rapid"
      ],
      "description": "Speed of change"
    },
    "impact_level": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "confidence_level": {
      "type": "number",
      "description": "Statistical confidence (0-100)"
    },
    "related_challenges": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "geographic_scope": {
      "type": "string",
      "enum": [
        "city",
        "region",
        "national",
        "international"
      ]
    },
    "forecast_next_quarter": {
      "type": "object",
      "properties": {
        "predicted_value": {
          "type": "number"
        },
        "confidence": {
          "type": "number"
        }
      }
    },
    "detected_date": {
      "type": "string",
      "format": "date"
    },
    "last_updated_date": {
      "type": "string",
      "format": "date"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "trend_name_en",
    "sector_id"
  ]
}
{
  "name": "MIIResult",
  "type": "object",
  "properties": {
    "municipality_id": {
      "type": "string",
      "description": "Reference to Municipality"
    },
    "city_id": {
      "type": "string",
      "description": "Reference to City"
    },
    "period": {
      "type": "string",
      "description": "Period identifier (e.g., 2026-Q2)"
    },
    "year": {
      "type": "number"
    },
    "quarter": {
      "type": "number"
    },
    "calculation_date": {
      "type": "string",
      "format": "date"
    },
    "overall_score": {
      "type": "number",
      "description": "Overall MII score (0-100)"
    },
    "rank": {
      "type": "number",
      "description": "National ranking"
    },
    "rank_national": {
      "type": "number",
      "description": "National ranking"
    },
    "rank_in_category": {
      "type": "number",
      "description": "Rank within city type category"
    },
    "previous_year_score": {
      "type": "number"
    },
    "year_over_year_change": {
      "type": "number",
      "description": "Change from previous year"
    },
    "dimension_scores": {
      "type": "object",
      "description": "Scores per dimension",
      "properties": {
        "challenges_score": {
          "type": "number"
        },
        "pilots_score": {
          "type": "number"
        },
        "innovation_capacity_score": {
          "type": "number"
        },
        "partnership_score": {
          "type": "number"
        },
        "digital_maturity_score": {
          "type": "number"
        }
      }
    },
    "peer_comparison": {
      "type": "object",
      "properties": {
        "similar_cities": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "rank_in_peer_group": {
          "type": "number"
        }
      }
    },
    "trend": {
      "type": "string",
      "enum": [
        "up",
        "stable",
        "down"
      ]
    },
    "previous_score": {
      "type": "number"
    },
    "data_completeness_score": {
      "type": "number",
      "description": "Data quality score (0-100)"
    },
    "improvement_recommendations": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "ai_comments": {
      "type": "string"
    },
    "strengths": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "improvement_areas": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "municipality_id",
    "period",
    "overall_score"
  ]
}
{
  "name": "Notification",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "Recipient user email"
    },
    "title": {
      "type": "string"
    },
    "body": {
      "type": "string"
    },
    "notification_type": {
      "type": "string",
      "enum": [
        "task",
        "approval",
        "alert",
        "announcement",
        "reminder",
        "ai_insight"
      ],
      "description": "Notification type"
    },
    "priority": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "urgent"
      ],
      "default": "medium"
    },
    "link_url": {
      "type": "string",
      "description": "Deep link to relevant page"
    },
    "action_url": {
      "type": "string",
      "description": "Action URL"
    },
    "entity_type": {
      "type": "string",
      "description": "Related entity type (challenge, pilot, etc.)"
    },
    "entity_id": {
      "type": "string",
      "description": "Related entity ID"
    },
    "sent_date": {
      "type": "string",
      "format": "date-time"
    },
    "read_at": {
      "type": "string",
      "format": "date-time"
    },
    "is_read": {
      "type": "boolean",
      "default": false
    },
    "action_required": {
      "type": "boolean",
      "default": false
    },
    "expires_date": {
      "type": "string",
      "format": "date-time",
      "description": "When notification expires"
    },
    "dismissed_date": {
      "type": "string",
      "format": "date-time"
    }
  },
  "required": [
    "user_email",
    "title",
    "body",
    "notification_type"
  ]
}
{
  "name": "SystemActivity",
  "type": "object",
  "properties": {
    "activity_type": {
      "type": "string",
      "enum": [
        "api_call",
        "data_sync",
        "backup",
        "calculation",
        "notification",
        "error",
        "warning",
        "info"
      ],
      "description": "Type of system activity"
    },
    "service_name": {
      "type": "string",
      "description": "Service or module name"
    },
    "description": {
      "type": "string"
    },
    "severity": {
      "type": "string",
      "enum": [
        "info",
        "warning",
        "error",
        "critical"
      ],
      "default": "info"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "duration_ms": {
      "type": "number",
      "description": "Execution time in milliseconds"
    },
    "status_code": {
      "type": "number",
      "description": "HTTP status or result code"
    },
    "error_message": {
      "type": "string"
    },
    "error_stack": {
      "type": "string",
      "description": "Stack trace for errors"
    },
    "resolution_time": {
      "type": "number",
      "description": "Time to resolve in minutes"
    },
    "resolved_by": {
      "type": "string"
    },
    "metadata": {
      "type": "object",
      "description": "Additional context"
    },
    "trace_id": {
      "type": "string",
      "description": "Distributed tracing ID"
    }
  },
  "required": [
    "activity_type",
    "timestamp"
  ]
}
{
  "name": "GlobalTrend",
  "type": "object",
  "properties": {
    "trend_name_ar": {
      "type": "string"
    },
    "trend_name_en": {
      "type": "string"
    },
    "category": {
      "type": "string",
      "enum": [
        "technology",
        "policy",
        "social",
        "environmental",
        "economic"
      ],
      "description": "Trend category"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "global_data_source": {
      "type": "string"
    },
    "source_url": {
      "type": "string"
    },
    "relevance_to_saudi": {
      "type": "string",
      "description": "How this trend applies to Saudi context"
    },
    "saudi_readiness_score": {
      "type": "number",
      "description": "Saudi readiness to adopt (0-100)"
    },
    "impact_forecast": {
      "type": "string"
    },
    "detection_date": {
      "type": "string",
      "format": "date"
    },
    "countries_affected": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "adoption_timeline": {
      "type": "string",
      "description": "Expected timeline for Saudi adoption"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "trend_name_en",
    "category"
  ]
}
{
  "name": "CaseStudy",
  "type": "object",
  "properties": {
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "slug": {
      "type": "string",
      "description": "URL-friendly slug"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution"
    },
    "municipality_id": {
      "type": "string",
      "description": "Reference to Municipality"
    },
    "challenge_addressed": {
      "type": "string"
    },
    "solution_applied": {
      "type": "string"
    },
    "implementation_overview_ar": {
      "type": "string"
    },
    "implementation_overview_en": {
      "type": "string"
    },
    "results_ar": {
      "type": "string"
    },
    "results_en": {
      "type": "string"
    },
    "metrics": {
      "type": "object",
      "properties": {
        "kpi_improvements": {
          "type": "array",
          "items": {
            "type": "object"
          }
        },
        "cost_savings": {
          "type": "number"
        },
        "time_savings": {
          "type": "number"
        }
      }
    },
    "roi_achieved": {
      "type": "number",
      "description": "Return on investment percentage"
    },
    "implementation_cost": {
      "type": "number"
    },
    "implementation_duration": {
      "type": "number",
      "description": "Duration in weeks"
    },
    "lessons_learned": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "lesson": {
            "type": "string"
          },
          "category": {
            "type": "string"
          }
        }
      }
    },
    "testimonials": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "quote": {
            "type": "string"
          },
          "author": {
            "type": "string"
          },
          "role": {
            "type": "string"
          }
        }
      }
    },
    "document_url": {
      "type": "string"
    },
    "video_url": {
      "type": "string"
    },
    "image_url": {
      "type": "string"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "download_url": {
      "type": "string",
      "description": "PDF download link"
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "publication_date": {
      "type": "string",
      "format": "date"
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "view_count": {
      "type": "number",
      "default": 0
    },
    "download_count": {
      "type": "number",
      "default": 0
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "title_en"
  ]
}
{
  "name": "PlatformInsight",
  "type": "object",
  "properties": {
    "insight_type": {
      "type": "string",
      "enum": [
        "success",
        "warning",
        "recommendation",
        "alert",
        "opportunity"
      ]
    },
    "insight_text": {
      "type": "string"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "insight_category": {
      "type": "string",
      "enum": [
        "pipeline",
        "performance",
        "risk",
        "opportunity",
        "trend",
        "anomaly"
      ]
    },
    "entity_type": {
      "type": "string"
    },
    "entity_id": {
      "type": "string"
    },
    "related_entities": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "entity_type": {
            "type": "string"
          },
          "entity_id": {
            "type": "string"
          }
        }
      }
    },
    "priority": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "critical"
      ],
      "default": "medium"
    },
    "visibility": {
      "type": "string",
      "enum": [
        "executive",
        "admin",
        "municipality",
        "public"
      ],
      "default": "admin"
    },
    "action_required": {
      "type": "boolean",
      "default": false
    },
    "action_recommended": {
      "type": "string"
    },
    "impact_if_acted": {
      "type": "string",
      "description": "Potential impact if action taken"
    },
    "generated_by_ai": {
      "type": "boolean",
      "default": true
    },
    "ai_model_used": {
      "type": "string",
      "description": "AI model that generated insight"
    },
    "confidence_score": {
      "type": "number",
      "description": "AI confidence (0-100)"
    },
    "generated_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "dismissed_by": {
      "type": "string"
    },
    "dismissed_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "insight_type",
    "title_en"
  ]
}
{
  "name": "Task",
  "type": "object",
  "properties": {
    "title": {
      "type": "string",
      "description": "Task title"
    },
    "description": {
      "type": "string",
      "description": "Task description"
    },
    "assigned_to": {
      "type": "string",
      "description": "Email of assigned user"
    },
    "assigned_by": {
      "type": "string",
      "description": "Email of assigner"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "pilot",
        "solution",
        "program",
        "rd_project",
        "proposal",
        "general"
      ],
      "description": "Related entity type"
    },
    "entity_id": {
      "type": "string",
      "description": "Related entity ID"
    },
    "priority": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "urgent"
      ],
      "default": "medium"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "in_progress",
        "completed",
        "cancelled",
        "blocked"
      ],
      "default": "pending"
    },
    "due_date": {
      "type": "string",
      "format": "date"
    },
    "completed_date": {
      "type": "string",
      "format": "date-time"
    },
    "dependencies": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Task IDs this task depends on"
    },
    "estimated_hours": {
      "type": "number",
      "description": "Estimated time in hours"
    },
    "actual_hours": {
      "type": "number",
      "description": "Actual time spent in hours"
    },
    "blocked_by": {
      "type": "string",
      "description": "Reason task is blocked"
    },
    "checklist": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "item": {
            "type": "string"
          },
          "completed": {
            "type": "boolean"
          }
        }
      },
      "description": "Task checklist items"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "title",
    "assigned_to"
  ]
}
{
  "name": "Message",
  "type": "object",
  "properties": {
    "from_user": {
      "type": "string",
      "description": "Sender email"
    },
    "from_user_email": {
      "type": "string",
      "description": "Sender email"
    },
    "to_user": {
      "type": "string",
      "description": "Recipient email"
    },
    "to_user_email": {
      "type": "string",
      "description": "Recipient email"
    },
    "subject": {
      "type": "string",
      "description": "Message subject"
    },
    "body": {
      "type": "string",
      "description": "Message content"
    },
    "thread_id": {
      "type": "string",
      "description": "Conversation thread ID for grouping"
    },
    "attachments": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "size": {
            "type": "number"
          }
        }
      }
    },
    "is_system_message": {
      "type": "boolean",
      "default": false
    },
    "priority": {
      "type": "string",
      "enum": [
        "low",
        "normal",
        "high",
        "urgent"
      ],
      "default": "normal"
    },
    "entity_type": {
      "type": "string"
    },
    "entity_id": {
      "type": "string"
    },
    "sent_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_read": {
      "type": "boolean",
      "default": false
    },
    "read_date": {
      "type": "string",
      "format": "date-time"
    },
    "status": {
      "type": "string",
      "enum": [
        "sent",
        "delivered",
        "read",
        "archived"
      ],
      "default": "sent"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "from_user",
    "to_user",
    "subject",
    "body"
  ]
}
{
  "name": "PilotComment",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "user_email": {
      "type": "string",
      "description": "Commenter email"
    },
    "comment_text": {
      "type": "string",
      "description": "Comment content"
    },
    "is_internal": {
      "type": "boolean",
      "default": false,
      "description": "Internal note vs public comment"
    },
    "parent_comment_id": {
      "type": "string",
      "description": "Reference to parent comment for threading"
    },
    "attachment_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "mentions": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "reactions": {
      "type": "object",
      "properties": {
        "like": {
          "type": "number",
          "default": 0
        },
        "helpful": {
          "type": "number",
          "default": 0
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "comment_text"
  ]
}
{
  "name": "ProgramComment",
  "type": "object",
  "properties": {
    "program_id": {
      "type": "string",
      "description": "Reference to Program"
    },
    "user_email": {
      "type": "string"
    },
    "comment_text": {
      "type": "string"
    },
    "is_internal": {
      "type": "boolean",
      "default": false
    },
    "is_qa": {
      "type": "boolean",
      "default": false,
      "description": "Q&A vs regular comment"
    },
    "parent_comment_id": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "program_id",
    "comment_text"
  ]
}
{
  "name": "SolutionComment",
  "type": "object",
  "properties": {
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution"
    },
    "user_email": {
      "type": "string"
    },
    "comment_text": {
      "type": "string"
    },
    "is_internal": {
      "type": "boolean",
      "default": false
    },
    "rating": {
      "type": "number",
      "description": "Optional rating 1-5"
    },
    "verified_purchase": {
      "type": "boolean",
      "default": false,
      "description": "Whether user has used this solution"
    },
    "helpful_count": {
      "type": "number",
      "default": 0
    },
    "parent_comment_id": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "solution_id",
    "comment_text"
  ]
}
{
  "name": "RDProjectComment",
  "type": "object",
  "properties": {
    "rd_project_id": {
      "type": "string",
      "description": "Reference to RDProject"
    },
    "user_email": {
      "type": "string"
    },
    "comment_text": {
      "type": "string"
    },
    "is_internal": {
      "type": "boolean",
      "default": false
    },
    "parent_comment_id": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "rd_project_id",
    "comment_text"
  ]
}
{
  "name": "ScalingPlan",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to successfully completed Pilot"
    },
    "validated_solution_id": {
      "type": "string",
      "description": "Reference to the Solution being scaled"
    },
    "title_en": {
      "type": "string"
    },
    "title_ar": {
      "type": "string"
    },
    "strategy": {
      "type": "string",
      "description": "Scaling strategy"
    },
    "approach": {
      "type": "string",
      "description": "Scaling approach"
    },
    "target_municipalities": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "target_cities": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Target cities for deployment"
    },
    "target_locations": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "timeline": {
      "type": "string"
    },
    "timeline_months": {
      "type": "number"
    },
    "budget_total": {
      "type": "number"
    },
    "estimated_cost": {
      "type": "number"
    },
    "budget_approved": {
      "type": "boolean",
      "default": false
    },
    "stakeholder_alignment_score": {
      "type": "number",
      "description": "Stakeholder buy-in (0-100)"
    },
    "integration_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "training_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "go_live_dates": {
      "type": "object",
      "properties": {
        "phase_1": {
          "type": "string",
          "format": "date"
        },
        "phase_2": {
          "type": "string",
          "format": "date"
        },
        "national_rollout": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "success_metrics_achieved": {
      "type": "object",
      "properties": {
        "municipalities_deployed": {
          "type": "number"
        },
        "users_impacted": {
          "type": "number"
        },
        "cost_savings": {
          "type": "number"
        }
      }
    },
    "phases": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "deployed_count": {
      "type": "number",
      "description": "Number of locations deployed",
      "default": 0
    },
    "rollout_progress": {
      "type": "number",
      "description": "Scaling progress percentage (0-100)",
      "default": 0
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "approved",
        "in_progress",
        "executing",
        "completed",
        "terminated"
      ],
      "default": "draft"
    },
    "success_metrics": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "approved_by": {
      "type": "string"
    },
    "approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "contract_value_total": {
      "type": "number",
      "description": "Total contract value across all deployments (SAR)"
    },
    "contract_value_per_city": {
      "type": "number",
      "description": "Average contract value per city (SAR)"
    },
    "provider_revenue_total": {
      "type": "number",
      "description": "Total revenue to provider from scaling (SAR)"
    },
    "payment_terms": {
      "type": "object",
      "properties": {
        "payment_structure": {
          "type": "string"
        },
        "milestones": {
          "type": "array",
          "items": {
            "type": "object"
          }
        }
      },
      "description": "Payment terms and schedule"
    },
    "contract_status_per_city": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "city_id": {
            "type": "string"
          },
          "contract_status": {
            "type": "string",
            "enum": [
              "pending",
              "signed",
              "active",
              "completed",
              "terminated"
            ]
          },
          "contract_value": {
            "type": "number"
          },
          "signed_date": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "description": "Contract status for each city deployment"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "title_en"
  ]
}
{
  "name": "LivingLab",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique living lab code (e.g., LL-RUH-001)"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "tagline_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "type": {
      "type": "string",
      "enum": [
        "physical",
        "virtual",
        "hybrid"
      ]
    },
    "focus_areas": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "smart_mobility",
          "digital_services",
          "environment",
          "energy",
          "health",
          "education",
          "urban_design",
          "iot",
          "ai_ml",
          "robotics",
          "cleantech"
        ]
      }
    },
    "sector_id": {
      "type": "string",
      "description": "Primary sector reference"
    },
    "subsector_id": {
      "type": "string",
      "description": "Primary subsector reference"
    },
    "service_focus_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Municipal services researched in lab"
    },
    "strategic_pillar_id": {
      "type": "string",
      "description": "Strategic pillar alignment"
    },
    "strategic_objective_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Strategic objectives supported"
    },
    "municipality_id": {
      "type": "string",
      "description": "Primary municipality hosting lab"
    },
    "city_id": {
      "type": "string"
    },
    "region_id": {
      "type": "string"
    },
    "organization_id": {
      "type": "string"
    },
    "university_id": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "objectives_ar": {
      "type": "string"
    },
    "objectives_en": {
      "type": "string"
    },
    "research_themes": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "address": {
      "type": "string"
    },
    "area_sqm": {
      "type": "number"
    },
    "coordinates": {
      "type": "object",
      "properties": {
        "lat": {
          "type": "number"
        },
        "lng": {
          "type": "number"
        }
      }
    },
    "capacity": {
      "type": "number"
    },
    "current_projects": {
      "type": "number",
      "default": 0
    },
    "total_completed_projects": {
      "type": "number",
      "default": 0
    },
    "research_output_count": {
      "type": "number",
      "default": 0
    },
    "total_bookings": {
      "type": "number",
      "default": 0
    },
    "utilization_rate": {
      "type": "number",
      "description": "Percentage utilization (0-100)"
    },
    "status": {
      "type": "string",
      "enum": [
        "planning",
        "construction",
        "accreditation",
        "operational",
        "maintenance",
        "suspended"
      ],
      "default": "planning"
    },
    "launch_date": {
      "type": "string",
      "format": "date"
    },
    "accreditation": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "organization": {
            "type": "string"
          },
          "certification": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "expiry": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "accreditation_date": {
      "type": "string",
      "format": "date"
    },
    "accreditation_expiry": {
      "type": "string",
      "format": "date"
    },
    "operational_hours": {
      "type": "string"
    },
    "operating_hours": {
      "type": "object",
      "properties": {
        "weekday_hours": {
          "type": "string"
        },
        "weekend_hours": {
          "type": "string"
        },
        "public_holidays": {
          "type": "string"
        }
      }
    },
    "booking_calendar_url": {
      "type": "string"
    },
    "access_policy": {
      "type": "string",
      "enum": [
        "open",
        "by_application",
        "members_only",
        "restricted"
      ],
      "default": "by_application"
    },
    "membership_tiers": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "facilities": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "equipment": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "equipment_maintenance_log": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "equipment_name": {
            "type": "string"
          },
          "maintenance_date": {
            "type": "string",
            "format": "date"
          },
          "performed_by": {
            "type": "string"
          },
          "notes": {
            "type": "string"
          }
        }
      }
    },
    "technical_capabilities": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "connectivity": {
      "type": "object",
      "properties": {
        "5g_available": {
          "type": "boolean"
        },
        "wifi_speed_mbps": {
          "type": "number"
        },
        "iot_platform": {
          "type": "string"
        },
        "cloud_services": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "hpc_access": {
          "type": "boolean"
        }
      }
    },
    "software_tools": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "datasets": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "expert_network": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "partner_institutions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Partner universities and research centers"
    },
    "safety_certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "expiry": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "funding_sources": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "sandbox_zones": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "success_stories": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "publications": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "events": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "director_name": {
      "type": "string"
    },
    "director_email": {
      "type": "string"
    },
    "director_phone": {
      "type": "string"
    },
    "contact_email": {
      "type": "string"
    },
    "contact_phone": {
      "type": "string"
    },
    "website_url": {
      "type": "string"
    },
    "booking_system_url": {
      "type": "string"
    },
    "virtual_tour_url": {
      "type": "string"
    },
    "social_media": {
      "type": "object",
      "properties": {
        "twitter": {
          "type": "string"
        },
        "linkedin": {
          "type": "string"
        },
        "youtube": {
          "type": "string"
        }
      }
    },
    "image_url": {
      "type": "string"
    },
    "gallery_urls": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "video_url": {
      "type": "string"
    },
    "brochure_url": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "type",
    "focus_areas",
    "city_id"
  ]
}
{
  "name": "LivingLabBooking",
  "type": "object",
  "properties": {
    "living_lab_id": {
      "type": "string",
      "description": "Reference to LivingLab"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot (optional)"
    },
    "rd_project_id": {
      "type": "string",
      "description": "Reference to RDProject (optional)"
    },
    "project_type": {
      "type": "string",
      "enum": [
        "pilot",
        "rd_project",
        "training",
        "event",
        "other"
      ]
    },
    "project_id": {
      "type": "string"
    },
    "project_name": {
      "type": "string"
    },
    "organization_id": {
      "type": "string"
    },
    "start_date": {
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "type": "string",
      "format": "date"
    },
    "resources_needed": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "resources_required": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "budget_estimate": {
      "type": "number"
    },
    "purpose": {
      "type": "string"
    },
    "expected_outcomes": {
      "type": "string"
    },
    "utilization_report": {
      "type": "object",
      "properties": {
        "hours_used": {
          "type": "number"
        },
        "resources_used": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "outputs_generated": {
          "type": "string"
        }
      }
    },
    "feedback_score": {
      "type": "number",
      "description": "User satisfaction (1-5)"
    },
    "contact_person": {
      "type": "string"
    },
    "contact_email": {
      "type": "string"
    },
    "notes": {
      "type": "string"
    },
    "cancellation_reason": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": [
        "requested",
        "pending",
        "confirmed",
        "approved",
        "active",
        "completed",
        "cancelled"
      ],
      "default": "requested"
    },
    "approved_by": {
      "type": "string"
    },
    "approval_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "living_lab_id",
    "project_name",
    "start_date",
    "end_date"
  ]
}
{
  "name": "LivingLabResourceBooking",
  "type": "object",
  "properties": {
    "booking_code": {
      "type": "string",
      "description": "Unique booking identifier"
    },
    "living_lab_id": {
      "type": "string",
      "description": "Reference to LivingLab"
    },
    "living_lab_booking_id": {
      "type": "string",
      "description": "Parent booking reference"
    },
    "resource_type": {
      "type": "string",
      "enum": [
        "equipment",
        "facility_space",
        "technical_support",
        "data_access",
        "computing_resources",
        "materials"
      ],
      "description": "Type of resource"
    },
    "resource_id": {
      "type": "string",
      "description": "Specific resource identifier"
    },
    "resource_name": {
      "type": "string"
    },
    "resource_quantity": {
      "type": "number",
      "default": 1
    },
    "start_time": {
      "type": "string",
      "format": "date-time"
    },
    "end_time": {
      "type": "string",
      "format": "date-time"
    },
    "actual_start_time": {
      "type": "string",
      "format": "date-time"
    },
    "actual_end_time": {
      "type": "string",
      "format": "date-time"
    },
    "actual_usage_duration": {
      "type": "number",
      "description": "Actual usage in hours"
    },
    "status": {
      "type": "string",
      "enum": [
        "requested",
        "confirmed",
        "active",
        "completed",
        "cancelled",
        "no_show"
      ],
      "default": "requested"
    },
    "booked_by": {
      "type": "string",
      "description": "User email"
    },
    "booking_date": {
      "type": "string",
      "format": "date-time"
    },
    "setup_requirements": {
      "type": "string",
      "description": "Special setup needed"
    },
    "cost_per_hour": {
      "type": "number"
    },
    "total_cost": {
      "type": "number"
    },
    "payment_status": {
      "type": "string",
      "enum": [
        "pending",
        "paid",
        "waived"
      ],
      "default": "pending"
    },
    "approved_by": {
      "type": "string"
    },
    "approval_date": {
      "type": "string",
      "format": "date-time"
    },
    "cancellation_reason": {
      "type": "string"
    },
    "cancelled_by": {
      "type": "string"
    },
    "usage_notes": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "living_lab_id",
    "resource_type",
    "start_time",
    "end_time",
    "booked_by"
  ]
}
{
  "name": "SandboxApplication",
  "type": "object",
  "properties": {
    "application_code": {
      "type": "string",
      "description": "Unique application code"
    },
    "sandbox_id": {
      "type": "string",
      "description": "Reference to Sandbox"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot (optional)"
    },
    "applicant_org_id": {
      "type": "string",
      "description": "Reference to Organization"
    },
    "applicant_name": {
      "type": "string"
    },
    "applicant_email": {
      "type": "string"
    },
    "project_title": {
      "type": "string"
    },
    "project_description": {
      "type": "string"
    },
    "proposed_exemptions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "regulation_reference": {
            "type": "string"
          },
          "exemption_type": {
            "type": "string"
          },
          "justification": {
            "type": "string"
          }
        }
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "under_review",
        "approved",
        "rejected",
        "active",
        "completed",
        "terminated"
      ],
      "default": "draft"
    },
    "submission_date": {
      "type": "string",
      "format": "date-time"
    },
    "risk_assessment": {
      "type": "object",
      "properties": {
        "overall_risk_level": {
          "type": "string",
          "enum": [
            "low",
            "medium",
            "high",
            "critical"
          ]
        },
        "technical_risk": {
          "type": "number"
        },
        "regulatory_risk": {
          "type": "number"
        },
        "safety_risk": {
          "type": "number"
        },
        "mitigation_plan": {
          "type": "string"
        }
      }
    },
    "safety_protocols": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Required safety measures"
    },
    "monitoring_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "approved_by": {
      "type": "string"
    },
    "approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "approval_conditions": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "rejection_reason": {
      "type": "string"
    },
    "start_date": {
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "type": "string",
      "format": "date"
    },
    "actual_end_date": {
      "type": "string",
      "format": "date"
    },
    "completion_report_url": {
      "type": "string"
    },
    "termination_reason": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "sandbox_id",
    "applicant_org_id",
    "project_title",
    "applicant_email"
  ]
}
{
  "name": "SandboxIncident",
  "type": "object",
  "properties": {
    "incident_code": {
      "type": "string",
      "description": "Unique incident identifier"
    },
    "sandbox_id": {
      "type": "string",
      "description": "Reference to Sandbox"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot if applicable"
    },
    "sandbox_application_id": {
      "type": "string"
    },
    "affected_pilots": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of affected pilot IDs"
    },
    "incident_type": {
      "type": "string",
      "enum": [
        "safety",
        "regulatory_breach",
        "technical_failure",
        "data_breach",
        "environmental",
        "operational",
        "other"
      ],
      "description": "Type of incident"
    },
    "severity": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "critical"
      ],
      "default": "medium"
    },
    "safety_impact_level": {
      "type": "string",
      "enum": [
        "none",
        "minor",
        "moderate",
        "major",
        "catastrophic"
      ],
      "description": "Safety impact assessment"
    },
    "description": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": [
        "reported",
        "investigating",
        "contained",
        "resolved",
        "closed"
      ],
      "default": "reported"
    },
    "reported_by": {
      "type": "string",
      "description": "Reporter email"
    },
    "reported_date": {
      "type": "string",
      "format": "date-time"
    },
    "investigation_findings": {
      "type": "string"
    },
    "root_cause": {
      "type": "string"
    },
    "resolution": {
      "type": "string"
    },
    "resolved_date": {
      "type": "string",
      "format": "date-time"
    },
    "resolved_by": {
      "type": "string"
    },
    "regulatory_notification_sent": {
      "type": "boolean",
      "default": false,
      "description": "Whether regulatory authorities were notified"
    },
    "notification_date": {
      "type": "string",
      "format": "date-time"
    },
    "lessons_learned": {
      "type": "string"
    },
    "preventive_actions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Actions to prevent recurrence"
    },
    "corrective_actions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string"
          },
          "responsible": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed"
            ]
          }
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "sandbox_id",
    "incident_type",
    "severity",
    "description",
    "reported_by"
  ]
}
{
  "name": "RegulatoryExemption",
  "type": "object",
  "properties": {
    "exemption_code": {
      "type": "string",
      "description": "Unique exemption identifier"
    },
    "sandbox_id": {
      "type": "string",
      "description": "Reference to Sandbox"
    },
    "sandbox_application_id": {
      "type": "string"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "exemption_type": {
      "type": "string",
      "enum": [
        "regulatory_waiver",
        "policy_exception",
        "standard_deviation",
        "licensing_exemption",
        "data_privacy",
        "safety_protocol"
      ],
      "description": "Type of exemption"
    },
    "regulation_reference": {
      "type": "string",
      "description": "Which regulation/law is being exempted"
    },
    "legal_basis_document": {
      "type": "string",
      "description": "Legal authority document URL"
    },
    "justification": {
      "type": "string",
      "description": "Why exemption is needed"
    },
    "status": {
      "type": "string",
      "enum": [
        "requested",
        "under_review",
        "approved",
        "conditional",
        "active",
        "revoked",
        "expired"
      ],
      "default": "requested"
    },
    "approved_by": {
      "type": "string",
      "description": "Approver email"
    },
    "approval_date": {
      "type": "string",
      "format": "date-time"
    },
    "effective_date": {
      "type": "string",
      "format": "date"
    },
    "expiry_date": {
      "type": "string",
      "format": "date"
    },
    "conditions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Conditions for exemption"
    },
    "risk_mitigation_plan": {
      "type": "string",
      "description": "Plan to mitigate risks"
    },
    "monitoring_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Required monitoring activities"
    },
    "reporting_frequency": {
      "type": "string",
      "enum": [
        "weekly",
        "monthly",
        "quarterly",
        "as_needed"
      ]
    },
    "renewal_process": {
      "type": "string",
      "description": "How to renew exemption"
    },
    "renewal_eligible": {
      "type": "boolean",
      "default": false
    },
    "renewal_date": {
      "type": "string",
      "format": "date"
    },
    "revocation_reason": {
      "type": "string"
    },
    "revoked_by": {
      "type": "string"
    },
    "revoked_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "sandbox_id",
    "exemption_type",
    "regulation_reference",
    "justification"
  ]
}
{
  "name": "SandboxProjectMilestone",
  "type": "object",
  "properties": {
    "sandbox_application_id": {
      "type": "string",
      "description": "Reference to SandboxApplication"
    },
    "milestone_name": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "due_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "in_progress",
        "completed",
        "delayed",
        "cancelled"
      ],
      "default": "pending"
    },
    "completed_date": {
      "type": "string",
      "format": "date"
    },
    "deliverables": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "approval_required": {
      "type": "boolean",
      "default": false
    },
    "approved_by": {
      "type": "string"
    },
    "approval_date": {
      "type": "string",
      "format": "date"
    },
    "evidence_urls": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Proof of completion documents"
    },
    "delay_reason": {
      "type": "string"
    },
    "delay_days": {
      "type": "number",
      "description": "Number of days delayed"
    },
    "responsible_email": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "sandbox_application_id",
    "milestone_name",
    "due_date"
  ]
}
{
  "name": "SandboxCollaborator",
  "type": "object",
  "properties": {
    "sandbox_id": {
      "type": "string",
      "description": "Reference to Sandbox"
    },
    "sandbox_application_id": {
      "type": "string"
    },
    "user_email": {
      "type": "string",
      "description": "Collaborator email"
    },
    "organization_id": {
      "type": "string"
    },
    "role": {
      "type": "string",
      "enum": [
        "principal_investigator",
        "researcher",
        "technical_advisor",
        "regulatory_expert",
        "observer",
        "sponsor"
      ],
      "description": "Collaborator role"
    },
    "permissions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Specific permissions granted"
    },
    "contribution_description": {
      "type": "string",
      "description": "Expected contribution"
    },
    "status": {
      "type": "string",
      "enum": [
        "invited",
        "active",
        "inactive",
        "removed"
      ],
      "default": "invited"
    },
    "joined_date": {
      "type": "string",
      "format": "date"
    },
    "exit_date": {
      "type": "string",
      "format": "date"
    },
    "exit_reason": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "sandbox_id",
    "user_email",
    "role"
  ]
}
{
  "name": "ExemptionAuditLog",
  "type": "object",
  "properties": {
    "regulatory_exemption_id": {
      "type": "string",
      "description": "Reference to RegulatoryExemption"
    },
    "action_type": {
      "type": "string",
      "enum": [
        "created",
        "approved",
        "activated",
        "modified",
        "renewed",
        "revoked",
        "expired",
        "reviewed"
      ],
      "description": "Type of action"
    },
    "action_date": {
      "type": "string",
      "format": "date-time"
    },
    "performed_by": {
      "type": "string",
      "description": "User email"
    },
    "ip_address": {
      "type": "string"
    },
    "user_agent": {
      "type": "string"
    },
    "details": {
      "type": "string",
      "description": "Action details"
    },
    "previous_state": {
      "type": "string",
      "description": "State before change"
    },
    "new_state": {
      "type": "string",
      "description": "State after change"
    },
    "change_reason": {
      "type": "string",
      "description": "Reason for change"
    },
    "fields_changed": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Which fields were modified"
    }
  },
  "required": [
    "regulatory_exemption_id",
    "action_type",
    "performed_by"
  ]
}
{
  "name": "SandboxMonitoringData",
  "type": "object",
  "properties": {
    "sandbox_id": {
      "type": "string",
      "description": "Reference to Sandbox"
    },
    "sandbox_application_id": {
      "type": "string"
    },
    "metric_name": {
      "type": "string"
    },
    "metric_category": {
      "type": "string",
      "enum": [
        "safety",
        "performance",
        "compliance",
        "environmental",
        "quality",
        "operational"
      ],
      "description": "Metric category"
    },
    "value": {
      "type": "number"
    },
    "unit": {
      "type": "string"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "data_source": {
      "type": "string",
      "description": "Source of measurement"
    },
    "measurement_method": {
      "type": "string"
    },
    "threshold_min": {
      "type": "number"
    },
    "threshold_max": {
      "type": "number"
    },
    "threshold_exceeded": {
      "type": "boolean",
      "default": false
    },
    "alert_triggered": {
      "type": "boolean",
      "default": false
    },
    "alert_severity": {
      "type": "string",
      "enum": [
        "info",
        "warning",
        "critical"
      ]
    },
    "corrective_action_taken": {
      "type": "string"
    },
    "action_taken_by": {
      "type": "string"
    },
    "action_date": {
      "type": "string",
      "format": "date-time"
    },
    "notes": {
      "type": "string"
    }
  },
  "required": [
    "sandbox_id",
    "metric_name",
    "value",
    "timestamp"
  ]
}
{
  "name": "RDCallComment",
  "type": "object",
  "properties": {
    "rd_call_id": {
      "type": "string",
      "description": "Reference to RDCall"
    },
    "user_email": {
      "type": "string"
    },
    "comment_text": {
      "type": "string"
    },
    "is_internal": {
      "type": "boolean",
      "default": false
    },
    "is_question": {
      "type": "boolean",
      "default": false
    },
    "answer_text": {
      "type": "string"
    },
    "answered_by": {
      "type": "string"
    },
    "answer_date": {
      "type": "string",
      "format": "date-time"
    },
    "parent_comment_id": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "rd_call_id",
    "comment_text"
  ]
}
{
  "name": "RDProposalComment",
  "type": "object",
  "properties": {
    "rd_proposal_id": {
      "type": "string",
      "description": "Reference to RDProposal"
    },
    "user_email": {
      "type": "string"
    },
    "comment_text": {
      "type": "string"
    },
    "is_internal": {
      "type": "boolean",
      "default": false
    },
    "is_reviewer_feedback": {
      "type": "boolean",
      "default": false
    },
    "comment_type": {
      "type": "string",
      "enum": [
        "general",
        "review_feedback",
        "clarification",
        "revision_request"
      ],
      "default": "general"
    },
    "feedback_category": {
      "type": "string",
      "enum": [
        "methodology",
        "budget",
        "team",
        "innovation",
        "feasibility",
        "other"
      ]
    },
    "requires_response": {
      "type": "boolean",
      "default": false
    },
    "parent_comment_id": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "rd_proposal_id",
    "comment_text"
  ]
}
{
  "name": "MatchmakerApplication",
  "type": "object",
  "properties": {
    "application_code": {
      "type": "string",
      "description": "Unique application code (e.g., MMA-2025-001)"
    },
    "organization_name_ar": {
      "type": "string"
    },
    "organization_name_en": {
      "type": "string"
    },
    "organization_id": {
      "type": "string"
    },
    "headquarters_location": {
      "type": "string",
      "enum": [
        "Saudi Arabia",
        "GCC",
        "Middle East",
        "Europe",
        "North America",
        "Asia",
        "Africa",
        "South America",
        "Other"
      ]
    },
    "year_established": {
      "type": "number"
    },
    "website": {
      "type": "string"
    },
    "contact_person": {
      "type": "string"
    },
    "contact_title": {
      "type": "string"
    },
    "contact_email": {
      "type": "string"
    },
    "contact_phone": {
      "type": "string"
    },
    "sectors": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "company_stage": {
      "type": "string",
      "enum": [
        "pre_seed",
        "seed",
        "series_a",
        "series_b",
        "series_c_plus",
        "growth_stage",
        "other"
      ]
    },
    "geographic_scope": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "collaboration_approach": {
      "type": "string"
    },
    "portfolio_url": {
      "type": "string"
    },
    "stage": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "screening",
        "evaluating",
        "matched",
        "engaged",
        "pilot_conversion",
        "rejected"
      ],
      "default": "draft"
    },
    "screening_checklist_results": {
      "type": "object",
      "properties": {
        "profile_complete": {
          "type": "boolean"
        },
        "portfolio_attached": {
          "type": "boolean"
        },
        "eligibility_met": {
          "type": "boolean"
        },
        "passed": {
          "type": "boolean"
        }
      }
    },
    "stakeholder_review_notes": {
      "type": "string"
    },
    "executive_review_date": {
      "type": "string",
      "format": "date"
    },
    "engagement_start_date": {
      "type": "string",
      "format": "date"
    },
    "engagement_milestones": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "milestone": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          }
        }
      }
    },
    "conversion_success_metrics": {
      "type": "object",
      "properties": {
        "pilot_launched": {
          "type": "boolean"
        },
        "partnership_formed": {
          "type": "boolean"
        },
        "contract_signed": {
          "type": "boolean"
        }
      }
    },
    "rejection_reason_detailed": {
      "type": "string"
    },
    "intake_gate": {
      "type": "object",
      "properties": {
        "completeness_check": {
          "type": "boolean"
        },
        "file_validation": {
          "type": "boolean"
        },
        "duplicate_check": {
          "type": "boolean"
        },
        "passed": {
          "type": "boolean"
        },
        "reviewed_by": {
          "type": "string"
        },
        "review_date": {
          "type": "string",
          "format": "date"
        },
        "notes": {
          "type": "string"
        }
      }
    },
    "stakeholder_review_gate": {
      "type": "object",
      "properties": {
        "assigned_to": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "reviews": {
          "type": "array",
          "items": {
            "type": "object"
          }
        },
        "passed": {
          "type": "boolean"
        },
        "consensus_date": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "strategic_challenges": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "classification": {
      "type": "string",
      "enum": [
        "fast_pass",
        "strong_qualified",
        "conditional",
        "not_qualified"
      ]
    },
    "executive_review_gate": {
      "type": "object",
      "properties": {
        "submitted_to_executive": {
          "type": "boolean"
        },
        "executive_briefing_url": {
          "type": "string"
        },
        "decision": {
          "type": "string",
          "enum": [
            "approved",
            "conditional_approval",
            "rejected",
            "deferred"
          ]
        },
        "decision_maker": {
          "type": "string"
        },
        "decision_date": {
          "type": "string",
          "format": "date"
        },
        "executive_comments": {
          "type": "string"
        },
        "conditions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "average_score": {
      "type": "number",
      "description": "Calculated from ExpertEvaluation records"
    },
    "matched_challenges": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "engagement_log": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "conversion_status": {
      "type": "string",
      "enum": [
        "pending",
        "pilot_created",
        "partnership_formed",
        "declined"
      ]
    },
    "converted_pilot_id": {
      "type": "string"
    },
    "rejection_reason": {
      "type": "string"
    },
    "hold_reason": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "organization_name_en",
    "contact_email"
  ]
}
{
  "name": "MatchmakerEvaluationSession",
  "type": "object",
  "properties": {
    "session_code": {
      "type": "string",
      "description": "Unique session identifier"
    },
    "matchmaker_application_id": {
      "type": "string",
      "description": "Reference to MatchmakerApplication"
    },
    "session_date": {
      "type": "string",
      "format": "date-time"
    },
    "session_type": {
      "type": "string",
      "enum": [
        "screening",
        "technical_evaluation",
        "strategic_review",
        "executive_review",
        "panel_discussion"
      ],
      "description": "Type of evaluation session"
    },
    "evaluators": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Evaluator emails"
    },
    "scores": {
      "type": "object",
      "properties": {
        "technical_fit": {
          "type": "number"
        },
        "market_alignment": {
          "type": "number"
        },
        "team_capability": {
          "type": "number"
        },
        "value_proposition": {
          "type": "number"
        },
        "scalability": {
          "type": "number"
        }
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "scheduled",
        "in_progress",
        "completed",
        "cancelled",
        "rescheduled"
      ],
      "default": "scheduled"
    },
    "recommendation": {
      "type": "string",
      "enum": [
        "proceed",
        "conditional_proceed",
        "reject",
        "needs_more_info"
      ],
      "description": "Session outcome recommendation"
    },
    "meeting_notes": {
      "type": "string"
    },
    "decision_rationale": {
      "type": "string",
      "description": "Reasoning behind decision"
    },
    "follow_up_actions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string"
          },
          "responsible": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "recording_url": {
      "type": "string"
    },
    "presentation_url": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "matchmaker_application_id",
    "session_date",
    "evaluators"
  ]
}
{
  "name": "StrategicPlan",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Plan code (e.g., SP-2025-2030)"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "vision_ar": {
      "type": "string"
    },
    "vision_en": {
      "type": "string"
    },
    "municipality_id": {
      "type": "string",
      "description": "Reference to Municipality (optional)"
    },
    "owner_email": {
      "type": "string",
      "description": "Plan owner"
    },
    "start_year": {
      "type": "number"
    },
    "end_year": {
      "type": "number"
    },
    "strategic_themes": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "initiatives": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "progress_percentage": {
            "type": "number"
          }
        }
      }
    },
    "kpis": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "budget_allocated": {
      "type": "number"
    },
    "budget_allocation": {
      "type": "object"
    },
    "milestones": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "stakeholders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "email": {
            "type": "string"
          }
        }
      }
    },
    "risks": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "risk": {
            "type": "string"
          },
          "mitigation": {
            "type": "string"
          },
          "probability": {
            "type": "string"
          },
          "impact": {
            "type": "string"
          }
        }
      }
    },
    "progress_percentage": {
      "type": "number",
      "default": 0,
      "description": "Overall plan progress (0-100)"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "under_review",
        "approved",
        "active",
        "completed",
        "archived"
      ],
      "default": "draft"
    },
    "approval_status": {
      "type": "string",
      "enum": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "approved_by": {
      "type": "string"
    },
    "approval_date": {
      "type": "string",
      "format": "date"
    },
    "approval_comments": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    },
    "version_number": {
      "type": "number",
      "default": 1
    },
    "previous_version_id": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "start_year",
    "end_year"
  ]
}
{
  "name": "UserInvitation",
  "type": "object",
  "properties": {
    "email": {
      "type": "string",
      "description": "Email address of invitee"
    },
    "full_name": {
      "type": "string",
      "description": "Invitee full name"
    },
    "role": {
      "type": "string",
      "enum": [
        "admin",
        "user",
        "municipality_admin",
        "startup_user",
        "researcher",
        "program_operator"
      ],
      "default": "user"
    },
    "custom_message": {
      "type": "string",
      "description": "Personalized invitation message"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "accepted",
        "expired",
        "cancelled"
      ],
      "default": "pending"
    },
    "invited_by": {
      "type": "string",
      "description": "Email of inviter"
    },
    "invitation_date": {
      "type": "string",
      "format": "date-time"
    },
    "accepted_date": {
      "type": "string",
      "format": "date"
    },
    "expires_date": {
      "type": "string",
      "format": "date"
    },
    "resend_count": {
      "type": "number",
      "default": 0
    },
    "last_resent_date": {
      "type": "string",
      "format": "date-time"
    },
    "invitation_token": {
      "type": "string"
    },
    "organization_id": {
      "type": "string"
    },
    "municipality_id": {
      "type": "string"
    },
    "team_ids": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "metadata": {
      "type": "object"
    }
  },
  "required": [
    "email",
    "role"
  ]
}
{
  "name": "Role",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Role name"
    },
    "description": {
      "type": "string",
      "description": "Role description"
    },
    "permissions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Granular permissions (e.g., challenge_view_all, expert_evaluate)"
    },
    "user_count": {
      "type": "number",
      "default": 0,
      "description": "Number of users with this role"
    },
    "is_system_role": {
      "type": "boolean",
      "default": false,
      "description": "System-defined role that cannot be deleted"
    },
    "is_expert_role": {
      "type": "boolean",
      "default": false,
      "description": "Whether this is an expert/evaluator role"
    },
    "required_expertise_areas": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Required expertise areas for this role"
    },
    "required_certifications": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Required certifications for this role"
    },
    "min_years_experience": {
      "type": "number",
      "description": "Minimum years of experience required"
    },
    "parent_role_id": {
      "type": "string",
      "description": "Parent role for hierarchical inheritance"
    },
    "is_custom": {
      "type": "boolean",
      "default": false,
      "description": "User-created vs system-defined"
    },
    "can_be_requested": {
      "type": "boolean",
      "default": true,
      "description": "Whether users can request this role"
    },
    "approval_required": {
      "type": "boolean",
      "default": true,
      "description": "Whether role assignment requires approval"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name"
  ]
}
{
  "name": "Team",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Team name"
    },
    "description": {
      "type": "string",
      "description": "Team description"
    },
    "team_type": {
      "type": "string",
      "enum": [
        "project",
        "functional",
        "cross_functional",
        "temporary",
        "permanent"
      ],
      "description": "Type of team"
    },
    "municipality_id": {
      "type": "string",
      "description": "Associated municipality (optional)"
    },
    "objectives": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "permissions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Team-specific permissions"
    },
    "member_count": {
      "type": "number",
      "default": 0,
      "description": "Number of team members"
    },
    "lead_user_email": {
      "type": "string",
      "description": "Team lead email"
    },
    "performance_metrics": {
      "type": "object",
      "properties": {
        "tasks_completed": {
          "type": "number"
        },
        "avg_completion_time": {
          "type": "number"
        },
        "success_rate": {
          "type": "number"
        }
      }
    },
    "created_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_active": {
      "type": "boolean",
      "default": true,
      "description": "Whether team is active"
    },
    "disbanded_date": {
      "type": "string",
      "format": "date"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name"
  ]
}
{
  "name": "AccessLog",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "User accessing resource"
    },
    "session_id": {
      "type": "string"
    },
    "resource_accessed": {
      "type": "string",
      "description": "Resource path/endpoint"
    },
    "action": {
      "type": "string",
      "enum": [
        "read",
        "create",
        "update",
        "delete",
        "login",
        "logout"
      ],
      "description": "Action performed"
    },
    "entity_type": {
      "type": "string"
    },
    "entity_id": {
      "type": "string"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "ip_address": {
      "type": "string"
    },
    "geo_location": {
      "type": "object",
      "properties": {
        "country": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      }
    },
    "user_agent": {
      "type": "string"
    },
    "device_type": {
      "type": "string"
    },
    "browser": {
      "type": "string"
    },
    "status_code": {
      "type": "number",
      "description": "HTTP status code"
    },
    "is_suspicious": {
      "type": "boolean",
      "default": false,
      "description": "Flagged as suspicious activity"
    },
    "blocked_reason": {
      "type": "string",
      "description": "Why access was blocked"
    },
    "permission_checked": {
      "type": "string",
      "description": "Permission evaluated"
    },
    "access_granted": {
      "type": "boolean"
    }
  },
  "required": [
    "user_email",
    "resource_accessed",
    "action",
    "timestamp"
  ]
}
{
  "name": "UserSession",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "Reference to User"
    },
    "session_token": {
      "type": "string",
      "description": "Unique session token"
    },
    "device_info": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "desktop",
            "mobile",
            "tablet"
          ]
        },
        "os": {
          "type": "string"
        },
        "browser": {
          "type": "string"
        },
        "browser_version": {
          "type": "string"
        }
      }
    },
    "device_name": {
      "type": "string",
      "description": "User-friendly device name"
    },
    "browser_fingerprint": {
      "type": "string",
      "description": "Browser fingerprint hash"
    },
    "ip_address": {
      "type": "string"
    },
    "geolocation": {
      "type": "object",
      "properties": {
        "country": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      }
    },
    "login_date": {
      "type": "string",
      "format": "date-time"
    },
    "last_activity": {
      "type": "string",
      "format": "date-time"
    },
    "logout_date": {
      "type": "string",
      "format": "date-time"
    },
    "status": {
      "type": "string",
      "enum": [
        "active",
        "expired",
        "terminated",
        "suspicious"
      ],
      "default": "active"
    },
    "mfa_verified": {
      "type": "boolean",
      "default": false,
      "description": "Multi-factor auth verified"
    },
    "is_suspicious": {
      "type": "boolean",
      "default": false
    },
    "suspicious_reasons": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "terminated_reason": {
      "type": "string"
    },
    "terminated_by": {
      "type": "string"
    }
  },
  "required": [
    "user_email",
    "session_token",
    "ip_address"
  ]
}
{
  "name": "PlatformConfig",
  "type": "object",
  "properties": {
    "config_key": {
      "type": "string",
      "description": "Configuration key (unique)"
    },
    "config_value": {
      "type": "string",
      "description": "Configuration value (JSON string if complex)"
    },
    "config_type": {
      "type": "string",
      "enum": [
        "string",
        "number",
        "boolean",
        "json",
        "array"
      ],
      "description": "Data type"
    },
    "category": {
      "type": "string",
      "enum": [
        "system",
        "feature_flags",
        "thresholds",
        "ai_models",
        "notifications",
        "ui",
        "security"
      ],
      "description": "Config category"
    },
    "description": {
      "type": "string"
    },
    "is_sensitive": {
      "type": "boolean",
      "default": false,
      "description": "Contains sensitive data (encrypt)"
    },
    "updated_date": {
      "type": "string",
      "format": "date-time"
    },
    "updated_by": {
      "type": "string",
      "description": "Admin email"
    },
    "version_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "version": {
            "type": "number"
          },
          "value": {
            "type": "string"
          },
          "changed_by": {
            "type": "string"
          },
          "changed_date": {
            "type": "string",
            "format": "date-time"
          },
          "change_reason": {
            "type": "string"
          }
        }
      }
    },
    "is_active": {
      "type": "boolean",
      "default": true
    }
  },
  "required": [
    "config_key",
    "config_value",
    "config_type"
  ]
}
{
  "name": "UserProfile",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "Reference to User entity"
    },
    "bio_en": {
      "type": "string"
    },
    "bio_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "title_ar": {
      "type": "string"
    },
    "department": {
      "type": "string"
    },
    "avatar_url": {
      "type": "string"
    },
    "cover_image_url": {
      "type": "string"
    },
    "organization_id": {
      "type": "string"
    },
    "municipality_id": {
      "type": "string"
    },
    "expertise_areas": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "interests": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "skills": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "preferred_language": {
      "type": "string",
      "enum": [
        "ar",
        "en"
      ],
      "default": "en"
    },
    "timezone": {
      "type": "string",
      "default": "Asia/Riyadh"
    },
    "phone_number": {
      "type": "string"
    },
    "linkedin_url": {
      "type": "string"
    },
    "social_links": {
      "type": "object",
      "properties": {
        "linkedin": {
          "type": "string"
        },
        "twitter": {
          "type": "string"
        },
        "website": {
          "type": "string"
        }
      }
    },
    "contact_preferences": {
      "type": "object",
      "properties": {
        "show_email": {
          "type": "boolean"
        },
        "show_phone": {
          "type": "boolean"
        },
        "allow_messages": {
          "type": "boolean"
        }
      }
    },
    "visibility_settings": {
      "type": "object",
      "properties": {
        "profile_visibility": {
          "type": "string",
          "enum": [
            "public",
            "authenticated",
            "connections_only",
            "private"
          ],
          "default": "authenticated"
        },
        "show_activity": {
          "type": "boolean",
          "default": true
        },
        "show_achievements": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "profile_completion_percentage": {
      "type": "number",
      "default": 0,
      "description": "Calculated profile completeness (0-100)"
    },
    "last_profile_update": {
      "type": "string",
      "format": "date-time"
    },
    "is_public": {
      "type": "boolean",
      "default": false
    },
    "achievement_badges": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "badge_type": {
            "type": "string"
          },
          "earned_date": {
            "type": "string",
            "format": "date"
          },
          "description": {
            "type": "string"
          }
        }
      }
    },
    "contribution_count": {
      "type": "number",
      "default": 0
    },
    "verified": {
      "type": "boolean",
      "default": false
    }
  },
  "required": [
    "user_email"
  ]
}
{
  "name": "StartupProfile",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "Reference to User"
    },
    "name_en": {
      "type": "string"
    },
    "name_ar": {
      "type": "string"
    },
    "tagline_en": {
      "type": "string"
    },
    "tagline_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "founded_year": {
      "type": "number"
    },
    "stage": {
      "type": "string",
      "enum": [
        "idea",
        "pre_seed",
        "seed",
        "series_a",
        "growth",
        "scale"
      ],
      "description": "Startup stage"
    },
    "product_stage": {
      "type": "string",
      "enum": [
        "concept",
        "mvp",
        "beta",
        "launched",
        "scaling"
      ],
      "description": "Product development stage"
    },
    "logo_url": {
      "type": "string"
    },
    "team_size": {
      "type": "number"
    },
    "founders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "linkedin": {
            "type": "string"
          }
        }
      }
    },
    "sectors": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "solution_categories": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Types of solutions provider offers"
    },
    "municipal_experience": {
      "type": "object",
      "properties": {
        "years": {
          "type": "number"
        },
        "previous_clients": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "reference_projects": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "description": "Prior work with municipalities"
    },
    "deployment_capacity": {
      "type": "number",
      "description": "How many simultaneous pilots can handle",
      "default": 3
    },
    "geographic_coverage": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Which regions/cities can serve"
    },
    "challenge_focus_areas": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "service_quality",
          "infrastructure",
          "efficiency",
          "innovation",
          "safety",
          "environmental",
          "digital_transformation"
        ]
      },
      "description": "Which challenge types interested in"
    },
    "pilot_success_rate": {
      "type": "number",
      "description": "Track record percentage (0-100)",
      "default": 0
    },
    "municipal_clients_count": {
      "type": "number",
      "description": "Number of municipality clients from platform",
      "default": 0
    },
    "platform_opportunities_pursued": {
      "type": "number",
      "description": "Number of challenges/programs engaged with",
      "default": 0
    },
    "platform_revenue_generated": {
      "type": "number",
      "description": "Revenue from platform opportunities (SAR) - NOT fundraising",
      "default": 0
    },
    "overall_reputation_score": {
      "type": "number",
      "description": "Aggregate reputation across all solutions (0-100)",
      "default": 0
    },
    "reputation_factors": {
      "type": "object",
      "properties": {
        "avg_solution_rating": {
          "type": "number"
        },
        "deployment_success_rate": {
          "type": "number"
        },
        "client_satisfaction": {
          "type": "number"
        },
        "on_time_delivery_rate": {
          "type": "number"
        }
      },
      "description": "Reputation score breakdown"
    },
    "funding_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "round": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "investors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "total_funding_raised": {
      "type": "number",
      "default": 0
    },
    "total_funding": {
      "type": "number",
      "default": 0
    },
    "investors": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of key investors"
    },
    "traction_metrics": {
      "type": "object",
      "properties": {
        "users": {
          "type": "number"
        },
        "revenue_monthly": {
          "type": "number"
        },
        "growth_rate_monthly": {
          "type": "number"
        },
        "partnerships_count": {
          "type": "number"
        }
      }
    },
    "certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "awards": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "award": {
            "type": "string"
          },
          "year": {
            "type": "number"
          }
        }
      }
    },
    "solution_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Portfolio of solutions"
    },
    "pilot_count": {
      "type": "number",
      "default": 0
    },
    "success_rate": {
      "type": "number",
      "description": "Pilot success percentage"
    },
    "pitch_deck_url": {
      "type": "string"
    },
    "demo_url": {
      "type": "string"
    },
    "website": {
      "type": "string"
    },
    "contact_email": {
      "type": "string"
    },
    "program_alumni_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Programs graduated from"
    },
    "program_graduation_dates": {
      "type": "object",
      "description": "Program ID to graduation date mapping"
    },
    "source_program_id": {
      "type": "string",
      "description": "Program that spawned this startup"
    },
    "auto_created_from_program": {
      "type": "boolean",
      "default": false,
      "description": "Whether auto-created from program graduation"
    },
    "onboarding_completed": {
      "type": "boolean",
      "default": false
    },
    "onboarding_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_verified": {
      "type": "boolean",
      "default": false
    },
    "verification_date": {
      "type": "string",
      "format": "date"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en"
  ]
}
{
  "name": "ResearcherProfile",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "Reference to User"
    },
    "full_name_en": {
      "type": "string"
    },
    "full_name_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string",
      "description": "Academic title (e.g., Professor, Dr.)"
    },
    "title_ar": {
      "type": "string"
    },
    "academic_rank": {
      "type": "string",
      "enum": [
        "assistant_professor",
        "associate_professor",
        "professor",
        "lecturer",
        "researcher",
        "postdoc"
      ],
      "description": "Academic rank"
    },
    "institution_id": {
      "type": "string",
      "description": "Reference to Organization (university/research center)"
    },
    "department_en": {
      "type": "string"
    },
    "department_ar": {
      "type": "string"
    },
    "research_areas": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "expertise_keywords": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "h_index": {
      "type": "number",
      "description": "Citation index"
    },
    "total_citations": {
      "type": "number",
      "default": 0
    },
    "publications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "authors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "journal": {
            "type": "string"
          },
          "year": {
            "type": "number"
          },
          "citations": {
            "type": "number"
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "patents": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "number": {
            "type": "string"
          },
          "year": {
            "type": "number"
          }
        }
      }
    },
    "grants_received": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "funder": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "year": {
            "type": "number"
          }
        }
      }
    },
    "supervision_capacity": {
      "type": "number",
      "description": "Number of students currently supervising"
    },
    "available_for_consultation": {
      "type": "boolean",
      "default": true
    },
    "rd_project_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "R&D projects involved in"
    },
    "collaboration_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "collaborator": {
            "type": "string"
          },
          "project": {
            "type": "string"
          },
          "year": {
            "type": "number"
          }
        }
      }
    },
    "orcid": {
      "type": "string"
    },
    "scholar_profile": {
      "type": "string"
    },
    "website": {
      "type": "string"
    },
    "is_verified": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "user_email",
    "full_name_en"
  ]
}
{
  "name": "Service",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique service code"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "sector": {
      "type": "string"
    },
    "sector_id": {
      "type": "string",
      "description": "Reference to Sector"
    },
    "subsector_id": {
      "type": "string",
      "description": "Reference to Subsector"
    },
    "service_owner_department": {
      "type": "string"
    },
    "service_category": {
      "type": "string",
      "enum": [
        "licensing",
        "permits",
        "utilities",
        "public_transport",
        "waste_management",
        "health",
        "education",
        "safety",
        "digital",
        "other"
      ]
    },
    "service_level": {
      "type": "string",
      "enum": [
        "municipal",
        "regional",
        "national"
      ],
      "default": "municipal"
    },
    "sla_targets": {
      "type": "object",
      "properties": {
        "response_time_hours": {
          "type": "number"
        },
        "resolution_time_hours": {
          "type": "number"
        },
        "uptime_percentage": {
          "type": "number"
        }
      }
    },
    "average_completion_time": {
      "type": "number",
      "description": "Average service completion time in hours"
    },
    "satisfaction_score": {
      "type": "number",
      "description": "User satisfaction (0-5)"
    },
    "usage_count": {
      "type": "number",
      "default": 0
    },
    "digital_service_url": {
      "type": "string"
    },
    "is_digital": {
      "type": "boolean",
      "default": false
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "code",
    "name_en",
    "name_ar",
    "sector"
  ]
}
{
  "name": "CitizenFeedback",
  "type": "object",
  "properties": {
    "entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "pilot",
        "solution",
        "municipality",
        "service"
      ]
    },
    "entity_id": {
      "type": "string"
    },
    "challenge_id": {
      "type": "string"
    },
    "pilot_id": {
      "type": "string"
    },
    "feedback_type": {
      "type": "string",
      "enum": [
        "complaint",
        "suggestion",
        "satisfaction",
        "support",
        "question"
      ]
    },
    "feedback_text": {
      "type": "string"
    },
    "content": {
      "type": "string"
    },
    "feedback_category": {
      "type": "string",
      "enum": [
        "service_quality",
        "accessibility",
        "response_time",
        "communication",
        "outcome",
        "other"
      ]
    },
    "rating": {
      "type": "number",
      "description": "Rating 1-5"
    },
    "sentiment": {
      "type": "string",
      "enum": [
        "positive",
        "neutral",
        "negative"
      ]
    },
    "sentiment_score": {
      "type": "number",
      "description": "Sentiment score -1 to 1"
    },
    "is_public": {
      "type": "boolean",
      "default": true
    },
    "location": {
      "type": "string"
    },
    "submitter_name": {
      "type": "string"
    },
    "citizen_name": {
      "type": "string"
    },
    "submitter_email": {
      "type": "string"
    },
    "citizen_email": {
      "type": "string"
    },
    "is_anonymous": {
      "type": "boolean",
      "default": false
    },
    "vote_count": {
      "type": "number",
      "default": 0
    },
    "is_verified": {
      "type": "boolean",
      "default": false
    },
    "is_reviewed": {
      "type": "boolean",
      "default": false
    },
    "reviewed_by": {
      "type": "string"
    },
    "response_text": {
      "type": "string"
    },
    "response_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "entity_type",
    "entity_id",
    "content",
    "feedback_type"
  ]
}
{
  "name": "PilotExpense",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "expense_code": {
      "type": "string",
      "description": "Unique expense identifier"
    },
    "amount": {
      "type": "number"
    },
    "currency": {
      "type": "string",
      "default": "SAR"
    },
    "category": {
      "type": "string",
      "enum": [
        "personnel",
        "equipment",
        "materials",
        "services",
        "travel",
        "overhead",
        "other"
      ],
      "description": "Expense category"
    },
    "budget_line_item_id": {
      "type": "string",
      "description": "Reference to Budget entity line item"
    },
    "vendor_id": {
      "type": "string",
      "description": "Reference to Vendor if applicable"
    },
    "invoice_id": {
      "type": "string",
      "description": "Reference to Invoice entity"
    },
    "date": {
      "type": "string",
      "format": "date"
    },
    "description": {
      "type": "string"
    },
    "receipt_url": {
      "type": "string"
    },
    "tax_amount": {
      "type": "number",
      "default": 0
    },
    "tax_rate": {
      "type": "number",
      "default": 15,
      "description": "VAT percentage"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "approved",
        "paid",
        "rejected",
        "cancelled"
      ],
      "default": "draft"
    },
    "submitted_by": {
      "type": "string"
    },
    "submitted_date": {
      "type": "string",
      "format": "date-time"
    },
    "approved_by": {
      "type": "string"
    },
    "approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "payment_date": {
      "type": "string",
      "format": "date"
    },
    "payment_reference": {
      "type": "string",
      "description": "Payment transaction ID"
    },
    "rejection_reason": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "amount",
    "category",
    "date"
  ]
}
{
  "name": "StakeholderFeedback",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "stakeholder_name": {
      "type": "string"
    },
    "stakeholder_email": {
      "type": "string"
    },
    "stakeholder_type": {
      "type": "string",
      "enum": [
        "municipality",
        "provider",
        "citizen_group",
        "regulator",
        "partner",
        "other"
      ]
    },
    "stakeholder_role": {
      "type": "string"
    },
    "feedback_type": {
      "type": "string",
      "enum": [
        "milestone_feedback",
        "progress_update",
        "concern",
        "approval",
        "general"
      ]
    },
    "feedback_text": {
      "type": "string"
    },
    "rating": {
      "type": "number",
      "description": "Rating 1-5"
    },
    "satisfaction_score": {
      "type": "number"
    },
    "comments": {
      "type": "string"
    },
    "sentiment": {
      "type": "string",
      "enum": [
        "positive",
        "neutral",
        "negative"
      ]
    },
    "concerns": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "submitted_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_addressed": {
      "type": "boolean",
      "default": false
    },
    "response_text": {
      "type": "string"
    },
    "response_date": {
      "type": "string",
      "format": "date-time"
    },
    "milestone_id": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "stakeholder_email",
    "feedback_type"
  ]
}
{
  "name": "ScalingReadiness",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "assessment_date": {
      "type": "string",
      "format": "date"
    },
    "assessed_by": {
      "type": "string",
      "description": "Email of assessor"
    },
    "overall_score": {
      "type": "number",
      "description": "Overall readiness score 0-100"
    },
    "readiness_score": {
      "type": "number",
      "description": "Overall readiness score 0-100"
    },
    "dimension_scores": {
      "type": "object",
      "properties": {
        "operational": {
          "type": "number"
        },
        "financial": {
          "type": "number"
        },
        "stakeholder": {
          "type": "number"
        },
        "regulatory": {
          "type": "number"
        },
        "technical": {
          "type": "number"
        }
      }
    },
    "readiness_criteria": {
      "type": "object",
      "properties": {
        "kpis_met": {
          "type": "boolean"
        },
        "budget_approved": {
          "type": "boolean"
        },
        "stakeholders_aligned": {
          "type": "boolean"
        },
        "risks_mitigated": {
          "type": "boolean"
        }
      }
    },
    "criteria_breakdown": {
      "type": "object",
      "description": "Detailed criteria scores"
    },
    "gaps": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "improvement_recommendations": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "action_plan": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "reassessment_due_date": {
      "type": "string",
      "format": "date"
    },
    "ready_to_scale": {
      "type": "boolean",
      "default": false
    },
    "readiness_level": {
      "type": "string",
      "enum": [
        "not_ready",
        "partially_ready",
        "ready",
        "optimal"
      ]
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "overall_score"
  ]
}
{
  "name": "Partnership",
  "type": "object",
  "properties": {
    "partnership_type": {
      "type": "string",
      "enum": [
        "rd_collaboration",
        "pilot_partnership",
        "program_partnership",
        "strategic_alliance",
        "data_sharing",
        "procurement"
      ],
      "description": "Type of partnership"
    },
    "name_en": {
      "type": "string",
      "description": "Partnership name in English"
    },
    "name_ar": {
      "type": "string",
      "description": "Partnership name in Arabic"
    },
    "scope_en": {
      "type": "string",
      "description": "Partnership scope in English"
    },
    "scope_ar": {
      "type": "string",
      "description": "Partnership scope in Arabic"
    },
    "parties": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "organization_id": {
            "type": "string"
          },
          "organization_name": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "contact_email": {
            "type": "string"
          }
        }
      },
      "description": "Partner organizations"
    },
    "start_date": {
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "type": "string",
      "format": "date"
    },
    "renewal_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "proposed",
        "negotiation",
        "active",
        "suspended",
        "expired",
        "completed",
        "terminated"
      ],
      "default": "proposed"
    },
    "agreement_url": {
      "type": "string",
      "description": "MOU/Contract document URL"
    },
    "mou_signed_date": {
      "type": "string",
      "format": "date"
    },
    "budget_shared": {
      "type": "number",
      "description": "Total budget allocated"
    },
    "partnership_value_estimate": {
      "type": "number",
      "description": "Estimated value creation"
    },
    "is_strategic": {
      "type": "boolean",
      "default": false
    },
    "milestones": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "overdue"
            ]
          },
          "deliverables": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "deliverables": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          }
        }
      }
    },
    "contact_person_a": {
      "type": "string",
      "description": "Primary contact from party A"
    },
    "contact_person_b": {
      "type": "string",
      "description": "Primary contact from party B"
    },
    "meeting_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "type": {
            "type": "string"
          },
          "participants": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "summary": {
            "type": "string"
          }
        }
      }
    },
    "kpis": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "target": {
            "type": "string"
          },
          "current": {
            "type": "string"
          }
        }
      }
    },
    "performance_metrics": {
      "type": "object",
      "properties": {
        "objectives_met": {
          "type": "number"
        },
        "deliverables_completed": {
          "type": "number"
        },
        "satisfaction_score": {
          "type": "number"
        }
      }
    },
    "health_score": {
      "type": "number",
      "description": "Partnership health score 0-100"
    },
    "linked_challenge_ids": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "linked_pilot_ids": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "linked_rd_ids": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "linked_program_ids": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "engagement_history": {
      "type": "array",
      "items": {
        "type": "object"
      }
    },
    "value_created": {
      "type": "object",
      "properties": {
        "pilots_launched": {
          "type": "number"
        },
        "budget_generated": {
          "type": "number"
        },
        "outputs": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "organization_name_en",
    "contact_email"
  ]
}
{
  "name": "CitizenIdea",
  "type": "object",
  "properties": {
    "title": {
      "type": "string",
      "description": "Idea title"
    },
    "description": {
      "type": "string",
      "description": "Idea description"
    },
    "embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Vector embedding for duplicate detection (768 dimensions)"
    },
    "embedding_model": {
      "type": "string",
      "description": "Model used for embedding generation"
    },
    "embedding_generated_date": {
      "type": "string",
      "format": "date-time",
      "description": "When embedding was generated"
    },
    "category": {
      "type": "string",
      "enum": [
        "transport",
        "environment",
        "digital_services",
        "safety",
        "health",
        "education",
        "other"
      ],
      "description": "Idea category"
    },
    "municipality_id": {
      "type": "string",
      "description": "Target municipality"
    },
    "submitter_name": {
      "type": "string",
      "description": "Citizen name"
    },
    "submitter_email": {
      "type": "string",
      "description": "Contact email"
    },
    "submitter_phone": {
      "type": "string",
      "description": "Contact phone"
    },
    "geolocation": {
      "type": "object",
      "properties": {
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      },
      "description": "Location of the issue/idea"
    },
    "attachment_urls": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Supporting images/documents"
    },
    "vote_count": {
      "type": "number",
      "default": 0,
      "description": "Number of upvotes"
    },
    "comment_count": {
      "type": "number",
      "default": 0
    },
    "status": {
      "type": "string",
      "enum": [
        "submitted",
        "under_review",
        "approved",
        "converted_to_challenge",
        "rejected",
        "duplicate"
      ],
      "default": "submitted"
    },
    "ai_pre_screening": {
      "type": "object",
      "description": "AI Pre-Screening Results",
      "properties": {
        "clarity_score": {
          "type": "number",
          "description": "Text clarity (0-100)"
        },
        "feasibility_score": {
          "type": "number",
          "description": "Initial feasibility assessment (0-100)"
        },
        "sentiment_score": {
          "type": "number",
          "description": "Sentiment analysis (-1 to 1)"
        },
        "toxicity_score": {
          "type": "number",
          "description": "Content toxicity level (0-100, lower better)"
        },
        "is_duplicate": {
          "type": "boolean",
          "description": "Flagged as duplicate"
        },
        "similar_ideas": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Similar idea IDs"
        },
        "auto_recommendation": {
          "type": "string",
          "enum": [
            "approve",
            "review_required",
            "reject_spam",
            "reject_toxic",
            "merge_duplicate"
          ],
          "description": "AI recommendation"
        },
        "suggested_category": {
          "type": "string",
          "description": "AI-suggested category"
        },
        "priority_score": {
          "type": "number",
          "description": "Priority ranking (0-100)"
        }
      }
    },
    "similar_ideas": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Similar idea IDs"
    },
    "converted_challenge_id": {
      "type": "string",
      "description": "Challenge ID if converted"
    },
    "review_notes": {
      "type": "string",
      "description": "Admin review notes"
    },
    "reviewed_by": {
      "type": "string",
      "description": "Admin email"
    },
    "review_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "title",
    "description",
    "category"
  ]
}
{
  "name": "MIIDimension",
  "type": "object",
  "properties": {
    "dimension_name_en": {
      "type": "string"
    },
    "dimension_name_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "weight": {
      "type": "number",
      "description": "Weight in overall MII calculation (0-100)"
    },
    "formula": {
      "type": "string",
      "description": "Calculation formula as text"
    },
    "calculation_logic": {
      "type": "string",
      "description": "Detailed calculation explanation"
    },
    "data_sources": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "source_entity": {
            "type": "string"
          },
          "field_name": {
            "type": "string"
          },
          "aggregation": {
            "type": "string",
            "enum": [
              "count",
              "sum",
              "average",
              "ratio"
            ]
          }
        }
      }
    },
    "normalization_method": {
      "type": "string",
      "enum": [
        "min_max",
        "z_score",
        "percentile"
      ],
      "default": "min_max"
    },
    "sub_dimensions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "weight": {
            "type": "number"
          },
          "kpi_refs": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "threshold_values": {
      "type": "object",
      "properties": {
        "excellent": {
          "type": "number"
        },
        "good": {
          "type": "number"
        },
        "average": {
          "type": "number"
        },
        "poor": {
          "type": "number"
        }
      }
    },
    "version": {
      "type": "string",
      "default": "1.0"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "display_order": {
      "type": "number"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "dimension_name_en",
    "weight"
  ]
}
{
  "name": "UserActivity",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "Reference to User"
    },
    "session_id": {
      "type": "string",
      "description": "Browser session ID"
    },
    "action_type": {
      "type": "string",
      "enum": [
        "login",
        "logout",
        "view",
        "create",
        "update",
        "delete",
        "download",
        "search",
        "share",
        "comment"
      ],
      "description": "Type of action"
    },
    "entity_type": {
      "type": "string",
      "description": "Entity affected (Challenge, Pilot, etc.)"
    },
    "entity_id": {
      "type": "string"
    },
    "entity_name": {
      "type": "string"
    },
    "page_url": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "duration_seconds": {
      "type": "number",
      "description": "Duration of activity"
    },
    "ip_address": {
      "type": "string"
    },
    "geo_location": {
      "type": "object",
      "properties": {
        "country": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "latitude": {
          "type": "number"
        },
        "longitude": {
          "type": "number"
        }
      }
    },
    "user_agent": {
      "type": "string"
    },
    "device_type": {
      "type": "string",
      "enum": [
        "desktop",
        "mobile",
        "tablet"
      ]
    },
    "browser": {
      "type": "string"
    },
    "is_anomalous": {
      "type": "boolean",
      "default": false,
      "description": "Flagged as unusual activity"
    },
    "metadata": {
      "type": "object"
    }
  },
  "required": [
    "user_email",
    "action_type",
    "timestamp"
  ]
}
{
  "name": "Achievement",
  "type": "object",
  "properties": {
    "name_ar": {
      "type": "string",
      "description": "Achievement name in Arabic"
    },
    "name_en": {
      "type": "string",
      "description": "Achievement name in English"
    },
    "description_ar": {
      "type": "string",
      "description": "Achievement description in Arabic"
    },
    "description_en": {
      "type": "string",
      "description": "Achievement description in English"
    },
    "icon": {
      "type": "string",
      "description": "Icon name or emoji"
    },
    "badge_image_url": {
      "type": "string",
      "description": "Badge image URL"
    },
    "category": {
      "type": "string",
      "enum": [
        "challenge",
        "pilot",
        "collaboration",
        "learning",
        "contribution",
        "milestone",
        "innovation",
        "leadership"
      ],
      "description": "Achievement category"
    },
    "points": {
      "type": "number",
      "description": "Points awarded for this achievement"
    },
    "rarity": {
      "type": "string",
      "enum": [
        "common",
        "rare",
        "epic",
        "legendary"
      ],
      "default": "common"
    },
    "criteria": {
      "type": "object",
      "description": "Criteria to earn this achievement",
      "properties": {
        "action_type": {
          "type": "string"
        },
        "threshold": {
          "type": "number"
        },
        "conditions": {
          "type": "object"
        }
      }
    },
    "unlock_count": {
      "type": "number",
      "default": 0,
      "description": "Number of users who earned this"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "name_en",
    "name_ar",
    "category",
    "points"
  ]
}
{
  "name": "UserAchievement",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "User who earned this achievement"
    },
    "achievement_id": {
      "type": "string",
      "description": "Reference to Achievement"
    },
    "earned_date": {
      "type": "string",
      "format": "date-time"
    },
    "progress": {
      "type": "number",
      "description": "Progress towards achievement (0-100)"
    },
    "progress_percentage": {
      "type": "number",
      "default": 0,
      "description": "Progress percentage"
    },
    "is_completed": {
      "type": "boolean",
      "default": false
    },
    "completion_date": {
      "type": "string",
      "format": "date-time"
    },
    "how_earned": {
      "type": "string",
      "description": "How the achievement was earned"
    },
    "evidence_entities": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "entity_type": {
            "type": "string"
          },
          "entity_id": {
            "type": "string"
          }
        }
      },
      "description": "Entities that contributed to earning this"
    },
    "is_displayed": {
      "type": "boolean",
      "default": true,
      "description": "Whether user chooses to display this"
    },
    "metadata": {
      "type": "object",
      "description": "Additional context"
    }
  },
  "required": [
    "user_email",
    "achievement_id"
  ]
}
{
  "name": "UserNotificationPreference",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string"
    },
    "channel": {
      "type": "string",
      "enum": [
        "email",
        "in_app",
        "both"
      ],
      "default": "both"
    },
    "frequency": {
      "type": "string",
      "enum": [
        "realtime",
        "hourly",
        "daily_digest",
        "weekly_digest"
      ],
      "default": "realtime"
    },
    "categories": {
      "type": "object",
      "description": "Notification preferences by category",
      "properties": {
        "challenges": {
          "type": "boolean",
          "default": true
        },
        "pilots": {
          "type": "boolean",
          "default": true
        },
        "approvals": {
          "type": "boolean",
          "default": true
        },
        "comments": {
          "type": "boolean",
          "default": true
        },
        "mentions": {
          "type": "boolean",
          "default": true
        },
        "team_updates": {
          "type": "boolean",
          "default": true
        },
        "system_announcements": {
          "type": "boolean",
          "default": true
        },
        "ai_insights": {
          "type": "boolean",
          "default": true
        }
      }
    },
    "quiet_hours": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": false
        },
        "start_time": {
          "type": "string"
        },
        "end_time": {
          "type": "string"
        },
        "timezone": {
          "type": "string",
          "default": "Asia/Riyadh"
        }
      }
    },
    "email_notifications_enabled": {
      "type": "boolean",
      "default": true
    },
    "sms_notifications_enabled": {
      "type": "boolean",
      "default": false
    },
    "phone_number": {
      "type": "string",
      "description": "Phone for SMS notifications"
    }
  },
  "required": [
    "user_email"
  ]
}
{
  "name": "DelegationRule",
  "type": "object",
  "properties": {
    "delegator_email": {
      "type": "string",
      "description": "User delegating their authority"
    },
    "delegate_email": {
      "type": "string",
      "description": "User receiving delegated authority"
    },
    "permission_types": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Types of permissions being delegated"
    },
    "scope": {
      "type": "object",
      "description": "Scope of delegation",
      "properties": {
        "entity_types": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "specific_entities": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "start_date": {
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "type": "string",
      "format": "date"
    },
    "reason": {
      "type": "string",
      "description": "Reason for delegation"
    },
    "approval_required": {
      "type": "boolean",
      "default": false
    },
    "approved_by": {
      "type": "string"
    },
    "approval_date": {
      "type": "string",
      "format": "date"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "notification_sent": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "delegator_email",
    "delegate_email",
    "permission_types",
    "start_date",
    "end_date"
  ]
}
{
  "name": "NewsArticle",
  "type": "object",
  "properties": {
    "title_en": {
      "type": "string",
      "description": "Article title in English"
    },
    "title_ar": {
      "type": "string",
      "description": "Article title in Arabic"
    },
    "slug": {
      "type": "string",
      "description": "URL-friendly slug for SEO"
    },
    "content_en": {
      "type": "string",
      "description": "Article content in English"
    },
    "content_ar": {
      "type": "string",
      "description": "Article content in Arabic"
    },
    "excerpt_en": {
      "type": "string",
      "description": "Short excerpt in English"
    },
    "excerpt_ar": {
      "type": "string",
      "description": "Short excerpt in Arabic"
    },
    "meta_description_en": {
      "type": "string",
      "description": "SEO meta description in English"
    },
    "meta_description_ar": {
      "type": "string",
      "description": "SEO meta description in Arabic"
    },
    "seo_keywords": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "category": {
      "type": "string",
      "enum": [
        "announcement",
        "success_story",
        "event",
        "update",
        "press_release"
      ],
      "default": "announcement"
    },
    "image_url": {
      "type": "string",
      "description": "Article cover image"
    },
    "featured_image_url": {
      "type": "string",
      "description": "Featured/hero image"
    },
    "author_email": {
      "type": "string",
      "description": "Article author email"
    },
    "related_entity_type": {
      "type": "string",
      "description": "Type of related entity (Challenge, Pilot, etc.)"
    },
    "related_entity_id": {
      "type": "string",
      "description": "ID of related entity"
    },
    "is_published": {
      "type": "boolean",
      "default": false
    },
    "published_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "view_count": {
      "type": "number",
      "default": 0
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "title_en",
    "content_en"
  ]
}
{
  "name": "CitizenVote",
  "type": "object",
  "properties": {
    "idea_id": {
      "type": "string",
      "description": "Reference to CitizenIdea"
    },
    "voter_identifier": {
      "type": "string",
      "description": "Hashed voter ID (email hash or device fingerprint)"
    },
    "vote_type": {
      "type": "string",
      "enum": [
        "upvote",
        "downvote"
      ],
      "default": "upvote"
    },
    "vote_date": {
      "type": "string",
      "format": "date-time"
    },
    "ip_address": {
      "type": "string",
      "description": "Voter IP for fraud detection"
    },
    "device_fingerprint": {
      "type": "string",
      "description": "Browser fingerprint for duplicate detection"
    },
    "verification_method": {
      "type": "string",
      "enum": [
        "email",
        "sms",
        "nafath",
        "none"
      ],
      "description": "How voter was verified"
    },
    "is_verified": {
      "type": "boolean",
      "default": false,
      "description": "Whether voter is a verified citizen"
    },
    "is_flagged": {
      "type": "boolean",
      "default": false,
      "description": "Flagged as potential fraud"
    },
    "flagged_reason": {
      "type": "string",
      "description": "Why vote was flagged"
    },
    "fraud_score": {
      "type": "number",
      "description": "AI-calculated fraud probability (0-100)"
    }
  },
  "required": [
    "idea_id",
    "voter_identifier",
    "vote_type"
  ]
}
{
  "name": "RoleRequest",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "User requesting role"
    },
    "requested_role_id": {
      "type": "string",
      "description": "Reference to Role entity"
    },
    "requested_role_name": {
      "type": "string"
    },
    "current_role": {
      "type": "string"
    },
    "previous_role_id": {
      "type": "string",
      "description": "Previous role before this request"
    },
    "justification": {
      "type": "string",
      "description": "Why user needs this role"
    },
    "auto_approval_eligible": {
      "type": "boolean",
      "default": false,
      "description": "Whether request qualifies for auto-approval"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "under_review",
        "approved",
        "rejected",
        "revoked"
      ],
      "default": "pending"
    },
    "requested_date": {
      "type": "string",
      "format": "date-time"
    },
    "reviewed_by": {
      "type": "string"
    },
    "reviewed_date": {
      "type": "string",
      "format": "date-time"
    },
    "review_notes": {
      "type": "string"
    },
    "role_assignment_date": {
      "type": "string",
      "format": "date-time",
      "description": "Date role was actually assigned"
    },
    "expiry_date": {
      "type": "string",
      "format": "date",
      "description": "Role assignment expiry (if temporary)"
    },
    "is_temporary": {
      "type": "boolean",
      "default": false
    },
    "manager_approval_required": {
      "type": "boolean",
      "default": false
    },
    "manager_email": {
      "type": "string"
    },
    "manager_approved": {
      "type": "boolean"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "user_email",
    "requested_role_id",
    "justification"
  ]
}
{
  "name": "Contract",
  "type": "object",
  "properties": {
    "contract_number": {
      "type": "string",
      "description": "Unique contract identifier"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "contract_type": {
      "type": "string",
      "enum": [
        "pilot_agreement",
        "solution_deployment",
        "partnership_mou",
        "research_collaboration",
        "service_agreement",
        "vendor_contract",
        "sandbox_agreement"
      ],
      "description": "Type of contract"
    },
    "workflow_stage": {
      "type": "string",
      "enum": [
        "draft",
        "review",
        "negotiation",
        "approval_pending",
        "signed",
        "active",
        "completed"
      ],
      "default": "draft",
      "description": "Contract workflow stage"
    },
    "contract_template_id": {
      "type": "string",
      "description": "Reference to contract template used"
    },
    "e_signature_status": {
      "type": "string",
      "enum": [
        "pending",
        "party_a_signed",
        "party_b_signed",
        "fully_signed"
      ],
      "default": "pending"
    },
    "party_a_type": {
      "type": "string",
      "enum": [
        "municipality",
        "organization",
        "provider",
        "user"
      ],
      "description": "First party entity type"
    },
    "party_a_id": {
      "type": "string",
      "description": "First party entity ID"
    },
    "party_a_name": {
      "type": "string",
      "description": "First party name"
    },
    "party_b_type": {
      "type": "string",
      "enum": [
        "municipality",
        "organization",
        "provider",
        "user"
      ]
    },
    "party_b_id": {
      "type": "string"
    },
    "party_b_name": {
      "type": "string"
    },
    "related_entity_type": {
      "type": "string",
      "enum": [
        "pilot",
        "solution",
        "rd_project",
        "program",
        "partnership",
        "sandbox"
      ],
      "description": "Related platform entity"
    },
    "related_entity_id": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "under_review",
        "pending_signatures",
        "active",
        "suspended",
        "expired",
        "terminated",
        "completed"
      ],
      "default": "draft"
    },
    "start_date": {
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "type": "string",
      "format": "date"
    },
    "auto_renewal": {
      "type": "boolean",
      "default": false
    },
    "renewal_notice_days": {
      "type": "number",
      "default": 30
    },
    "contract_value": {
      "type": "number",
      "description": "Total contract value"
    },
    "currency": {
      "type": "string",
      "default": "SAR"
    },
    "payment_terms": {
      "type": "object",
      "properties": {
        "payment_schedule": {
          "type": "string",
          "enum": [
            "upfront",
            "milestone_based",
            "monthly",
            "quarterly",
            "upon_completion"
          ]
        },
        "payment_milestones": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "milestone_name": {
                "type": "string"
              },
              "amount": {
                "type": "number"
              },
              "due_date": {
                "type": "string",
                "format": "date"
              }
            }
          }
        }
      }
    },
    "deliverables": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "deliverable_name": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "delivered",
              "accepted",
              "rejected"
            ]
          }
        }
      }
    },
    "terms_and_conditions": {
      "type": "string",
      "description": "Full T&C text or reference"
    },
    "document_url": {
      "type": "string",
      "description": "Signed contract PDF URL"
    },
    "attachments": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "signatory_a_name": {
      "type": "string"
    },
    "signatory_a_email": {
      "type": "string"
    },
    "signatory_a_signed_date": {
      "type": "string",
      "format": "date-time"
    },
    "signatory_b_name": {
      "type": "string"
    },
    "signatory_b_email": {
      "type": "string"
    },
    "signatory_b_signed_date": {
      "type": "string",
      "format": "date-time"
    },
    "legal_review_required": {
      "type": "boolean",
      "default": true
    },
    "legal_reviewer_email": {
      "type": "string"
    },
    "legal_review_date": {
      "type": "string",
      "format": "date-time"
    },
    "legal_review_notes": {
      "type": "string"
    },
    "termination_clause": {
      "type": "string"
    },
    "termination_notice_days": {
      "type": "number",
      "default": 30
    },
    "termination_reason": {
      "type": "string"
    },
    "terminated_by": {
      "type": "string"
    },
    "terminated_date": {
      "type": "string",
      "format": "date-time"
    },
    "performance_bonds": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "bond_type": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "expiry_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "insurance_required": {
      "type": "boolean",
      "default": false
    },
    "insurance_details": {
      "type": "object",
      "properties": {
        "policy_number": {
          "type": "string"
        },
        "provider": {
          "type": "string"
        },
        "coverage_amount": {
          "type": "number"
        },
        "expiry_date": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "compliance_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "dispute_resolution": {
      "type": "string",
      "description": "Dispute resolution mechanism"
    },
    "governing_law": {
      "type": "string",
      "default": "Saudi Law"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "contract_number",
    "title_en",
    "contract_type",
    "party_a_type",
    "party_a_id",
    "party_b_type",
    "party_b_id",
    "start_date"
  ]
}
{
  "name": "Budget",
  "type": "object",
  "properties": {
    "budget_code": {
      "type": "string",
      "description": "Unique budget identifier"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "pilot",
        "rd_project",
        "program",
        "sandbox",
        "challenge",
        "strategic_plan",
        "municipality",
        "organization"
      ],
      "description": "Entity this budget is for"
    },
    "entity_id": {
      "type": "string",
      "description": "Related entity ID"
    },
    "fiscal_year": {
      "type": "string",
      "description": "Fiscal year (e.g., 2024-2025)"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "under_review",
        "approved",
        "active",
        "closed",
        "cancelled"
      ],
      "default": "draft"
    },
    "total_allocated": {
      "type": "number",
      "description": "Total budget allocated"
    },
    "total_spent": {
      "type": "number",
      "default": 0,
      "description": "Total amount spent"
    },
    "total_committed": {
      "type": "number",
      "default": 0,
      "description": "Committed but not yet paid"
    },
    "total_available": {
      "type": "number",
      "description": "Remaining available budget"
    },
    "currency": {
      "type": "string",
      "default": "SAR"
    },
    "line_items": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "category": {
            "type": "string",
            "enum": [
              "personnel",
              "equipment",
              "materials",
              "services",
              "travel",
              "overhead",
              "contingency",
              "other"
            ]
          },
          "description": {
            "type": "string"
          },
          "allocated": {
            "type": "number"
          },
          "spent": {
            "type": "number",
            "default": 0
          },
          "committed": {
            "type": "number",
            "default": 0
          }
        }
      }
    },
    "funding_sources": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "source_name": {
            "type": "string"
          },
          "source_type": {
            "type": "string",
            "enum": [
              "government",
              "grant",
              "partnership",
              "self_funded",
              "donation"
            ]
          },
          "amount": {
            "type": "number"
          },
          "conditions": {
            "type": "string"
          }
        }
      }
    },
    "approved_by": {
      "type": "string",
      "description": "Approver email"
    },
    "approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "approval_level": {
      "type": "string",
      "enum": [
        "team_lead",
        "director",
        "executive",
        "board"
      ],
      "description": "Approval authority level"
    },
    "budget_owner_email": {
      "type": "string",
      "description": "Budget owner/manager"
    },
    "variance_percentage": {
      "type": "number",
      "description": "Budget variance (planned vs actual)"
    },
    "variance_explanation": {
      "type": "string"
    },
    "reallocation_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "from_category": {
            "type": "string"
          },
          "to_category": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "reason": {
            "type": "string"
          },
          "approved_by": {
            "type": "string"
          }
        }
      }
    },
    "budget_alerts": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "threshold_percentage": {
            "type": "number"
          },
          "notify_emails": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "triggered": {
            "type": "boolean",
            "default": false
          }
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "budget_code",
    "name_en",
    "entity_type",
    "entity_id",
    "total_allocated"
  ]
}
{
  "name": "Milestone",
  "type": "object",
  "properties": {
    "entity_type": {
      "type": "string",
      "enum": [
        "pilot",
        "rd_project",
        "program",
        "sandbox",
        "scaling_plan",
        "strategic_plan",
        "challenge"
      ],
      "description": "Parent entity type"
    },
    "entity_id": {
      "type": "string",
      "description": "Parent entity ID"
    },
    "milestone_name_ar": {
      "type": "string"
    },
    "milestone_name_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "category": {
      "type": "string",
      "enum": [
        "planning",
        "approval",
        "development",
        "testing",
        "deployment",
        "evaluation",
        "closure"
      ],
      "description": "Milestone category"
    },
    "sequence_order": {
      "type": "number",
      "description": "Order in milestone sequence"
    },
    "planned_start_date": {
      "type": "string",
      "format": "date"
    },
    "planned_end_date": {
      "type": "string",
      "format": "date"
    },
    "actual_start_date": {
      "type": "string",
      "format": "date"
    },
    "actual_end_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "not_started",
        "in_progress",
        "delayed",
        "completed",
        "cancelled",
        "blocked"
      ],
      "default": "not_started"
    },
    "completion_percentage": {
      "type": "number",
      "default": 0,
      "description": "Progress percentage (0-100)"
    },
    "deliverables": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "delivered",
              "accepted",
              "rejected"
            ]
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "responsible_person_email": {
      "type": "string",
      "description": "Milestone owner"
    },
    "team_members": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Team member emails"
    },
    "dependencies": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Milestone IDs this depends on"
    },
    "blockers": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "blocker_description": {
            "type": "string"
          },
          "severity": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "critical"
            ]
          },
          "reported_date": {
            "type": "string",
            "format": "date"
          },
          "resolved_date": {
            "type": "string",
            "format": "date"
          }
        }
      }
    },
    "approval_required": {
      "type": "boolean",
      "default": false
    },
    "approved_by": {
      "type": "string"
    },
    "approval_date": {
      "type": "string",
      "format": "date-time"
    },
    "evidence_urls": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Evidence of completion"
    },
    "budget_allocated": {
      "type": "number"
    },
    "budget_spent": {
      "type": "number",
      "default": 0
    },
    "delay_days": {
      "type": "number",
      "default": 0,
      "description": "Days delayed from plan"
    },
    "delay_reason": {
      "type": "string"
    },
    "risk_level": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "critical"
      ],
      "default": "low"
    },
    "notes": {
      "type": "string"
    },
    "is_critical_path": {
      "type": "boolean",
      "default": false,
      "description": "Whether this is on critical path"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "entity_type",
    "entity_id",
    "milestone_name_en",
    "planned_end_date"
  ]
}
{
  "name": "Risk",
  "type": "object",
  "properties": {
    "entity_type": {
      "type": "string",
      "enum": [
        "pilot",
        "rd_project",
        "program",
        "sandbox",
        "scaling_plan",
        "strategic_plan",
        "challenge",
        "partnership"
      ],
      "description": "Entity this risk is for"
    },
    "entity_id": {
      "type": "string"
    },
    "risk_code": {
      "type": "string",
      "description": "Unique risk identifier"
    },
    "risk_name_ar": {
      "type": "string"
    },
    "risk_name_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "category": {
      "type": "string",
      "enum": [
        "technical",
        "financial",
        "regulatory",
        "operational",
        "reputational",
        "safety",
        "environmental",
        "political",
        "market"
      ],
      "description": "Risk category"
    },
    "probability": {
      "type": "string",
      "enum": [
        "very_low",
        "low",
        "medium",
        "high",
        "very_high"
      ],
      "description": "Likelihood of occurrence"
    },
    "probability_score": {
      "type": "number",
      "description": "Numeric probability (0-100)"
    },
    "impact": {
      "type": "string",
      "enum": [
        "negligible",
        "minor",
        "moderate",
        "major",
        "catastrophic"
      ],
      "description": "Impact if occurs"
    },
    "impact_score": {
      "type": "number",
      "description": "Numeric impact (0-100)"
    },
    "risk_score": {
      "type": "number",
      "description": "Calculated: probability * impact"
    },
    "risk_level": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "critical"
      ],
      "description": "Overall risk level"
    },
    "status": {
      "type": "string",
      "enum": [
        "identified",
        "assessing",
        "mitigating",
        "monitoring",
        "occurred",
        "resolved",
        "closed"
      ],
      "default": "identified"
    },
    "mitigation_strategy": {
      "type": "string",
      "description": "How to mitigate this risk"
    },
    "mitigation_actions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string"
          },
          "responsible_email": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed"
            ]
          },
          "effectiveness": {
            "type": "string",
            "enum": [
              "not_assessed",
              "low",
              "medium",
              "high"
            ]
          }
        }
      }
    },
    "contingency_plan": {
      "type": "string",
      "description": "What to do if risk occurs"
    },
    "owner_email": {
      "type": "string",
      "description": "Risk owner"
    },
    "identified_by": {
      "type": "string"
    },
    "identified_date": {
      "type": "string",
      "format": "date"
    },
    "last_review_date": {
      "type": "string",
      "format": "date"
    },
    "next_review_date": {
      "type": "string",
      "format": "date"
    },
    "review_frequency_days": {
      "type": "number",
      "default": 30,
      "description": "How often to review (days)"
    },
    "occurred_date": {
      "type": "string",
      "format": "date"
    },
    "actual_impact": {
      "type": "string",
      "description": "Actual impact if risk occurred"
    },
    "lessons_learned": {
      "type": "string"
    },
    "related_risks": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Related risk IDs"
    },
    "triggers": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Warning signs/triggers"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "entity_type",
    "entity_id",
    "risk_name_en",
    "category",
    "probability",
    "impact"
  ]
}
{
  "name": "Stakeholder",
  "type": "object",
  "properties": {
    "entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "pilot",
        "rd_project",
        "program",
        "sandbox",
        "strategic_plan",
        "partnership"
      ],
      "description": "Entity this stakeholder is for"
    },
    "entity_id": {
      "type": "string"
    },
    "stakeholder_type": {
      "type": "string",
      "enum": [
        "individual",
        "organization",
        "municipality",
        "government_agency",
        "community_group",
        "citizen"
      ],
      "description": "Type of stakeholder"
    },
    "stakeholder_name_ar": {
      "type": "string"
    },
    "stakeholder_name_en": {
      "type": "string"
    },
    "organization_id": {
      "type": "string",
      "description": "Reference to Organization if applicable"
    },
    "user_email": {
      "type": "string",
      "description": "Reference to User if applicable"
    },
    "role": {
      "type": "string",
      "enum": [
        "sponsor",
        "decision_maker",
        "influencer",
        "implementer",
        "beneficiary",
        "observer",
        "opponent"
      ],
      "description": "Stakeholder role"
    },
    "interest_level": {
      "type": "string",
      "enum": [
        "very_low",
        "low",
        "medium",
        "high",
        "very_high"
      ],
      "description": "Level of interest"
    },
    "influence_level": {
      "type": "string",
      "enum": [
        "very_low",
        "low",
        "medium",
        "high",
        "very_high"
      ],
      "description": "Level of influence"
    },
    "power_interest_quadrant": {
      "type": "string",
      "enum": [
        "monitor",
        "keep_informed",
        "keep_satisfied",
        "manage_closely"
      ],
      "description": "Stakeholder management strategy"
    },
    "sentiment": {
      "type": "string",
      "enum": [
        "strongly_opposed",
        "opposed",
        "neutral",
        "supportive",
        "strongly_supportive"
      ],
      "default": "neutral"
    },
    "engagement_strategy": {
      "type": "string",
      "description": "How to engage this stakeholder"
    },
    "communication_preferences": {
      "type": "object",
      "properties": {
        "preferred_channel": {
          "type": "string",
          "enum": [
            "email",
            "phone",
            "meeting",
            "report"
          ]
        },
        "frequency": {
          "type": "string",
          "enum": [
            "daily",
            "weekly",
            "monthly",
            "as_needed"
          ]
        },
        "language": {
          "type": "string",
          "enum": [
            "ar",
            "en",
            "both"
          ],
          "default": "ar"
        }
      }
    },
    "contact_email": {
      "type": "string"
    },
    "contact_phone": {
      "type": "string"
    },
    "position_title": {
      "type": "string"
    },
    "department": {
      "type": "string"
    },
    "engagement_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "engagement_type": {
            "type": "string",
            "enum": [
              "meeting",
              "email",
              "workshop",
              "presentation",
              "survey"
            ]
          },
          "summary": {
            "type": "string"
          },
          "sentiment_after": {
            "type": "string"
          }
        }
      }
    },
    "concerns_raised": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "concern": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string",
            "enum": [
              "open",
              "addressed",
              "resolved"
            ]
          },
          "response": {
            "type": "string"
          }
        }
      }
    },
    "expectations": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "deliverables_expected": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_key_stakeholder": {
      "type": "boolean",
      "default": false,
      "description": "Critical stakeholder flag"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "entity_type",
    "entity_id",
    "stakeholder_name_en",
    "stakeholder_type",
    "role"
  ]
}
{
  "name": "Vendor",
  "type": "object",
  "properties": {
    "vendor_code": {
      "type": "string",
      "description": "Unique vendor identifier"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "vendor_type": {
      "type": "string",
      "enum": [
        "goods",
        "services",
        "consultancy",
        "equipment",
        "technology",
        "facilities"
      ],
      "description": "Type of vendor"
    },
    "organization_id": {
      "type": "string",
      "description": "Reference to Organization entity"
    },
    "registration_number": {
      "type": "string",
      "description": "Commercial registration number"
    },
    "tax_number": {
      "type": "string",
      "description": "VAT/Tax registration"
    },
    "status": {
      "type": "string",
      "enum": [
        "registered",
        "approved",
        "active",
        "suspended",
        "blacklisted",
        "inactive"
      ],
      "default": "registered"
    },
    "approved_by": {
      "type": "string"
    },
    "approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "contact_person_name": {
      "type": "string"
    },
    "contact_email": {
      "type": "string"
    },
    "contact_phone": {
      "type": "string"
    },
    "address": {
      "type": "string"
    },
    "city": {
      "type": "string"
    },
    "country": {
      "type": "string",
      "default": "Saudi Arabia"
    },
    "bank_details": {
      "type": "object",
      "properties": {
        "bank_name": {
          "type": "string"
        },
        "account_number": {
          "type": "string"
        },
        "iban": {
          "type": "string"
        },
        "swift_code": {
          "type": "string"
        }
      }
    },
    "categories": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Product/service categories"
    },
    "certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "issue_date": {
            "type": "string",
            "format": "date"
          },
          "expiry_date": {
            "type": "string",
            "format": "date"
          },
          "certificate_url": {
            "type": "string"
          }
        }
      }
    },
    "insurance_info": {
      "type": "object",
      "properties": {
        "policy_number": {
          "type": "string"
        },
        "provider": {
          "type": "string"
        },
        "coverage_amount": {
          "type": "number"
        },
        "expiry_date": {
          "type": "string",
          "format": "date"
        }
      }
    },
    "performance_rating": {
      "type": "number",
      "description": "Average performance score (0-5)"
    },
    "total_contracts": {
      "type": "number",
      "default": 0
    },
    "total_invoices": {
      "type": "number",
      "default": 0
    },
    "total_revenue": {
      "type": "number",
      "default": 0
    },
    "on_time_delivery_rate": {
      "type": "number",
      "description": "Percentage of on-time deliveries"
    },
    "quality_score": {
      "type": "number",
      "description": "Quality rating (0-100)"
    },
    "compliance_status": {
      "type": "string",
      "enum": [
        "compliant",
        "pending_review",
        "non_compliant"
      ],
      "default": "pending_review"
    },
    "last_audit_date": {
      "type": "string",
      "format": "date"
    },
    "blacklist_reason": {
      "type": "string"
    },
    "blacklisted_by": {
      "type": "string"
    },
    "blacklisted_date": {
      "type": "string",
      "format": "date-time"
    },
    "notes": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "vendor_code",
    "name_en",
    "vendor_type",
    "contact_email"
  ]
}
{
  "name": "Invoice",
  "type": "object",
  "properties": {
    "invoice_number": {
      "type": "string",
      "description": "Unique invoice identifier"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "pilot",
        "rd_project",
        "program",
        "sandbox",
        "contract",
        "other"
      ],
      "description": "Entity this invoice is for"
    },
    "entity_id": {
      "type": "string"
    },
    "contract_id": {
      "type": "string",
      "description": "Related contract if applicable"
    },
    "budget_id": {
      "type": "string",
      "description": "Related budget line item"
    },
    "vendor_id": {
      "type": "string",
      "description": "Reference to Vendor"
    },
    "vendor_name": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "under_review",
        "approved",
        "paid",
        "rejected",
        "disputed",
        "cancelled"
      ],
      "default": "draft"
    },
    "invoice_date": {
      "type": "string",
      "format": "date"
    },
    "due_date": {
      "type": "string",
      "format": "date"
    },
    "payment_date": {
      "type": "string",
      "format": "date"
    },
    "currency": {
      "type": "string",
      "default": "SAR"
    },
    "subtotal": {
      "type": "number"
    },
    "tax_amount": {
      "type": "number",
      "default": 0
    },
    "tax_rate": {
      "type": "number",
      "default": 15,
      "description": "VAT rate percentage"
    },
    "discount_amount": {
      "type": "number",
      "default": 0
    },
    "total_amount": {
      "type": "number",
      "description": "Final amount including tax"
    },
    "line_items": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "quantity": {
            "type": "number"
          },
          "unit_price": {
            "type": "number"
          },
          "total": {
            "type": "number"
          }
        }
      }
    },
    "payment_method": {
      "type": "string",
      "enum": [
        "bank_transfer",
        "check",
        "credit_card",
        "purchase_order"
      ],
      "description": "Payment method"
    },
    "payment_reference": {
      "type": "string",
      "description": "Payment transaction reference"
    },
    "submitted_by": {
      "type": "string"
    },
    "submitted_date": {
      "type": "string",
      "format": "date-time"
    },
    "approved_by": {
      "type": "string"
    },
    "approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "paid_by": {
      "type": "string"
    },
    "rejection_reason": {
      "type": "string"
    },
    "dispute_reason": {
      "type": "string"
    },
    "dispute_resolved_date": {
      "type": "string",
      "format": "date-time"
    },
    "invoice_document_url": {
      "type": "string",
      "description": "PDF invoice URL"
    },
    "supporting_documents": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "notes": {
      "type": "string"
    },
    "days_overdue": {
      "type": "number",
      "default": 0
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "invoice_number",
    "entity_type",
    "entity_id",
    "vendor_id",
    "total_amount",
    "due_date"
  ]
}
{
  "name": "Event",
  "type": "object",
  "properties": {
    "event_code": {
      "type": "string",
      "description": "Unique event identifier"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "event_type": {
      "type": "string",
      "enum": [
        "workshop",
        "conference",
        "hackathon",
        "webinar",
        "training",
        "networking",
        "demo_day",
        "pitch_event",
        "site_visit",
        "award_ceremony"
      ],
      "description": "Type of event"
    },
    "related_entity_type": {
      "type": "string",
      "enum": [
        "program",
        "rd_call",
        "challenge",
        "pilot",
        "living_lab",
        "sandbox",
        "partnership",
        "general"
      ],
      "description": "Related entity if applicable"
    },
    "related_entity_id": {
      "type": "string"
    },
    "organizer_type": {
      "type": "string",
      "enum": [
        "platform",
        "municipality",
        "organization",
        "university",
        "external"
      ]
    },
    "organizer_id": {
      "type": "string"
    },
    "organizer_name": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": [
        "planning",
        "announced",
        "registration_open",
        "registration_closed",
        "ongoing",
        "completed",
        "cancelled"
      ],
      "default": "planning"
    },
    "event_mode": {
      "type": "string",
      "enum": [
        "in_person",
        "virtual",
        "hybrid"
      ],
      "default": "hybrid"
    },
    "start_datetime": {
      "type": "string",
      "format": "date-time"
    },
    "end_datetime": {
      "type": "string",
      "format": "date-time"
    },
    "timezone": {
      "type": "string",
      "default": "Asia/Riyadh"
    },
    "location": {
      "type": "object",
      "properties": {
        "venue_name": {
          "type": "string"
        },
        "address": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "coordinates": {
          "type": "object",
          "properties": {
            "latitude": {
              "type": "number"
            },
            "longitude": {
              "type": "number"
            }
          }
        }
      }
    },
    "virtual_meeting_url": {
      "type": "string"
    },
    "virtual_platform": {
      "type": "string",
      "enum": [
        "zoom",
        "teams",
        "webex",
        "google_meet",
        "custom"
      ]
    },
    "capacity": {
      "type": "number",
      "description": "Maximum attendees"
    },
    "registered_count": {
      "type": "number",
      "default": 0
    },
    "attended_count": {
      "type": "number",
      "default": 0
    },
    "registration_required": {
      "type": "boolean",
      "default": true
    },
    "registration_deadline": {
      "type": "string",
      "format": "date-time"
    },
    "registration_url": {
      "type": "string"
    },
    "target_audience": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Target personas/roles"
    },
    "agenda": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "time": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "speaker": {
            "type": "string"
          },
          "duration_minutes": {
            "type": "number"
          }
        }
      }
    },
    "speakers": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "organization": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "photo_url": {
            "type": "string"
          }
        }
      }
    },
    "sponsors": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "logo_url": {
            "type": "string"
          },
          "tier": {
            "type": "string",
            "enum": [
              "platinum",
              "gold",
              "silver",
              "bronze"
            ]
          }
        }
      }
    },
    "image_url": {
      "type": "string",
      "description": "Event banner/poster"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "outcomes": {
      "type": "object",
      "properties": {
        "attendance_rate": {
          "type": "number"
        },
        "satisfaction_score": {
          "type": "number"
        },
        "leads_generated": {
          "type": "number"
        },
        "partnerships_formed": {
          "type": "number"
        }
      }
    },
    "recording_url": {
      "type": "string"
    },
    "materials_urls": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Presentation slides, handouts"
    },
    "certificates_issued": {
      "type": "number",
      "default": 0
    },
    "is_featured": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "event_code",
    "title_en",
    "event_type",
    "start_datetime",
    "end_datetime"
  ]
}
{
  "name": "UserFollow",
  "type": "object",
  "properties": {
    "follower_email": {
      "type": "string",
      "description": "User who is following"
    },
    "followee_type": {
      "type": "string",
      "enum": [
        "user",
        "challenge",
        "pilot",
        "solution",
        "rd_project",
        "program",
        "organization",
        "municipality"
      ],
      "description": "Type of entity being followed"
    },
    "followee_id": {
      "type": "string",
      "description": "ID of entity being followed"
    },
    "followee_name": {
      "type": "string",
      "description": "Cached name for display"
    },
    "follow_date": {
      "type": "string",
      "format": "date-time"
    },
    "notification_enabled": {
      "type": "boolean",
      "default": true,
      "description": "Receive notifications for updates"
    },
    "notification_frequency": {
      "type": "string",
      "enum": [
        "realtime",
        "daily_digest",
        "weekly_digest"
      ],
      "default": "realtime"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Custom tags for organization"
    },
    "notes": {
      "type": "string",
      "description": "Personal notes about why following"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    }
  },
  "required": [
    "follower_email",
    "followee_type",
    "followee_id"
  ]
}
{
  "name": "ProgramPilotLink",
  "type": "object",
  "properties": {
    "program_id": {
      "type": "string",
      "description": "Reference to Program"
    },
    "program_application_id": {
      "type": "string",
      "description": "Original application that led to pilot"
    },
    "pilot_id": {
      "type": "string",
      "description": "Converted pilot ID"
    },
    "conversion_date": {
      "type": "string",
      "format": "date-time"
    },
    "conversion_stage": {
      "type": "string",
      "enum": [
        "during_program",
        "post_graduation",
        "alumni_initiative"
      ],
      "description": "When conversion happened"
    },
    "support_provided": {
      "type": "object",
      "properties": {
        "funding_amount": {
          "type": "number"
        },
        "mentorship": {
          "type": "boolean"
        },
        "technical_support": {
          "type": "boolean"
        },
        "regulatory_support": {
          "type": "boolean"
        }
      }
    },
    "participant_team": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Team member emails from program"
    },
    "success_metrics": {
      "type": "object",
      "properties": {
        "pilot_success": {
          "type": "boolean"
        },
        "scaled": {
          "type": "boolean"
        },
        "impact_score": {
          "type": "number"
        },
        "roi_percentage": {
          "type": "number"
        }
      }
    },
    "program_contribution": {
      "type": "string",
      "description": "How program helped in pilot success"
    },
    "is_showcase": {
      "type": "boolean",
      "default": false,
      "description": "Featured as program success story"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "program_id",
    "pilot_id",
    "conversion_date"
  ]
}
{
  "name": "TeamMember",
  "type": "object",
  "properties": {
    "team_id": {
      "type": "string",
      "description": "Reference to Team"
    },
    "user_email": {
      "type": "string",
      "description": "Team member email"
    },
    "role": {
      "type": "string",
      "enum": [
        "lead",
        "co_lead",
        "member",
        "advisor",
        "contributor"
      ],
      "default": "member"
    },
    "specialization": {
      "type": "string",
      "description": "Member's area of expertise"
    },
    "responsibilities": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "joined_date": {
      "type": "string",
      "format": "date"
    },
    "left_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "invited",
        "active",
        "inactive",
        "left"
      ],
      "default": "invited"
    },
    "invitation_accepted": {
      "type": "boolean",
      "default": false
    },
    "invitation_date": {
      "type": "string",
      "format": "date-time"
    },
    "contribution_score": {
      "type": "number",
      "default": 0,
      "description": "Member contribution rating"
    },
    "tasks_assigned": {
      "type": "number",
      "default": 0
    },
    "tasks_completed": {
      "type": "number",
      "default": 0
    },
    "availability": {
      "type": "string",
      "enum": [
        "full_time",
        "part_time",
        "as_needed"
      ],
      "default": "as_needed"
    },
    "hours_per_week": {
      "type": "number"
    },
    "notes": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "team_id",
    "user_email",
    "role"
  ]
}
{
  "name": "PilotCollaboration",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Primary pilot ID"
    },
    "collaboration_type": {
      "type": "string",
      "enum": [
        "multi_city",
        "multi_solution",
        "shared_resources",
        "knowledge_transfer",
        "joint_evaluation"
      ],
      "description": "Type of collaboration"
    },
    "partner_pilots": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "IDs of collaborating pilots"
    },
    "partner_municipalities": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Collaborating municipality IDs"
    },
    "collaboration_goal": {
      "type": "string",
      "description": "Purpose of collaboration"
    },
    "start_date": {
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "proposed",
        "planning",
        "active",
        "suspended",
        "completed",
        "terminated"
      ],
      "default": "proposed"
    },
    "shared_resources": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "resource_type": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "shared_by": {
            "type": "string"
          }
        }
      }
    },
    "shared_budget": {
      "type": "number",
      "description": "Shared budget pool"
    },
    "cost_sharing_model": {
      "type": "object",
      "properties": {
        "municipality_a_percentage": {
          "type": "number"
        },
        "municipality_b_percentage": {
          "type": "number"
        }
      }
    },
    "knowledge_shared": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "knowledge_type": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "description": {
            "type": "string"
          }
        }
      }
    },
    "coordination_meetings": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "attendees": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "summary": {
            "type": "string"
          }
        }
      }
    },
    "success_metrics": {
      "type": "object",
      "properties": {
        "cost_savings_percentage": {
          "type": "number"
        },
        "knowledge_transfer_score": {
          "type": "number"
        },
        "implementation_speed_improvement": {
          "type": "number"
        }
      }
    },
    "lead_municipality_id": {
      "type": "string",
      "description": "Lead municipality coordinating"
    },
    "coordinator_email": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "collaboration_type",
    "partner_municipalities"
  ]
}
{
  "name": "Audit",
  "type": "object",
  "properties": {
    "audit_code": {
      "type": "string",
      "description": "Unique audit identifier"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "pilot",
        "rd_project",
        "program",
        "sandbox",
        "contract",
        "budget",
        "organization",
        "municipality",
        "system"
      ],
      "description": "Entity being audited"
    },
    "entity_id": {
      "type": "string"
    },
    "audit_type": {
      "type": "string",
      "enum": [
        "compliance",
        "financial",
        "performance",
        "security",
        "quality",
        "regulatory",
        "internal",
        "external"
      ],
      "description": "Type of audit"
    },
    "audit_scope": {
      "type": "string",
      "description": "What is being audited"
    },
    "auditor_name": {
      "type": "string"
    },
    "auditor_email": {
      "type": "string"
    },
    "auditor_organization": {
      "type": "string"
    },
    "audit_start_date": {
      "type": "string",
      "format": "date"
    },
    "audit_end_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "scheduled",
        "in_progress",
        "fieldwork_complete",
        "draft_report",
        "final_report",
        "closed"
      ],
      "default": "scheduled"
    },
    "findings": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "finding_category": {
            "type": "string"
          },
          "severity": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "critical"
            ]
          },
          "description": {
            "type": "string"
          },
          "evidence": {
            "type": "string"
          },
          "recommendation": {
            "type": "string"
          }
        }
      }
    },
    "overall_rating": {
      "type": "string",
      "enum": [
        "satisfactory",
        "needs_improvement",
        "unsatisfactory",
        "critical_issues"
      ],
      "description": "Overall audit result"
    },
    "compliance_score": {
      "type": "number",
      "description": "Compliance percentage (0-100)"
    },
    "issues_identified": {
      "type": "number",
      "default": 0
    },
    "issues_critical": {
      "type": "number",
      "default": 0
    },
    "issues_high": {
      "type": "number",
      "default": 0
    },
    "corrective_actions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string"
          },
          "responsible_email": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed"
            ]
          }
        }
      }
    },
    "follow_up_required": {
      "type": "boolean",
      "default": false
    },
    "follow_up_date": {
      "type": "string",
      "format": "date"
    },
    "report_url": {
      "type": "string",
      "description": "Final audit report PDF"
    },
    "supporting_documents": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "audit_trail": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "action": {
            "type": "string"
          },
          "performed_by": {
            "type": "string"
          }
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "audit_code",
    "entity_type",
    "entity_id",
    "audit_type",
    "auditor_email",
    "audit_start_date"
  ]
}
{
  "name": "PolicyDocument",
  "type": "object",
  "properties": {
    "policy_code": {
      "type": "string",
      "description": "Unique policy identifier"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "policy_type": {
      "type": "string",
      "enum": [
        "regulation",
        "guideline",
        "standard",
        "procedure",
        "framework",
        "law",
        "bylaw"
      ],
      "description": "Type of policy"
    },
    "sector": {
      "type": "string",
      "description": "Applicable sector"
    },
    "issuing_authority": {
      "type": "string",
      "description": "Who issued this policy"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "under_review",
        "approved",
        "active",
        "amended",
        "superseded",
        "repealed"
      ],
      "default": "draft"
    },
    "effective_date": {
      "type": "string",
      "format": "date"
    },
    "review_date": {
      "type": "string",
      "format": "date",
      "description": "Next review date"
    },
    "expiry_date": {
      "type": "string",
      "format": "date"
    },
    "version": {
      "type": "string",
      "default": "1.0"
    },
    "previous_version_id": {
      "type": "string"
    },
    "amendment_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "summary": {
            "type": "string"
          },
          "amended_by": {
            "type": "string"
          }
        }
      }
    },
    "document_url": {
      "type": "string",
      "description": "Official policy document"
    },
    "summary_ar": {
      "type": "string"
    },
    "summary_en": {
      "type": "string"
    },
    "key_provisions": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "compliance_requirements": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "penalties": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "violation": {
            "type": "string"
          },
          "penalty": {
            "type": "string"
          }
        }
      }
    },
    "related_policies": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Related policy IDs"
    },
    "applicable_to": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Who must comply (municipalities, providers, etc.)"
    },
    "exemption_process": {
      "type": "string"
    },
    "contact_person_email": {
      "type": "string"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "is_mandatory": {
      "type": "boolean",
      "default": true
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "policy_code",
    "title_en",
    "policy_type",
    "issuing_authority"
  ]
}
{
  "name": "StrategicPlanChallengeLink",
  "type": "object",
  "properties": {
    "strategic_plan_id": {
      "type": "string",
      "description": "Reference to StrategicPlan"
    },
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "strategic_objective": {
      "type": "string",
      "description": "Which objective this addresses"
    },
    "contribution_type": {
      "type": "string",
      "enum": [
        "primary_initiative",
        "supporting_initiative",
        "enabler"
      ],
      "description": "How challenge contributes"
    },
    "priority": {
      "type": "string",
      "enum": [
        "critical",
        "high",
        "medium",
        "low"
      ],
      "default": "medium"
    },
    "expected_impact": {
      "type": "string",
      "description": "Expected contribution to strategic goal"
    },
    "kpi_targets": {
      "type": "object",
      "properties": {
        "kpi_name": {
          "type": "string"
        },
        "baseline": {
          "type": "number"
        },
        "target": {
          "type": "number"
        }
      }
    },
    "budget_allocated": {
      "type": "number"
    },
    "linked_date": {
      "type": "string",
      "format": "date-time"
    },
    "linked_by": {
      "type": "string"
    },
    "status": {
      "type": "string",
      "enum": [
        "planned",
        "active",
        "completed",
        "deferred",
        "removed"
      ],
      "default": "planned"
    },
    "progress_percentage": {
      "type": "number",
      "default": 0
    },
    "completion_date": {
      "type": "string",
      "format": "date"
    },
    "notes": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "strategic_plan_id",
    "challenge_id",
    "strategic_objective"
  ]
}
{
  "name": "ProgramMentorship",
  "type": "object",
  "properties": {
    "program_id": {
      "type": "string",
      "description": "Reference to Program"
    },
    "program_application_id": {
      "type": "string",
      "description": "Participant application"
    },
    "mentor_email": {
      "type": "string",
      "description": "Mentor user email"
    },
    "mentee_email": {
      "type": "string",
      "description": "Mentee user email"
    },
    "mentorship_type": {
      "type": "string",
      "enum": [
        "one_on_one",
        "group",
        "peer",
        "expert_advisor"
      ],
      "default": "one_on_one"
    },
    "focus_areas": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Topics being mentored on"
    },
    "start_date": {
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "matched",
        "active",
        "on_hold",
        "completed",
        "cancelled"
      ],
      "default": "matched"
    },
    "session_frequency": {
      "type": "string",
      "enum": [
        "weekly",
        "biweekly",
        "monthly",
        "as_needed"
      ]
    },
    "sessions_completed": {
      "type": "number",
      "default": 0
    },
    "sessions_planned": {
      "type": "number"
    },
    "session_logs": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "duration_minutes": {
            "type": "number"
          },
          "topics_covered": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "notes": {
            "type": "string"
          },
          "action_items": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "mentee_satisfaction": {
      "type": "number",
      "description": "Rating 0-5"
    },
    "mentor_satisfaction": {
      "type": "number",
      "description": "Rating 0-5"
    },
    "outcomes": {
      "type": "object",
      "properties": {
        "skills_developed": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "goals_achieved": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "impact_description": {
          "type": "string"
        }
      }
    },
    "matching_score": {
      "type": "number",
      "description": "AI matching score (0-100)"
    },
    "matched_by": {
      "type": "string",
      "enum": [
        "ai",
        "manual",
        "self_selected"
      ]
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "program_id",
    "mentor_email",
    "mentee_email"
  ]
}
{
  "name": "OrganizationPartnership",
  "type": "object",
  "properties": {
    "partner_a_id": {
      "type": "string",
      "description": "First organization ID"
    },
    "partner_a_name": {
      "type": "string"
    },
    "partner_b_id": {
      "type": "string",
      "description": "Second organization ID"
    },
    "partner_b_name": {
      "type": "string"
    },
    "partnership_type": {
      "type": "string",
      "enum": [
        "research_collaboration",
        "joint_venture",
        "technology_transfer",
        "knowledge_sharing",
        "co_development",
        "supplier",
        "customer"
      ],
      "description": "Nature of partnership"
    },
    "scope_ar": {
      "type": "string"
    },
    "scope_en": {
      "type": "string"
    },
    "start_date": {
      "type": "string",
      "format": "date"
    },
    "end_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "proposed",
        "negotiating",
        "active",
        "suspended",
        "expired",
        "terminated"
      ],
      "default": "proposed"
    },
    "agreement_url": {
      "type": "string",
      "description": "MOU/agreement document"
    },
    "objectives": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "deliverables": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "deliverable": {
            "type": "string"
          },
          "responsible_partner": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string"
          }
        }
      }
    },
    "joint_projects": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Project IDs resulting from partnership"
    },
    "value_created": {
      "type": "number",
      "description": "Estimated value (SAR)"
    },
    "synergy_score": {
      "type": "number",
      "description": "AI synergy rating (0-100)"
    },
    "engagement_frequency": {
      "type": "string",
      "enum": [
        "weekly",
        "monthly",
        "quarterly",
        "as_needed"
      ]
    },
    "contact_person_a": {
      "type": "string"
    },
    "contact_person_b": {
      "type": "string"
    },
    "performance_metrics": {
      "type": "object",
      "properties": {
        "meetings_held": {
          "type": "number"
        },
        "projects_launched": {
          "type": "number"
        },
        "publications_coauthored": {
          "type": "number"
        },
        "satisfaction_rating": {
          "type": "number"
        }
      }
    },
    "is_strategic": {
      "type": "boolean",
      "default": false,
      "description": "Strategic partnership flag"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "partner_a_id",
    "partner_b_id",
    "partnership_type",
    "start_date"
  ]
}
{
  "name": "ExpertProfile",
  "type": "object",
  "properties": {
    "user_email": {
      "type": "string",
      "description": "Reference to User entity"
    },
    "title": {
      "type": "string",
      "description": "Professional title (Professor, Dr., Eng., etc.)"
    },
    "organization_id": {
      "type": "string",
      "description": "Reference to Organization entity"
    },
    "position": {
      "type": "string",
      "description": "Job position/title in English"
    },
    "position_ar": {
      "type": "string",
      "description": "Job position/title in Arabic"
    },
    "expertise_areas": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Domains of expertise in English"
    },
    "expertise_areas_ar": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Domains of expertise in Arabic"
    },
    "sector_specializations": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "urban_design",
          "transport",
          "environment",
          "digital_services",
          "health",
          "education",
          "safety",
          "economic_development",
          "social_services",
          "other"
        ]
      },
      "description": "Specific sectors of specialization"
    },
    "domain_keywords": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Keywords for matching"
    },
    "certifications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "issuer": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "expiry_date": {
            "type": "string",
            "format": "date"
          },
          "certificate_url": {
            "type": "string"
          }
        }
      },
      "description": "Professional certifications"
    },
    "publications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "authors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "publication": {
            "type": "string"
          },
          "year": {
            "type": "number"
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "projects_completed": {
      "type": "number",
      "default": 0
    },
    "years_of_experience": {
      "type": "number"
    },
    "bio_en": {
      "type": "string",
      "description": "Biography in English"
    },
    "bio_ar": {
      "type": "string",
      "description": "Biography in Arabic"
    },
    "cv_url": {
      "type": "string",
      "description": "CV/Resume file URL"
    },
    "linkedin_url": {
      "type": "string"
    },
    "twitter_url": {
      "type": "string"
    },
    "google_scholar_url": {
      "type": "string"
    },
    "orcid_id": {
      "type": "string"
    },
    "languages": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "availability_hours_per_month": {
      "type": "number",
      "description": "Available hours per month for assignments"
    },
    "preferred_engagement_types": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "challenge_evaluation",
          "pilot_evaluation",
          "solution_review",
          "rd_proposal_review",
          "idea_evaluation",
          "mentoring",
          "advisory",
          "research",
          "training",
          "case_study_review",
          "knowledge_contribution",
          "policy_review"
        ]
      }
    },
    "travel_willing": {
      "type": "boolean",
      "default": false
    },
    "remote_only": {
      "type": "boolean",
      "default": false
    },
    "hourly_rate": {
      "type": "number",
      "description": "Optional hourly rate"
    },
    "expert_rating": {
      "type": "number",
      "description": "Average rating (0-5)"
    },
    "evaluation_count": {
      "type": "number",
      "default": 0
    },
    "evaluation_quality_score": {
      "type": "number",
      "description": "Quality score (0-100)"
    },
    "response_time_avg_hours": {
      "type": "number",
      "description": "Average response time in hours"
    },
    "acceptance_rate": {
      "type": "number",
      "description": "Percentage of assignments accepted"
    },
    "embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Vector embedding for semantic matching (768 dimensions)"
    },
    "embedding_model": {
      "type": "string"
    },
    "embedding_generated_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_verified": {
      "type": "boolean",
      "default": false
    },
    "verification_date": {
      "type": "string",
      "format": "date"
    },
    "verification_notes": {
      "type": "string"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "joined_date": {
      "type": "string",
      "format": "date"
    },
    "last_active_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "user_email",
    "expertise_areas"
  ]
}
{
  "name": "ExpertAssignment",
  "type": "object",
  "properties": {
    "expert_email": {
      "type": "string",
      "description": "Reference to User/ExpertProfile"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "pilot",
        "rd_project",
        "rd_proposal",
        "program",
        "program_application",
        "sandbox",
        "scaling_plan",
        "solution",
        "matchmaker_application"
      ],
      "description": "Type of entity being evaluated"
    },
    "entity_id": {
      "type": "string",
      "description": "ID of the entity"
    },
    "assignment_type": {
      "type": "string",
      "enum": [
        "evaluator",
        "mentor",
        "advisor",
        "reviewer",
        "panel_member",
        "technical_validator"
      ],
      "description": "Type of assignment"
    },
    "assigned_date": {
      "type": "string",
      "format": "date-time"
    },
    "assigned_by": {
      "type": "string",
      "description": "Email of admin who assigned"
    },
    "due_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "accepted",
        "in_progress",
        "completed",
        "declined",
        "expired"
      ],
      "default": "pending"
    },
    "accepted_date": {
      "type": "string",
      "format": "date-time"
    },
    "completed_date": {
      "type": "string",
      "format": "date-time"
    },
    "declined_reason": {
      "type": "string"
    },
    "hours_estimated": {
      "type": "number"
    },
    "hours_actual": {
      "type": "number"
    },
    "compensation": {
      "type": "number",
      "description": "Optional compensation amount"
    },
    "notes": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "expert_email",
    "entity_type",
    "entity_id",
    "assignment_type"
  ]
}
{
  "name": "ExpertEvaluation",
  "type": "object",
  "properties": {
    "expert_email": {
      "type": "string",
      "description": "Expert who performed evaluation"
    },
    "assignment_id": {
      "type": "string",
      "description": "Reference to ExpertAssignment (optional)"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "solution",
        "pilot",
        "rd_proposal",
        "rd_project",
        "program_application",
        "scaling_plan",
        "matchmaker_application",
        "citizen_idea",
        "innovation_proposal",
        "policy_recommendation",
        "sandbox_application",
        "livinglab_project"
      ],
      "description": "Type of entity evaluated"
    },
    "entity_id": {
      "type": "string",
      "description": "ID of entity being evaluated"
    },
    "evaluation_stage": {
      "type": "string",
      "enum": [
        "intake",
        "eligibility",
        "screening",
        "review",
        "verification",
        "readiness",
        "approval",
        "monitoring",
        "completion",
        "decision"
      ],
      "description": "Stage in workflow where evaluation occurs"
    },
    "template_id": {
      "type": "string",
      "description": "Reference to EvaluationTemplate if using stage-specific template"
    },
    "evaluation_date": {
      "type": "string",
      "format": "date-time"
    },
    "feasibility_score": {
      "type": "number",
      "description": "Feasibility score (0-100)"
    },
    "impact_score": {
      "type": "number",
      "description": "Expected impact score (0-100)"
    },
    "innovation_score": {
      "type": "number",
      "description": "Innovation level score (0-100)"
    },
    "cost_effectiveness_score": {
      "type": "number",
      "description": "Cost effectiveness score (0-100)"
    },
    "risk_score": {
      "type": "number",
      "description": "Risk assessment score (0-100, higher = higher risk)"
    },
    "strategic_alignment_score": {
      "type": "number",
      "description": "Alignment with strategic goals (0-100)"
    },
    "technical_quality_score": {
      "type": "number",
      "description": "Technical quality (0-100)"
    },
    "scalability_score": {
      "type": "number",
      "description": "Scalability potential (0-100)"
    },
    "custom_criteria": {
      "type": "object",
      "description": "Stage-specific custom criteria scores and values (flexible JSON)",
      "additionalProperties": true
    },
    "overall_score": {
      "type": "number",
      "description": "Overall weighted score (0-100)"
    },
    "recommendation": {
      "type": "string",
      "enum": [
        "approve",
        "approve_with_conditions",
        "revise_and_resubmit",
        "reject",
        "convert_to_challenge",
        "convert_to_solution",
        "convert_to_rd",
        "convert_to_pilot",
        "merge_with_existing",
        "request_more_info",
        "scale",
        "archive",
        "further_research"
      ],
      "description": "Final recommendation"
    },
    "conditions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Conditions if approval is conditional"
    },
    "recommended_conversion_entity_id": {
      "type": "string",
      "description": "ID of entity to merge/link with (for citizen ideas)"
    },
    "feedback_text": {
      "type": "string",
      "description": "Detailed feedback"
    },
    "strengths": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "weaknesses": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "improvement_suggestions": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "risk_factors": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "estimated_cost_range": {
      "type": "object",
      "properties": {
        "min": {
          "type": "number"
        },
        "max": {
          "type": "number"
        }
      },
      "description": "Estimated cost range (for citizen ideas)"
    },
    "estimated_timeline_weeks": {
      "type": "number",
      "description": "Estimated timeline (for citizen ideas)"
    },
    "cost_estimate": {
      "type": "number",
      "description": "Expert's cost estimate"
    },
    "timeline_estimate": {
      "type": "string",
      "description": "Expert's timeline estimate"
    },
    "is_consensus_reached": {
      "type": "boolean",
      "default": false,
      "description": "For multi-expert evaluations"
    },
    "consensus_notes": {
      "type": "string"
    },
    "attachments": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "expert_email",
    "entity_type",
    "entity_id",
    "overall_score",
    "recommendation"
  ]
}
{
  "name": "ExpertPanel",
  "type": "object",
  "properties": {
    "panel_name": {
      "type": "string",
      "description": "Name of the panel"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "pilot",
        "rd_project",
        "program",
        "scaling_plan",
        "strategic_initiative"
      ],
      "description": "Type of entity being evaluated by panel"
    },
    "entity_id": {
      "type": "string"
    },
    "panel_members": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Array of expert emails"
    },
    "panel_chair_email": {
      "type": "string",
      "description": "Panel chair/lead"
    },
    "creation_date": {
      "type": "string",
      "format": "date-time"
    },
    "review_due_date": {
      "type": "string",
      "format": "date"
    },
    "status": {
      "type": "string",
      "enum": [
        "forming",
        "reviewing",
        "discussion",
        "consensus",
        "completed",
        "cancelled"
      ],
      "default": "forming"
    },
    "consensus_threshold": {
      "type": "number",
      "description": "Minimum agreement percentage required (e.g., 75)",
      "default": 75
    },
    "decision": {
      "type": "string",
      "enum": [
        "approve",
        "approve_with_conditions",
        "reject",
        "pending"
      ]
    },
    "meeting_date": {
      "type": "string",
      "format": "date-time"
    },
    "meeting_notes": {
      "type": "string"
    },
    "voting_results": {
      "type": "object",
      "properties": {
        "approve": {
          "type": "number"
        },
        "reject": {
          "type": "number"
        },
        "abstain": {
          "type": "number"
        }
      }
    },
    "final_recommendation": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "panel_name",
    "entity_type",
    "entity_id",
    "panel_members"
  ]
}
{
  "name": "ChallengeProposal",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "provider_id": {
      "type": "string",
      "description": "Reference to Provider/Organization"
    },
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution if applicable"
    },
    "proposer_email": {
      "type": "string",
      "description": "Email of person submitting proposal"
    },
    "proposal_title": {
      "type": "string"
    },
    "proposal_text": {
      "type": "string",
      "description": "Detailed proposal approach"
    },
    "approach_summary": {
      "type": "string",
      "description": "Executive summary of approach"
    },
    "timeline_weeks": {
      "type": "number",
      "description": "Proposed timeline in weeks"
    },
    "pricing_model": {
      "type": "string",
      "enum": [
        "fixed_price",
        "time_and_materials",
        "subscription",
        "milestone_based",
        "other"
      ]
    },
    "estimated_cost": {
      "type": "number"
    },
    "currency": {
      "type": "string",
      "default": "SAR"
    },
    "key_deliverables": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "success_metrics": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "metric": {
            "type": "string"
          },
          "target": {
            "type": "string"
          }
        }
      }
    },
    "team_composition": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string"
          },
          "expertise": {
            "type": "string"
          }
        }
      }
    },
    "case_studies": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "References to similar successful implementations"
    },
    "attachments": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "url": {
            "type": "string"
          }
        }
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "submitted",
        "under_review",
        "shortlisted",
        "accepted",
        "rejected",
        "withdrawn"
      ],
      "default": "submitted"
    },
    "submission_date": {
      "type": "string",
      "format": "date-time"
    },
    "review_notes": {
      "type": "string"
    },
    "reviewer_email": {
      "type": "string"
    },
    "review_date": {
      "type": "string",
      "format": "date-time"
    },
    "rejection_reason": {
      "type": "string"
    },
    "converted_to_pilot_id": {
      "type": "string",
      "description": "If accepted and pilot created"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "proposer_email",
    "proposal_text"
  ]
}
{
  "name": "PolicyRecommendation",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique policy code (e.g., POL-2025-001)"
    },
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge (optional)"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot (optional)"
    },
    "rd_project_id": {
      "type": "string",
      "description": "Reference to R&D Project (optional)"
    },
    "program_id": {
      "type": "string",
      "description": "Reference to Program (optional)"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "pilot",
        "rd_project",
        "program",
        "platform"
      ],
      "description": "Type of entity this policy relates to"
    },
    "title_en": {
      "type": "string",
      "description": "Policy title in English (AUTO-TRANSLATED from title_ar)"
    },
    "title_ar": {
      "type": "string",
      "description": "Policy title in Arabic (PRIMARY - user editable)"
    },
    "recommendation_text_en": {
      "type": "string",
      "description": "Detailed policy recommendation in English (AUTO-TRANSLATED from recommendation_text_ar)"
    },
    "recommendation_text_ar": {
      "type": "string",
      "description": "Detailed policy recommendation in Arabic (PRIMARY - user editable)"
    },
    "recommendation_text": {
      "type": "string",
      "description": "DEPRECATED - use recommendation_text_ar/en"
    },
    "embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "Vector embedding for semantic search (768 dimensions)"
    },
    "embedding_model": {
      "type": "string",
      "description": "Model used for embedding generation"
    },
    "embedding_generated_date": {
      "type": "string",
      "format": "date-time"
    },
    "regulatory_change_needed": {
      "type": "boolean",
      "description": "Whether regulatory change is required"
    },
    "regulatory_framework": {
      "type": "string",
      "description": "Current regulatory framework affected (e.g., Municipal Law 2023, Article 15)"
    },
    "policy_type": {
      "type": "string",
      "enum": [
        "new_regulation",
        "amendment",
        "guideline",
        "standard",
        "bylaw",
        "other"
      ]
    },
    "affected_stakeholders": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "implementation_complexity": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "very_high"
      ]
    },
    "timeline_months": {
      "type": "number",
      "description": "Implementation timeline in months"
    },
    "estimated_timeline_months": {
      "type": "number",
      "description": "DEPRECATED - use timeline_months"
    },
    "priority_level": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "critical"
      ],
      "default": "medium"
    },
    "impact_score": {
      "type": "number",
      "description": "Expected impact (0-100)"
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "under_review",
        "approved",
        "implemented",
        "rejected"
      ],
      "default": "draft",
      "description": "DEPRECATED - Use workflow_stage instead"
    },
    "workflow_stage": {
      "type": "string",
      "enum": [
        "draft",
        "legal_review",
        "public_consultation",
        "council_approval",
        "ministry_approval",
        "published",
        "implementation",
        "active",
        "archived"
      ],
      "default": "draft",
      "description": "Current workflow stage"
    },
    "submitted_by": {
      "type": "string"
    },
    "submission_date": {
      "type": "string",
      "format": "date-time"
    },
    "reviewed_by": {
      "type": "string"
    },
    "review_date": {
      "type": "string",
      "format": "date-time"
    },
    "approval_authority": {
      "type": "string",
      "description": "Body/entity that must approve (e.g., Ministry, Council)"
    },
    "implementation_notes": {
      "type": "string"
    },
    "implementation_steps": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "en": {
            "type": "string",
            "description": "AUTO-TRANSLATED from ar"
          },
          "ar": {
            "type": "string",
            "description": "PRIMARY - user editable"
          }
        }
      }
    },
    "impact_assessment": {
      "type": "string"
    },
    "stakeholder_involvement_en": {
      "type": "string",
      "description": "Who needs to be involved (English - AUTO-TRANSLATED from stakeholder_involvement_ar)"
    },
    "stakeholder_involvement_ar": {
      "type": "string",
      "description": "Who needs to be involved (Arabic - PRIMARY)"
    },
    "stakeholder_involvement": {
      "type": "string",
      "description": "DEPRECATED - use stakeholder_involvement_en/ar"
    },
    "success_metrics": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "metric_en": {
            "type": "string",
            "description": "AUTO-TRANSLATED from metric_ar"
          },
          "metric_ar": {
            "type": "string",
            "description": "PRIMARY - user editable"
          },
          "target": {
            "type": "string"
          },
          "unit": {
            "type": "string"
          }
        }
      },
      "description": "Measurable success indicators (bilingual)"
    },
    "approvals": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "stage": {
            "type": "string",
            "enum": [
              "legal_review",
              "public_consultation",
              "council_approval",
              "ministry_approval"
            ]
          },
          "approved_by": {
            "type": "string"
          },
          "approved_date": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "approved",
              "rejected",
              "conditional"
            ]
          },
          "comments": {
            "type": "string"
          },
          "conditions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "description": "Approval history tracking"
    },
    "legal_review": {
      "type": "object",
      "properties": {
        "reviewer_email": {
          "type": "string"
        },
        "review_date": {
          "type": "string",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "enum": [
            "pending",
            "approved",
            "requires_changes",
            "rejected"
          ]
        },
        "checklist": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "item": {
                "type": "string"
              },
              "checked": {
                "type": "boolean"
              }
            }
          }
        },
        "comments": {
          "type": "string"
        },
        "legal_citations_verified": {
          "type": "boolean"
        }
      }
    },
    "public_consultation": {
      "type": "object",
      "properties": {
        "required": {
          "type": "boolean",
          "default": false
        },
        "start_date": {
          "type": "string",
          "format": "date"
        },
        "end_date": {
          "type": "string",
          "format": "date"
        },
        "duration_days": {
          "type": "number",
          "default": 30
        },
        "feedback_count": {
          "type": "number",
          "default": 0
        },
        "summary": {
          "type": "string"
        },
        "public_url": {
          "type": "string"
        }
      }
    },
    "implementation_progress": {
      "type": "object",
      "properties": {
        "overall_percentage": {
          "type": "number",
          "default": 0
        },
        "municipalities_adopted": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Municipality IDs that have adopted this policy"
        },
        "municipalities_total": {
          "type": "number"
        },
        "milestones": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name_en": {
                "type": "string",
                "description": "AUTO-TRANSLATED from name_ar"
              },
              "name_ar": {
                "type": "string",
                "description": "PRIMARY"
              },
              "target_date": {
                "type": "string",
                "format": "date"
              },
              "completed_date": {
                "type": "string",
                "format": "date"
              },
              "status": {
                "type": "string",
                "enum": [
                  "pending",
                  "in_progress",
                  "completed",
                  "delayed"
                ]
              }
            }
          }
        }
      }
    },
    "policy_version": {
      "type": "number",
      "default": 1,
      "description": "Version number for amendments"
    },
    "amendment_history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "version": {
            "type": "number"
          },
          "amendment_date": {
            "type": "string",
            "format": "date-time"
          },
          "amended_by": {
            "type": "string"
          },
          "summary_en": {
            "type": "string",
            "description": "AUTO-TRANSLATED from summary_ar"
          },
          "summary_ar": {
            "type": "string",
            "description": "PRIMARY - user editable"
          },
          "previous_policy_id": {
            "type": "string"
          }
        }
      },
      "description": "History of amendments to this policy"
    },
    "translation_metadata": {
      "type": "object",
      "properties": {
        "last_translated_date": {
          "type": "string",
          "format": "date-time",
          "description": "When English translation was last generated"
        },
        "translation_version": {
          "type": "number",
          "description": "Increments each time Arabic is translated"
        },
        "auto_generated": {
          "type": "boolean",
          "default": true,
          "description": "Indicates English fields are auto-generated"
        },
        "translation_engine": {
          "type": "string",
          "default": "gpt-4",
          "description": "LLM model used for translation"
        }
      },
      "description": "Metadata tracking translation status"
    },
    "ai_match_score": {
      "type": "number",
      "description": "AI-calculated entity match score (0-100)"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "title_ar"
  ]
}
{
  "name": "ChallengeInterest",
  "type": "object",
  "properties": {
    "challenge_id": {
      "type": "string",
      "description": "Reference to Challenge"
    },
    "provider_id": {
      "type": "string",
      "description": "Reference to Provider/Organization"
    },
    "user_email": {
      "type": "string",
      "description": "User expressing interest"
    },
    "interest_type": {
      "type": "string",
      "enum": [
        "solution_provider",
        "research_partner",
        "co_innovator",
        "observer"
      ],
      "default": "solution_provider"
    },
    "notes": {
      "type": "string",
      "description": "Why interested / initial thoughts"
    },
    "expressed_date": {
      "type": "string",
      "format": "date-time"
    },
    "status": {
      "type": "string",
      "enum": [
        "watching",
        "proposal_submitted",
        "engaged",
        "no_longer_interested"
      ],
      "default": "watching"
    },
    "proposal_id": {
      "type": "string",
      "description": "Reference to ChallengeProposal if submitted"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "challenge_id",
    "user_email"
  ]
}
{
  "name": "IdeaComment",
  "type": "object",
  "properties": {
    "idea_id": {
      "type": "string",
      "description": "Reference to CitizenIdea"
    },
    "commenter_email": {
      "type": "string",
      "description": "Email of commenter (optional for public)"
    },
    "commenter_name": {
      "type": "string",
      "description": "Display name"
    },
    "comment_text": {
      "type": "string",
      "description": "Comment content"
    },
    "parent_comment_id": {
      "type": "string",
      "description": "For threaded comments"
    },
    "is_flagged": {
      "type": "boolean",
      "default": false,
      "description": "Flagged for moderation"
    },
    "flag_reason": {
      "type": "string",
      "description": "Reason for flagging"
    },
    "is_approved": {
      "type": "boolean",
      "default": true,
      "description": "Approved by moderator"
    },
    "moderation_notes": {
      "type": "string"
    },
    "sentiment_score": {
      "type": "number",
      "description": "AI sentiment (-1 to 1)"
    },
    "toxicity_score": {
      "type": "number",
      "description": "AI toxicity (0-1)"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "idea_id",
    "comment_text"
  ]
}
{
  "name": "CitizenPoints",
  "type": "object",
  "properties": {
    "citizen_identifier": {
      "type": "string",
      "description": "Email or anonymous ID"
    },
    "total_points": {
      "type": "number",
      "default": 0,
      "description": "Total points earned"
    },
    "points_breakdown": {
      "type": "object",
      "properties": {
        "ideas_submitted": {
          "type": "number",
          "default": 0
        },
        "votes_received": {
          "type": "number",
          "default": 0
        },
        "ideas_converted": {
          "type": "number",
          "default": 0
        },
        "comments_posted": {
          "type": "number",
          "default": 0
        },
        "challenges_resolved": {
          "type": "number",
          "default": 0
        }
      }
    },
    "level": {
      "type": "string",
      "enum": [
        "bronze",
        "silver",
        "gold",
        "platinum",
        "diamond"
      ],
      "default": "bronze"
    },
    "rank_national": {
      "type": "number",
      "description": "National ranking"
    },
    "rank_municipality": {
      "type": "number",
      "description": "Municipal ranking"
    },
    "badges_earned": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Badge IDs earned"
    },
    "last_activity_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    }
  },
  "required": [
    "citizen_identifier"
  ]
}
{
  "name": "CitizenBadge",
  "type": "object",
  "properties": {
    "badge_id": {
      "type": "string",
      "description": "Unique badge code"
    },
    "name_ar": {
      "type": "string"
    },
    "name_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "icon_url": {
      "type": "string"
    },
    "criteria": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "submissions",
            "votes",
            "conversions",
            "impact",
            "streak",
            "special"
          ]
        },
        "threshold": {
          "type": "number"
        },
        "description": {
          "type": "string"
        }
      },
      "description": "How to earn this badge"
    },
    "points_awarded": {
      "type": "number",
      "default": 10
    },
    "rarity": {
      "type": "string",
      "enum": [
        "common",
        "rare",
        "epic",
        "legendary"
      ],
      "default": "common"
    },
    "times_awarded": {
      "type": "number",
      "default": 0
    },
    "is_active": {
      "type": "boolean",
      "default": true
    }
  },
  "required": [
    "badge_id",
    "name_en",
    "name_ar",
    "criteria"
  ]
}
{
  "name": "InnovationProposal",
  "type": "object",
  "properties": {
    "code": {
      "type": "string",
      "description": "Unique proposal code"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "proposal_type": {
      "type": "string",
      "enum": [
        "problem",
        "solution",
        "research_question",
        "implementation_plan",
        "hybrid"
      ],
      "default": "problem"
    },
    "program_id": {
      "type": "string",
      "description": "Linked innovation program/campaign"
    },
    "challenge_alignment_id": {
      "type": "string",
      "description": "Which challenge this addresses"
    },
    "sector_id": {
      "type": "string",
      "description": "Sector taxonomy"
    },
    "subsector_id": {
      "type": "string"
    },
    "service_id": {
      "type": "string"
    },
    "municipality_id": {
      "type": "string"
    },
    "strategic_pillar_id": {
      "type": "string",
      "description": "Alignment to strategic plan"
    },
    "submitter_type": {
      "type": "string",
      "enum": [
        "citizen",
        "startup",
        "researcher",
        "municipality",
        "organization"
      ],
      "default": "citizen"
    },
    "submitter_email": {
      "type": "string"
    },
    "submitter_organization": {
      "type": "string"
    },
    "implementation_plan": {
      "type": "string",
      "description": "How to implement"
    },
    "budget_estimate": {
      "type": "number"
    },
    "budget_breakdown": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "category": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          }
        }
      }
    },
    "timeline_proposal": {
      "type": "string",
      "description": "Proposed timeline"
    },
    "duration_weeks": {
      "type": "number"
    },
    "team_composition": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string"
          },
          "expertise": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      }
    },
    "success_metrics_proposed": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "metric": {
            "type": "string"
          },
          "baseline": {
            "type": "string"
          },
          "target": {
            "type": "string"
          }
        }
      }
    },
    "innovation_type": {
      "type": "string",
      "enum": [
        "incremental",
        "radical",
        "disruptive",
        "sustaining"
      ],
      "description": "Type of innovation"
    },
    "maturity_level": {
      "type": "string",
      "enum": [
        "concept",
        "prototype",
        "tested",
        "validated",
        "market_ready"
      ],
      "default": "concept"
    },
    "trl": {
      "type": "number",
      "description": "Technology Readiness Level (1-9)"
    },
    "embedding": {
      "type": "array",
      "items": {
        "type": "number"
      }
    },
    "embedding_model": {
      "type": "string"
    },
    "ai_pre_screening": {
      "type": "object",
      "description": "AI Initial Screening Results",
      "properties": {
        "proposal_completeness_score": {
          "type": "number",
          "description": "Completeness assessment (0-100)"
        },
        "feasibility_score": {
          "type": "number",
          "description": "Initial feasibility (0-100)"
        },
        "innovation_type_classification": {
          "type": "string",
          "enum": [
            "incremental",
            "radical",
            "disruptive",
            "sustaining"
          ],
          "description": "AI-classified innovation type"
        },
        "budget_reasonability": {
          "type": "boolean",
          "description": "Budget estimates reasonable"
        },
        "budget_reasonability_score": {
          "type": "number",
          "description": "Budget reasonability (0-100)"
        },
        "team_adequacy": {
          "type": "boolean",
          "description": "Team composition adequate"
        },
        "team_adequacy_score": {
          "type": "number",
          "description": "Team adequacy (0-100)"
        },
        "strategic_alignment_preliminary": {
          "type": "number",
          "description": "Initial strategic fit (0-100)"
        },
        "duplicate_check": {
          "type": "boolean"
        },
        "similar_proposals": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "auto_recommendation": {
          "type": "string",
          "enum": [
            "approve_for_expert_review",
            "request_clarification",
            "reject_incomplete",
            "merge_with_existing"
          ]
        }
      }
    },
    "stakeholder_alignment_gate": {
      "type": "object",
      "description": "Stage 3: Stakeholder Alignment Assessment",
      "properties": {
        "stakeholder_buy_in": {
          "type": "boolean",
          "description": "Do stakeholders support this?"
        },
        "resource_availability": {
          "type": "boolean",
          "description": "Are resources available?"
        },
        "policy_alignment": {
          "type": "boolean",
          "description": "Does it align with policy?"
        },
        "notes": {
          "type": "string",
          "description": "Assessment notes"
        },
        "decision": {
          "type": "string",
          "enum": [
            "approved",
            "conditional",
            "rejected",
            "pending"
          ]
        },
        "reviewed_by": {
          "type": "string"
        },
        "review_date": {
          "type": "string",
          "format": "date-time"
        },
        "passed": {
          "type": "boolean"
        }
      }
    },
    "status": {
      "type": "string",
      "enum": [
        "draft",
        "submitted",
        "under_evaluation",
        "approved",
        "rejected",
        "converted",
        "merged"
      ],
      "default": "submitted"
    },
    "evaluation_ids": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "ExpertEvaluation references"
    },
    "converted_entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "solution",
        "pilot",
        "rd_project",
        "program"
      ],
      "description": "What it became"
    },
    "converted_entity_id": {
      "type": "string"
    },
    "attachments": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "title_en",
    "description_en",
    "submitter_email"
  ]
}
{
  "name": "CitizenNotification",
  "type": "object",
  "properties": {
    "citizen_identifier": {
      "type": "string",
      "description": "Email or anonymous ID"
    },
    "notification_type": {
      "type": "string",
      "enum": [
        "idea_submitted",
        "idea_under_review",
        "idea_approved",
        "idea_rejected",
        "idea_converted",
        "challenge_updated",
        "challenge_resolved",
        "pilot_launched",
        "recognition_earned"
      ],
      "description": "Type of notification"
    },
    "entity_type": {
      "type": "string",
      "enum": [
        "idea",
        "challenge",
        "pilot",
        "feedback"
      ],
      "description": "Related entity"
    },
    "entity_id": {
      "type": "string"
    },
    "title_ar": {
      "type": "string"
    },
    "title_en": {
      "type": "string"
    },
    "message_ar": {
      "type": "string"
    },
    "message_en": {
      "type": "string"
    },
    "action_url": {
      "type": "string",
      "description": "Deep link to view details"
    },
    "is_sent": {
      "type": "boolean",
      "default": false
    },
    "sent_date": {
      "type": "string",
      "format": "date-time"
    },
    "delivery_channel": {
      "type": "string",
      "enum": [
        "email",
        "sms",
        "push",
        "in_app"
      ],
      "default": "email"
    },
    "is_read": {
      "type": "boolean",
      "default": false
    },
    "read_date": {
      "type": "string",
      "format": "date-time"
    },
    "priority": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "urgent"
      ],
      "default": "medium"
    }
  },
  "required": [
    "citizen_identifier",
    "notification_type",
    "title_en",
    "message_en"
  ]
}
{
  "name": "PolicyComment",
  "type": "object",
  "properties": {
    "policy_id": {
      "type": "string",
      "description": "Reference to PolicyRecommendation"
    },
    "user_email": {
      "type": "string",
      "description": "Commenter email"
    },
    "comment_text": {
      "type": "string",
      "description": "Comment content"
    },
    "is_internal": {
      "type": "boolean",
      "default": false,
      "description": "Internal note vs public comment"
    },
    "parent_comment_id": {
      "type": "string",
      "description": "For threading/replies"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    }
  },
  "required": [
    "policy_id",
    "comment_text"
  ]
}
{
  "name": "PolicyTemplate",
  "type": "object",
  "properties": {
    "template_id": {
      "type": "string",
      "description": "Unique template identifier"
    },
    "name_en": {
      "type": "string",
      "description": "Template name in English"
    },
    "name_ar": {
      "type": "string",
      "description": "Template name in Arabic"
    },
    "description_en": {
      "type": "string",
      "description": "Template description in English"
    },
    "description_ar": {
      "type": "string",
      "description": "Template description in Arabic"
    },
    "icon": {
      "type": "string",
      "description": "Icon name from lucide-react"
    },
    "category": {
      "type": "string",
      "enum": [
        "regulation",
        "amendment",
        "guideline",
        "standard",
        "pilot_based"
      ],
      "description": "Template category"
    },
    "template_data": {
      "type": "object",
      "description": "Template fields to pre-fill (stored as JSON)"
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "usage_count": {
      "type": "number",
      "default": 0
    },
    "sort_order": {
      "type": "number",
      "default": 0
    }
  },
  "required": [
    "template_id",
    "name_en",
    "name_ar",
    "category"
  ]
}
{
  "name": "ApprovalRequest",
  "type": "object",
  "properties": {
    "entity_type": {
      "type": "string",
      "enum": [
        "policy_recommendation",
        "challenge",
        "pilot",
        "rd_proposal",
        "program_application",
        "matchmaker_application",
        "sandbox_application",
        "scaling_plan",
        "strategic_plan",
        "budget_allocation"
      ],
      "description": "Type of entity being approved"
    },
    "entity_id": {
      "type": "string",
      "description": "Reference to the entity being approved"
    },
    "gate_name": {
      "type": "string",
      "description": "Name of approval gate (e.g., legal_review, council_approval)"
    },
    "gate_type": {
      "type": "string",
      "enum": [
        "submission",
        "review",
        "approval",
        "compliance",
        "budget",
        "safety",
        "quality",
        "exit"
      ],
      "description": "Category of gate"
    },
    "workflow_stage": {
      "type": "string",
      "description": "Current workflow stage of parent entity"
    },
    "requester_email": {
      "type": "string",
      "description": "Who submitted for approval"
    },
    "reviewer_email": {
      "type": "string",
      "description": "Assigned reviewer/approver"
    },
    "reviewer_role": {
      "type": "string",
      "description": "Role required for approval (e.g., legal_officer, council_member)"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "under_review",
        "approved",
        "rejected",
        "conditional",
        "info_requested"
      ],
      "default": "pending"
    },
    "decision": {
      "type": "string",
      "enum": [
        "approved",
        "rejected",
        "conditional",
        "needs_revision"
      ],
      "description": "Final decision"
    },
    "decision_date": {
      "type": "string",
      "format": "date-time"
    },
    "priority": {
      "type": "string",
      "enum": [
        "low",
        "medium",
        "high",
        "urgent"
      ],
      "default": "medium"
    },
    "sla_due_date": {
      "type": "string",
      "format": "date-time",
      "description": "SLA deadline for this approval"
    },
    "is_overdue": {
      "type": "boolean",
      "default": false
    },
    "escalation_level": {
      "type": "number",
      "default": 0,
      "description": "0=none, 1=warning, 2=critical"
    },
    "self_check_data": {
      "type": "object",
      "properties": {
        "completed": {
          "type": "boolean",
          "default": false
        },
        "completed_date": {
          "type": "string",
          "format": "date-time"
        },
        "checklist_items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "item": {
                "type": "string"
              },
              "checked": {
                "type": "boolean"
              },
              "ai_verified": {
                "type": "boolean"
              }
            }
          }
        },
        "ai_assessment": {
          "type": "object",
          "properties": {
            "readiness_score": {
              "type": "number"
            },
            "issues": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "recommendations": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      },
      "description": "Requester self-check data and AI verification"
    },
    "reviewer_checklist": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "item": {
            "type": "string"
          },
          "checked": {
            "type": "boolean"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "description": "Reviewer checklist items"
    },
    "ai_review_assistance": {
      "type": "object",
      "properties": {
        "risk_score": {
          "type": "number"
        },
        "compliance_check": {
          "type": "boolean"
        },
        "concerns": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "recommendations": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "similar_cases": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "generated_date": {
          "type": "string",
          "format": "date-time"
        }
      },
      "description": "AI-generated review assistance for reviewer"
    },
    "conditions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "condition": {
            "type": "string"
          },
          "due_date": {
            "type": "string",
            "format": "date"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "met",
              "overdue"
            ]
          },
          "verified_by": {
            "type": "string"
          },
          "verified_date": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "description": "Conditional approval requirements"
    },
    "comments": {
      "type": "string",
      "description": "Reviewer comments"
    },
    "rejection_reason": {
      "type": "string"
    },
    "info_requested": {
      "type": "object",
      "properties": {
        "questions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "requested_date": {
          "type": "string",
          "format": "date-time"
        },
        "response": {
          "type": "string"
        },
        "response_date": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "attachments": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "file_name": {
            "type": "string"
          },
          "file_url": {
            "type": "string"
          },
          "uploaded_by": {
            "type": "string"
          },
          "uploaded_date": {
            "type": "string",
            "format": "date-time"
          }
        }
      }
    },
    "previous_approval_id": {
      "type": "string",
      "description": "Link to previous approval if resubmitted"
    },
    "notification_sent": {
      "type": "boolean",
      "default": false
    },
    "notification_sent_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "entity_type",
    "entity_id",
    "gate_name",
    "requester_email"
  ]
}
{
  "name": "CitizenPilotEnrollment",
  "type": "object",
  "properties": {
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot"
    },
    "citizen_email": {
      "type": "string",
      "description": "Enrolled citizen email"
    },
    "citizen_name": {
      "type": "string",
      "description": "Citizen full name"
    },
    "enrollment_type": {
      "type": "string",
      "enum": [
        "participant",
        "observer",
        "feedback_provider"
      ],
      "default": "feedback_provider",
      "description": "Type of enrollment"
    },
    "status": {
      "type": "string",
      "enum": [
        "enrolled",
        "active",
        "completed",
        "withdrawn"
      ],
      "default": "enrolled"
    },
    "enrollment_date": {
      "type": "string",
      "format": "date-time"
    },
    "consent_given": {
      "type": "boolean",
      "default": false,
      "description": "Privacy consent for data collection"
    },
    "notifications_enabled": {
      "type": "boolean",
      "default": true,
      "description": "Receive pilot updates"
    },
    "feedback_submissions": {
      "type": "number",
      "default": 0,
      "description": "Count of feedback submissions"
    },
    "participation_score": {
      "type": "number",
      "description": "Engagement score (0-100)"
    },
    "withdrawal_date": {
      "type": "string",
      "format": "date-time"
    },
    "withdrawal_reason": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "pilot_id",
    "citizen_email"
  ]
}
{
  "name": "DemoRequest",
  "type": "object",
  "properties": {
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution"
    },
    "challenge_id": {
      "type": "string",
      "description": "Optional reference to Challenge if requesting for specific challenge"
    },
    "municipality_id": {
      "type": "string",
      "description": "Requesting municipality"
    },
    "requester_email": {
      "type": "string",
      "description": "User email requesting demo"
    },
    "requester_name": {
      "type": "string",
      "description": "User name"
    },
    "requester_role": {
      "type": "string",
      "description": "User role/title"
    },
    "preferred_date": {
      "type": "string",
      "format": "date",
      "description": "Preferred demo date"
    },
    "preferred_time": {
      "type": "string",
      "description": "Preferred time slot"
    },
    "message": {
      "type": "string",
      "description": "Additional message or requirements"
    },
    "demo_type": {
      "type": "string",
      "enum": [
        "online",
        "on_site",
        "hybrid"
      ],
      "default": "online"
    },
    "attendee_count": {
      "type": "number",
      "description": "Expected number of attendees"
    },
    "status": {
      "type": "string",
      "enum": [
        "requested",
        "scheduled",
        "confirmed",
        "completed",
        "cancelled"
      ],
      "default": "requested"
    },
    "scheduled_date": {
      "type": "string",
      "format": "date-time",
      "description": "Confirmed demo date/time"
    },
    "demo_link": {
      "type": "string",
      "description": "Meeting link for online demos"
    },
    "provider_response": {
      "type": "string",
      "description": "Provider response to request"
    },
    "provider_responded_date": {
      "type": "string",
      "format": "date-time"
    },
    "demo_notes": {
      "type": "string",
      "description": "Notes from completed demo"
    },
    "follow_up_required": {
      "type": "boolean",
      "default": false
    },
    "converted_to_pilot": {
      "type": "boolean",
      "default": false,
      "description": "Whether demo led to pilot"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to resulting Pilot if converted"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "solution_id",
    "requester_email"
  ]
}
{
  "name": "SolutionInterest",
  "type": "object",
  "properties": {
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution"
    },
    "challenge_id": {
      "type": "string",
      "description": "Optional reference to Challenge"
    },
    "municipality_id": {
      "type": "string",
      "description": "Interested municipality"
    },
    "interested_by_email": {
      "type": "string",
      "description": "User expressing interest"
    },
    "interested_by_name": {
      "type": "string"
    },
    "interest_type": {
      "type": "string",
      "enum": [
        "general",
        "for_challenge",
        "for_pilot",
        "for_procurement"
      ],
      "default": "general"
    },
    "message": {
      "type": "string",
      "description": "Message to provider"
    },
    "status": {
      "type": "string",
      "enum": [
        "expressed",
        "contacted",
        "proposal_received",
        "under_negotiation",
        "pilot_launched",
        "declined",
        "expired"
      ],
      "default": "expressed"
    },
    "provider_responded": {
      "type": "boolean",
      "default": false
    },
    "provider_response_date": {
      "type": "string",
      "format": "date-time"
    },
    "provider_response_text": {
      "type": "string"
    },
    "proposal_id": {
      "type": "string",
      "description": "Reference to ChallengeProposal if provider submitted formal proposal"
    },
    "pilot_id": {
      "type": "string",
      "description": "Reference to Pilot if converted"
    },
    "follow_up_actions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "description": "Follow-up action log"
    },
    "expected_timeline": {
      "type": "string",
      "description": "Expected timeline for next steps"
    },
    "expected_budget_range": {
      "type": "object",
      "properties": {
        "min": {
          "type": "number"
        },
        "max": {
          "type": "number"
        },
        "currency": {
          "type": "string",
          "default": "SAR"
        }
      }
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "solution_id",
    "interested_by_email",
    "municipality_id"
  ]
}
{
  "name": "SolutionReview",
  "type": "object",
  "properties": {
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution"
    },
    "pilot_id": {
      "type": "string",
      "description": "Optional reference to Pilot where solution was deployed"
    },
    "municipality_id": {
      "type": "string",
      "description": "Reviewing municipality"
    },
    "reviewer_email": {
      "type": "string",
      "description": "User who submitted review"
    },
    "reviewer_name": {
      "type": "string"
    },
    "reviewer_role": {
      "type": "string",
      "description": "Reviewer's role (e.g., Pilot Manager, CTO)"
    },
    "overall_rating": {
      "type": "number",
      "description": "Overall rating (1-5)"
    },
    "ratings": {
      "type": "object",
      "properties": {
        "technical_quality": {
          "type": "number",
          "description": "1-5"
        },
        "ease_of_integration": {
          "type": "number",
          "description": "1-5"
        },
        "support_quality": {
          "type": "number",
          "description": "1-5"
        },
        "value_for_money": {
          "type": "number",
          "description": "1-5"
        },
        "documentation_quality": {
          "type": "number",
          "description": "1-5"
        },
        "performance": {
          "type": "number",
          "description": "1-5"
        },
        "reliability": {
          "type": "number",
          "description": "1-5"
        },
        "scalability": {
          "type": "number",
          "description": "1-5"
        }
      },
      "description": "Detailed ratings by category"
    },
    "review_title": {
      "type": "string",
      "description": "Review headline"
    },
    "review_text": {
      "type": "string",
      "description": "Detailed review text"
    },
    "pros": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "What worked well"
    },
    "cons": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Areas for improvement"
    },
    "would_recommend": {
      "type": "boolean",
      "description": "Would recommend to other municipalities"
    },
    "deployment_context": {
      "type": "object",
      "properties": {
        "deployment_date": {
          "type": "string",
          "format": "date"
        },
        "deployment_duration_months": {
          "type": "number"
        },
        "users_count": {
          "type": "number"
        },
        "deployment_scope": {
          "type": "string"
        }
      },
      "description": "Context of deployment being reviewed"
    },
    "is_public": {
      "type": "boolean",
      "default": true,
      "description": "Whether review is publicly visible"
    },
    "is_verified_deployment": {
      "type": "boolean",
      "default": false,
      "description": "Whether deployment is verified by platform"
    },
    "provider_response": {
      "type": "string",
      "description": "Provider's response to review"
    },
    "provider_responded_date": {
      "type": "string",
      "format": "date-time"
    },
    "helpful_count": {
      "type": "number",
      "default": 0,
      "description": "Number of users who found review helpful"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "solution_id",
    "reviewer_email",
    "overall_rating"
  ]
}
{
  "name": "EvaluationTemplate",
  "type": "object",
  "properties": {
    "entity_type": {
      "type": "string",
      "enum": [
        "challenge",
        "solution",
        "pilot",
        "rd_proposal",
        "rd_project",
        "program_application",
        "scaling_plan",
        "matchmaker_application",
        "citizen_idea",
        "innovation_proposal",
        "sandbox_application",
        "livinglab_project",
        "policy_recommendation"
      ],
      "description": "Type of entity this template applies to"
    },
    "evaluation_stage": {
      "type": "string",
      "enum": [
        "intake",
        "eligibility",
        "screening",
        "review",
        "verification",
        "readiness",
        "approval",
        "monitoring",
        "completion",
        "decision"
      ],
      "description": "Stage in workflow where this evaluation occurs"
    },
    "template_name_en": {
      "type": "string"
    },
    "template_name_ar": {
      "type": "string"
    },
    "description_en": {
      "type": "string"
    },
    "description_ar": {
      "type": "string"
    },
    "criteria_definitions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "criterion_name": {
            "type": "string"
          },
          "criterion_label_en": {
            "type": "string"
          },
          "criterion_label_ar": {
            "type": "string"
          },
          "data_type": {
            "type": "string",
            "enum": [
              "number",
              "boolean",
              "enum",
              "text",
              "object"
            ]
          },
          "scale_min": {
            "type": "number"
          },
          "scale_max": {
            "type": "number"
          },
          "enum_options": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "weight": {
            "type": "number",
            "description": "Weight in overall score calculation (0-1)"
          },
          "is_required": {
            "type": "boolean",
            "default": true
          },
          "help_text_en": {
            "type": "string"
          },
          "help_text_ar": {
            "type": "string"
          }
        }
      },
      "description": "Custom criteria for this stage"
    },
    "overall_calculation_method": {
      "type": "string",
      "enum": [
        "weighted_average",
        "sum",
        "custom"
      ],
      "default": "weighted_average",
      "description": "How to calculate overall score from criteria"
    },
    "pass_threshold": {
      "type": "number",
      "description": "Minimum score to pass this stage (0-100)"
    },
    "recommendations_config": {
      "type": "object",
      "properties": {
        "allowed_recommendations": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "auto_recommendation_rules": {
          "type": "array",
          "items": {
            "type": "object"
          }
        }
      }
    },
    "is_active": {
      "type": "boolean",
      "default": true
    },
    "version": {
      "type": "number",
      "default": 1
    },
    "created_by_system": {
      "type": "boolean",
      "default": false,
      "description": "System-generated vs admin-created"
    }
  },
  "required": [
    "entity_type",
    "evaluation_stage",
    "template_name_en",
    "criteria_definitions"
  ]
}
{
  "name": "StartupVerification",
  "type": "object",
  "properties": {
    "startup_profile_id": {
      "type": "string",
      "description": "Reference to StartupProfile"
    },
    "organization_id": {
      "type": "string",
      "description": "Reference to Organization"
    },
    "verifier_email": {
      "type": "string",
      "description": "Admin/verifier conducting verification"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "in_progress",
        "verified",
        "rejected",
        "requires_revision"
      ],
      "default": "pending"
    },
    "legal_verification": {
      "type": "object",
      "properties": {
        "cr_number_verified": {
          "type": "boolean"
        },
        "company_registered": {
          "type": "boolean"
        },
        "documents_valid": {
          "type": "boolean"
        },
        "legal_status": {
          "type": "string"
        }
      }
    },
    "financial_verification": {
      "type": "object",
      "properties": {
        "financial_statements_reviewed": {
          "type": "boolean"
        },
        "funding_verified": {
          "type": "boolean"
        },
        "financial_health_score": {
          "type": "number"
        }
      }
    },
    "team_verification": {
      "type": "object",
      "properties": {
        "founders_verified": {
          "type": "boolean"
        },
        "team_size_confirmed": {
          "type": "boolean"
        },
        "expertise_validated": {
          "type": "boolean"
        }
      }
    },
    "product_verification": {
      "type": "object",
      "properties": {
        "product_exists": {
          "type": "boolean"
        },
        "traction_verified": {
          "type": "boolean"
        },
        "references_checked": {
          "type": "boolean"
        }
      }
    },
    "overall_verification_score": {
      "type": "number",
      "description": "0-100 composite verification score"
    },
    "verification_notes": {
      "type": "string"
    },
    "risk_flags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "verification_date": {
      "type": "string",
      "format": "date-time"
    },
    "next_review_date": {
      "type": "string",
      "format": "date"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "startup_profile_id",
    "verifier_email"
  ]
}
{
  "name": "ProviderAward",
  "type": "object",
  "properties": {
    "award_name_en": {
      "type": "string"
    },
    "award_name_ar": {
      "type": "string"
    },
    "award_category": {
      "type": "string",
      "enum": [
        "deployment_champion",
        "innovation_leader",
        "scaling_excellence",
        "municipal_impact",
        "pilot_success",
        "multi_city_deployment"
      ],
      "description": "Award category"
    },
    "provider_id": {
      "type": "string",
      "description": "Reference to Organization or StartupProfile"
    },
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution if award is solution-specific"
    },
    "year": {
      "type": "number"
    },
    "quarter": {
      "type": "number",
      "description": "1-4 for quarterly awards"
    },
    "criteria_met": {
      "type": "object",
      "properties": {
        "deployments_count": {
          "type": "number"
        },
        "success_rate": {
          "type": "number"
        },
        "municipal_clients": {
          "type": "number"
        },
        "impact_score": {
          "type": "number"
        }
      }
    },
    "badge_icon_url": {
      "type": "string"
    },
    "certificate_url": {
      "type": "string"
    },
    "is_public": {
      "type": "boolean",
      "default": true
    },
    "awarded_by": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "award_name_en",
    "award_category",
    "provider_id",
    "year"
  ]
}
{
  "name": "SandboxCertification",
  "type": "object",
  "properties": {
    "sandbox_id": {
      "type": "string",
      "description": "Reference to Sandbox"
    },
    "solution_id": {
      "type": "string",
      "description": "Reference to Solution"
    },
    "project_id": {
      "type": "string",
      "description": "Reference to SandboxApplication or Pilot"
    },
    "certification_type": {
      "type": "string",
      "enum": [
        "safety_tested",
        "regulatory_compliant",
        "performance_validated",
        "full_certification"
      ],
      "description": "Type of certification"
    },
    "certification_date": {
      "type": "string",
      "format": "date"
    },
    "expiry_date": {
      "type": "string",
      "format": "date"
    },
    "test_results": {
      "type": "object",
      "description": "Test results and metrics"
    },
    "compliance_verified": {
      "type": "boolean",
      "default": false
    },
    "safety_verified": {
      "type": "boolean",
      "default": false
    },
    "performance_verified": {
      "type": "boolean",
      "default": false
    },
    "certificate_url": {
      "type": "string"
    },
    "issued_by": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "sandbox_id",
    "solution_id",
    "certification_type"
  ]
}
{
  "name": "ServicePerformance",
  "type": "object",
  "properties": {
    "service_id": {
      "type": "string",
      "description": "Reference to Service"
    },
    "municipality_id": {
      "type": "string",
      "description": "Reference to Municipality"
    },
    "period_start": {
      "type": "string",
      "format": "date"
    },
    "period_end": {
      "type": "string",
      "format": "date"
    },
    "usage_count": {
      "type": "number",
      "default": 0
    },
    "sla_compliance_rate": {
      "type": "number",
      "description": "Percentage SLA compliance (0-100)"
    },
    "avg_response_time_hours": {
      "type": "number"
    },
    "avg_resolution_time_hours": {
      "type": "number"
    },
    "citizen_satisfaction_score": {
      "type": "number",
      "description": "Average citizen rating (0-5)"
    },
    "challenge_count": {
      "type": "number",
      "default": 0,
      "description": "Challenges related to this service"
    },
    "resolved_challenge_count": {
      "type": "number",
      "default": 0
    },
    "quality_score": {
      "type": "number",
      "description": "Composite quality score (0-100)"
    },
    "trend": {
      "type": "string",
      "enum": [
        "improving",
        "stable",
        "declining"
      ]
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "service_id",
    "municipality_id",
    "period_start",
    "period_end"
  ]
}
{
  "name": "CitizenParticipant",
  "type": "object",
  "properties": {
    "living_lab_id": {
      "type": "string",
      "description": "Reference to LivingLab"
    },
    "project_id": {
      "type": "string",
      "description": "Reference to RDProject or research project"
    },
    "citizen_email": {
      "type": "string"
    },
    "citizen_name": {
      "type": "string"
    },
    "participation_type": {
      "type": "string",
      "enum": [
        "co_creator",
        "tester",
        "feedback_provider",
        "observer"
      ],
      "default": "feedback_provider"
    },
    "recruitment_date": {
      "type": "string",
      "format": "date"
    },
    "onboarding_completed": {
      "type": "boolean",
      "default": false
    },
    "onboarding_date": {
      "type": "string",
      "format": "date"
    },
    "sessions_attended": {
      "type": "number",
      "default": 0
    },
    "feedback_submitted": {
      "type": "number",
      "default": 0
    },
    "contribution_score": {
      "type": "number",
      "description": "Contribution quality score (0-100)"
    },
    "recognition_badges": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "compensation_amount": {
      "type": "number"
    },
    "consent_given": {
      "type": "boolean",
      "default": false
    },
    "status": {
      "type": "string",
      "enum": [
        "invited",
        "active",
        "completed",
        "withdrawn"
      ],
      "default": "invited"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "living_lab_id",
    "citizen_email"
  ]
}
{
  "name": "OrganizationVerification",
  "type": "object",
  "properties": {
    "organization_id": {
      "type": "string",
      "description": "Reference to Organization"
    },
    "verifier_email": {
      "type": "string",
      "description": "Admin/verifier conducting verification"
    },
    "verification_date": {
      "type": "string",
      "format": "date-time"
    },
    "legal_verified": {
      "type": "boolean",
      "default": false,
      "description": "Legal registration, licenses verified"
    },
    "financial_verified": {
      "type": "boolean",
      "default": false,
      "description": "Financial health, funding verified"
    },
    "operational_verified": {
      "type": "boolean",
      "default": false,
      "description": "Operational capacity verified"
    },
    "technical_verified": {
      "type": "boolean",
      "default": false,
      "description": "Technical capabilities verified"
    },
    "overall_status": {
      "type": "string",
      "enum": [
        "pending",
        "in_progress",
        "verified",
        "rejected",
        "revision_requested"
      ],
      "default": "pending"
    },
    "verification_score": {
      "type": "number",
      "description": "Composite verification score (0-100)"
    },
    "verification_notes": {
      "type": "string"
    },
    "risk_flags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "expiry_date": {
      "type": "string",
      "format": "date",
      "description": "When verification expires (annual re-verification)"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "organization_id",
    "verifier_email"
  ]
}
{
  "name": "CitizenDataCollection",
  "type": "object",
  "properties": {
    "living_lab_id": {
      "type": "string"
    },
    "project_id": {
      "type": "string"
    },
    "citizen_participant_id": {
      "type": "string"
    },
    "collection_date": {
      "type": "string",
      "format": "date-time"
    },
    "data_type": {
      "type": "string",
      "enum": [
        "survey",
        "interview",
        "observation",
        "sensor_data",
        "feedback",
        "co_creation_output"
      ]
    },
    "data_content": {
      "type": "object"
    },
    "quality_score": {
      "type": "number"
    },
    "consent_verified": {
      "type": "boolean",
      "default": false
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "living_lab_id",
    "citizen_participant_id",
    "data_type"
  ]
}
{
  "name": "LabSolutionCertification",
  "type": "object",
  "properties": {
    "living_lab_id": {
      "type": "string"
    },
    "solution_id": {
      "type": "string"
    },
    "certification_type": {
      "type": "string",
      "enum": [
        "citizen_tested",
        "research_validated",
        "co_created",
        "full_certification"
      ]
    },
    "certification_date": {
      "type": "string",
      "format": "date"
    },
    "citizen_participants_count": {
      "type": "number"
    },
    "citizen_satisfaction_score": {
      "type": "number"
    },
    "research_findings": {
      "type": "string"
    },
    "certificate_url": {
      "type": "string"
    },
    "issued_by": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "living_lab_id",
    "solution_id",
    "certification_type"
  ]
}
{
  "name": "OrganizationPerformanceReview",
  "type": "object",
  "properties": {
    "organization_id": {
      "type": "string"
    },
    "reviewer_email": {
      "type": "string"
    },
    "review_period_start": {
      "type": "string",
      "format": "date"
    },
    "review_period_end": {
      "type": "string",
      "format": "date"
    },
    "pilot_success_rate": {
      "type": "number",
      "description": "Percentage of successful pilots (0-100)"
    },
    "delivery_quality_score": {
      "type": "number",
      "description": "Quality of deliverables (0-100)"
    },
    "collaboration_score": {
      "type": "number",
      "description": "Partnership effectiveness (0-100)"
    },
    "innovation_score": {
      "type": "number",
      "description": "Innovation contribution (0-100)"
    },
    "compliance_score": {
      "type": "number",
      "description": "Regulatory compliance (0-100)"
    },
    "overall_rating": {
      "type": "number",
      "description": "Weighted average (0-100)"
    },
    "strengths": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "areas_for_improvement": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "review_notes": {
      "type": "string"
    },
    "review_date": {
      "type": "string",
      "format": "date-time"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "organization_id",
    "reviewer_email",
    "review_period_start",
    "review_period_end"
  ]
}
{
  "name": "TaxonomyVersion",
  "type": "object",
  "properties": {
    "version_number": {
      "type": "string",
      "description": "Semantic version (e.g., 1.0.0)"
    },
    "taxonomy_snapshot": {
      "type": "object",
      "description": "Complete taxonomy at this version"
    },
    "effective_date": {
      "type": "string",
      "format": "date"
    },
    "approved_by": {
      "type": "string"
    },
    "approval_date": {
      "type": "string",
      "format": "date-time"
    },
    "changelog": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "change_type": {
            "type": "string",
            "enum": [
              "added",
              "modified",
              "deprecated"
            ]
          },
          "entity_type": {
            "type": "string",
            "enum": [
              "sector",
              "subsector",
              "service"
            ]
          },
          "entity_id": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        }
      }
    },
    "sectors_count": {
      "type": "number"
    },
    "subsectors_count": {
      "type": "number"
    },
    "services_count": {
      "type": "number"
    },
    "is_active": {
      "type": "boolean",
      "default": false,
      "description": "Current active version"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "version_number",
    "effective_date",
    "approved_by"
  ]
}
{
  "name": "SandboxExitEvaluation",
  "type": "object",
  "properties": {
    "sandbox_application_id": {
      "type": "string"
    },
    "evaluator_email": {
      "type": "string"
    },
    "exit_date": {
      "type": "string",
      "format": "date-time"
    },
    "success_criteria_met": {
      "type": "boolean"
    },
    "safety_incidents_count": {
      "type": "number",
      "default": 0
    },
    "compliance_maintained": {
      "type": "boolean"
    },
    "readiness_for_deployment": {
      "type": "string",
      "enum": [
        "ready",
        "needs_iteration",
        "not_ready"
      ],
      "description": "Deployment readiness"
    },
    "lessons_learned": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "regulatory_recommendations": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "certification_recommended": {
      "type": "boolean"
    },
    "overall_score": {
      "type": "number"
    },
    "exit_notes": {
      "type": "string"
    },
    "is_deleted": {
      "type": "boolean",
      "default": false
    },
    "deleted_date": {
      "type": "string",
      "format": "date-time"
    },
    "deleted_by": {
      "type": "string"
    }
  },
  "required": [
    "sandbox_application_id",
    "evaluator_email"
  ]
}
